window.__require=function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({ALabelFixed:[function(e,t,o){"use strict";cc._RF.push(t,"acb0eupASxMiYQKT5K3zgSR","ALabelFixed");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,a=cc._decorator,s=a.ccclass,c=a.property;(function(e){e[e.NONE=0]="NONE",e[e.WIDTH=1]="WIDTH",e[e.BYTE=2]="BYTE"})(i||(i={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fixedType=i.NONE,t.fixedValue=10,t.fixedString="...",t.aLabel="",t.oldLabel="",t}return n(t,e),Object.defineProperty(t.prototype,"_string",{get:function(){return this.aLabel},set:function(e){this.aLabel=e,this.refreshView()},enumerable:!1,configurable:!0}),t.prototype.refreshView=function(){if(!this.isRefresh&&this.node){this.isRefresh=!0;var e=this.oldLabel=this.aLabel;switch(this.fixedType){case i.WIDTH:this.fixedValue<this.fontSize&&(this.fixedValue=this.fontSize),this._forceUpdateRenderData(),this.node.width>this.fixedValue&&this.labelWidth(e);break;case i.BYTE:this.fixedValue<2&&(this.fixedValue=2),this.getLabelByteLength(e)>this.fixedValue&&this.labelByte(e)}this.isRefresh=!1}},t.prototype.labelWidth=function(e){for(var t,o=e.length-1;o>0;o--)if(t=e.substr(0,o),this.string=t,this._forceUpdateRenderData(),this.node.width<this.fixedValue)return void(this.string=t+this.fixedString)},t.prototype.labelByte=function(e){for(var t,o=e.length-1;o>0;o--)if(t=e.substr(0,o),this.getLabelByteLength(t)<=this.fixedValue)return void(this.string=t+this.fixedString)},t.prototype.getLabelByteLength=function(e,t){return void 0===t&&(t="**"),e.replace(/[^\x00-\xff]/g,t).length},r([c({type:cc.Enum(i),serializable:!0,displayName:"\u6587\u672c\u56fa\u5b9a\u7c7b\u578b",tooltip:"WIDTH\u56fa\u5b9a\u5bbd\u5ea6\nBYTE\u56fa\u5b9a\u5b57\u8282\u957f\u5ea6  \u82f1\u65871\u4e2a\u5b57\u8282,\u4e2d\u6587\uff08\u6807\u70b9\u7b26\u53f7\uff092\u4e2a\u5b57\u8282  "})],t.prototype,"fixedType",void 0),r([c({serializable:!0,displayName:"\u6587\u672c\u56fa\u5b9a\u503c"})],t.prototype,"fixedValue",void 0),r([c({serializable:!0,displayName:"\u6587\u672c\u8d85\u51fa\u66ff\u6362\u503c ...",tooltip:"\u8d85\u51fa\u957f\u5ea6\u7684\u66ff\u6362\u503c 123456   123..."})],t.prototype,"fixedString",void 0),t=r([s],t)}(cc.Label);o.default=u,cc._RF.pop()},{}],AdaptationManager:[function(e,t,o){"use strict";cc._RF.push(t,"85dbc+t2z1IyZS34HJXO+1/","AdaptationManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AdaptationType=void 0;var i,a=e("./config/SysDefine"),s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.getInstance=function(){var e=this;return null==this._Instance&&(this._Instance=cc.find(a.SysDefine.SYS_UIAdaptation_NAME).addComponent(this),cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){e._Instance=null})),this._Instance},t.prototype.onLoad=function(){this.visibleSize=cc.view.getVisibleSize(),cc.log("\u5f53\u524d\u5c4f\u5e55\u5c3a\u5bf8\u4e3a"+this.visibleSize)},t.prototype.start=function(){},t.prototype.adaptationFormByType=function(e,t,o){var n=t.getComponent(cc.Widget);switch(n||(n=t.addComponent(cc.Widget)),e){case i.Top:if(cc.sys.platform===cc.sys.WECHAT_GAME){var r=window.wx.getMenuButtonBoundingClientRect(),a=window.wx.getSystemInfoSync();o=cc.find("Canvas").height*(r.top/a.screenHeight)}n.top=o||0,n.isAbsoluteTop=!0,n.isAlignTop=!0;break;case i.Bottom:n.bottom=o||0,n.isAbsoluteBottom=!0,n.isAlignBottom=!0;break;case i.Left:n.left=o||0,n.isAbsoluteLeft=!0,n.isAlignLeft=!0;break;case i.Right:n.right=o||0,n.isAbsoluteRight=!0,n.isAlignRight=!0}n.target=cc.find("Canvas"),n.updateAlignment()},t.prototype.removeAdaptationToForm=function(e){e.getComponent(cc.Widget)&&e.removeComponent(cc.Widget)},t._Instance=null,t=r([c],t)}(cc.Component));o.default=u,function(e){e[e.Top=1]="Top",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Right=4]="Right"}(i=o.AdaptationType||(o.AdaptationType={})),cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],AddScoreUI:[function(e,t,o){"use strict";cc._RF.push(t,"efb028pHJlD+JgCw8/lFie7","AddScoreUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../sound/MusicConst"),l=e("../../MXInterFace/InterFaceManager"),p=e("../../MXInterFace/PlatformManager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.PopUp,a.UIFormShowMode.HideOther,a.UIFormLucenyType.Translucence),t.tips=null,t.score=0,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShow=function(){this.score=Math.floor(l.add_score_number*c.default.PlatformManager.score),this.tips.string="Watch a video to jump your score form  <color=#00ff00>"+c.default.PlatformManager.score+"</color>  to <color=#00ff00><size = 70>"+this.score+"</>"},t.prototype.watchAd=function(){c.default.SoundManager.playEffect(u.MusicConst.button),c.default.PlatformManager.showAd(p.Watch_Type.Addrevice,this.addscore,this,this.exit,this,!0)},t.prototype.exit=function(){this.closeUIForm(),c.default.PlatformManager.gameEnd()},t.prototype.addscore=function(){this.closeUIForm(),c.default.PlatformManager.gameAddScoreEnd()},t.prototype.onDestroy=function(){},r([h(cc.RichText)],t.prototype,"tips",void 0),t=r([f],t)}(i.default);o.default=y,cc._RF.pop()},{"../../App":"App","../../MXInterFace/InterFaceManager":"InterFaceManager","../../MXInterFace/PlatformManager":"PlatformManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst"}],AdsterraAD:[function(e,t,o){"use strict";var n;cc._RF.push(t,"d962c6//jJHjYk0C2VKpgRh","AdsterraAD"),Object.defineProperty(o,"__esModule",{value:!0}),o.AdsterraAD=void 0,function(e){e.upBannerConfig={adKey:"8b2f6d8ca3e990f2d5e5571c188efa58",width:300,height:250,top:74,bottom:void 0};var t={adKey:"85af6347316e5f4041b6d0e8c6c58ca9",width:320,height:50,top:void 0,bottom:0};-1!==location.href.indexOf("ec2-52-66-103-170")?(e.upBannerConfig.adKey="5cf76f3b0429fa827cfc80c8fff61224",t.adKey="1a0181ddd526e23bcd66888a3bd9849b"):-1!==location.href.indexOf("localhost")||(e.upBannerConfig.adKey="d9dabc6b2cc1c70696d479fbe8cd96ec",t.adKey="4b9e3236a98ead3a78641dccafd62217"),e.show_UpBannerAD=function(){i?i.style.visibility="visible":(i=s(e.upBannerConfig.adKey,e.upBannerConfig.width,e.upBannerConfig.height,e.upBannerConfig.top,e.upBannerConfig.bottom),n=0)},e.hide_UpBannerAD=function(){i&&(i.style.visibility="hidden")},e.show_BottomBannerAD=function(){a?a.style.visibility="visible":(a=s(t.adKey,t.width,t.height,t.top,t.bottom),r=0)},e.hide_BottomBannerAD=function(){a&&(a.style.visibility="hidden")};var o=20,n=null,r=null,i=null,a=null;function s(e,t,o,n,r){var i=document.createElement("div");i.style.position="absolute",i.style.display="inline",i.style.zIndex="999999",void 0!==n&&(i.style.top=n/cc.view.getVisibleSize().height*window.innerHeight+"px"),cc.view.getFrameSize(),void 0!==r&&(i.style.bottom=r/cc.view.getVisibleSize().height*window.innerHeight+"px"),i.style.width="100%",i.style.height=o+"px",i.id="adcontainer-"+e,document.body.appendChild(i);var a=c('atOptions = {"key": \''+e+'\',"format": "iframe","height": '+o+',"width": '+t+',"params": {}}');return i.appendChild(a),u("http"+("https:"===location.protocol?"s":"")+"://www.effectivedisplayformats.com/"+e+"/invoke.js",i),i}function c(e){var t=document.createElement("script");t.type="text/javascript";try{t.appendChild(document.createTextNode(e))}catch(o){t.text=e}return t}function u(e,t,o){var n=document.createElement("script");return n.type="text/javascript",n.src=e,"function"==typeof o&&(n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o(),n.onload=n.onreadystatechange=null)}),t.appendChild(n),n}e.interval=function(){if(null!==n&&++n>=o){var c=null;i&&(c=i.style.visibility),i&&i.parentElement.removeChild(i),i=s(e.upBannerConfig.adKey,e.upBannerConfig.width,e.upBannerConfig.height,e.upBannerConfig.top,e.upBannerConfig.bottom),n=0,c&&(i.style.visibility=c)}null!==r&&++r>=o&&(c=null,a&&(c=a.style.visibility),a&&a.parentElement.removeChild(a),a=s(t.adKey,t.width,t.height,t.top,t.bottom),r=0,c&&(a.style.visibility=c))}}(n=o.AdsterraAD||(o.AdsterraAD={}));setInterval(n.interval,1e3);cc._RF.pop()},{}],App:[function(e,t,o){"use strict";cc._RF.push(t,"49535g3kBFM4aZhQ0EbK3qB","App"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./utils/DebugUtils"),r=e("./utils/MessageCenter"),i=e("./utils/DateUtils"),a=e("./utils/CommonUtils"),s=e("./utils/DeviceUtils"),c=e("./utils/KeyboardUtils"),u=e("./utils/TimerManager"),l=e("./utils/MathUtils"),p=e("./utils/RandomUtils"),d=e("./utils/StringUtils"),f=e("./utils/DelayOptManager"),h=e("./sound/SoundManager"),y=e("./UIFrame/UIManager"),m=e("./UIFrame/UIIndependentManager"),g=e("./game/BlockManager"),_=e("./game/GuideManager"),v=e("./MXInterFace/PlatformManager"),b=e("./Taktak/TaktakReport"),w=e("./Telegram/TelegramManager"),I=function(){function e(){}return Object.defineProperty(e,"DebugUtils",{get:function(){return n.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MessageCenter",{get:function(){return r.default.getSingtonInstance(1)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TimerManager",{get:function(){return u.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DateUtils",{get:function(){return i.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MathUtils",{get:function(){return l.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RandomUtils",{get:function(){return p.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"StringUtils",{get:function(){return d.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CommonUtils",{get:function(){return a.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SoundManager",{get:function(){return h.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DeviceUtils",{get:function(){return s.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"KeyboardUtils",{get:function(){return c.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NotificationCenter",{get:function(){return null==e._notificationCenter&&(e._notificationCenter=new r.default(0)),e._notificationCenter},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DelayOptManager",{get:function(){return f.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"BlockManager",{get:function(){return g.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"GuideManager",{get:function(){return _.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UIManager",{get:function(){return y.default.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PlatformManager",{get:function(){return v.default.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UIIndependentManager",{get:function(){return m.default.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TaktakReport",{get:function(){return b.TaktakReport.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TelegramManager",{get:function(){return w.default.getSingtonInstance()},enumerable:!1,configurable:!0}),e.Init=function(){e.PlatformManager.init(s.DeviceType.android),e.DebugUtils.isOpen(!1),e.DebugUtils.setThreshold(3)},e.GameManager=null,e}();o.default=I,cc._RF.pop()},{"./MXInterFace/PlatformManager":"PlatformManager","./Taktak/TaktakReport":"TaktakReport","./Telegram/TelegramManager":"TelegramManager","./UIFrame/UIIndependentManager":"UIIndependentManager","./UIFrame/UIManager":"UIManager","./game/BlockManager":"BlockManager","./game/GuideManager":"GuideManager","./sound/SoundManager":"SoundManager","./utils/CommonUtils":"CommonUtils","./utils/DateUtils":"DateUtils","./utils/DebugUtils":"DebugUtils","./utils/DelayOptManager":"DelayOptManager","./utils/DeviceUtils":"DeviceUtils","./utils/KeyboardUtils":"KeyboardUtils","./utils/MathUtils":"MathUtils","./utils/MessageCenter":"MessageCenter","./utils/RandomUtils":"RandomUtils","./utils/StringUtils":"StringUtils","./utils/TimerManager":"TimerManager"}],AverageUtils:[function(e,t,o){"use strict";cc._RF.push(t,"b2994MbpzlPRKQBpui2rA4u","AverageUtils");(function(){function e(e){void 0===e&&(e=10),this.nums=[],this.numsLen=0,this.numSum=0,this.maxNum=e}e.prototype.push=function(e){this.numsLen>this.maxNum&&(this.numsLen--,this.numSum-=this.nums.shift()),this.nums.push(e),this.numSum+=e,this.numsLen++},e.prototype.getValue=function(){return this.numSum/this.numsLen},e.prototype.clear=function(){this.nums.splice(0),this.numsLen=0,this.numSum=0}})();cc._RF.pop()},{}],BackgroundAdapter:[function(e,t,o){"use strict";cc._RF.push(t,"c9395A23IBAn5BEQV28rsN+","BackgroundAdapter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,o=this.node.height*e;this.node.scale=Math.max(cc.view.getCanvasSize().width/t,cc.view.getCanvasSize().height/o)},t=r([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],BaseSound:[function(e,t,o){"use strict";cc._RF.push(t,"bcc1ao3d2hMlqRe9b+nKGxm","BaseSound"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./SoundManager"),r=function(){function e(e,t){this._loaded=!1,this._audioSource=new cc.AudioSource,this._path="",this._path=e,this._musicType=t}return e.prototype.loadRes=function(e){var t=this;this._loaded||cc.loader.loadRes(this._path,cc.AudioClip,function(o,n){o?console.warn("\u97f3\u9891\u8d44\u6e90\u52a0\u8f7d\u51fa\u9519:",t._path):(t._audioSource.clip=n,t._loaded=!0,e&&e())})},e.prototype.play=function(e){var t=this;this._isStop=!1,this._loaded?(this._audioSource.loop=e,this._musicType==n.MusicType.MUSIC?cc.audioEngine.playMusic(this._audioSource.clip,e):this._musicType==n.MusicType.SOUND&&cc.audioEngine.playEffect(this._audioSource.clip,e)):this.loadRes(function(){t._isStop||t.play(e)})},e.prototype.isPlaying=function(){return this._audioSource.isPlaying},e.prototype.stop=function(){this._isStop=!0,this._loaded&&this._musicType==n.MusicType.MUSIC&&cc.audioEngine.stopMusic()},e.prototype.pause=function(){this._loaded&&this._musicType==n.MusicType.MUSIC&&cc.audioEngine.pauseMusic()},e.prototype.resume=function(){this._loaded&&this._musicType==n.MusicType.MUSIC&&cc.audioEngine.resumeMusic()},e.prototype.destroy=function(){this._audioSource.stop(),this._audioSource=null},Object.defineProperty(e.prototype,"volume",{set:function(e){this._audioSource.volume=e},enumerable:!1,configurable:!0}),e}();o.default=r,cc._RF.pop()},{"./SoundManager":"SoundManager"}],BaseUIBinder:[function(e,t,o){"use strict";cc._RF.push(t,"05318gzJaZDkqI434z5QZL9","BaseUIBinder");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./UIHelper"),a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._Nodes={},t._Labels={},t._Buttons={},t._Sprites={},t._RichTexts={},t._MotionStreaks={},t._Graphicss={},t._EditBoxs={},t._ScrollViews={},t._ProgressBars={},t._Sliders={},t}return n(t,e),t.prototype.__preInit=function(){i.default.getInstance().bindComponent(this)},t.prototype.start=function(){},t=r([s],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./UIHelper":"UIHelper"}],BaseUIForm:[function(e,t,o){"use strict";cc._RF.push(t,"1b13ey37BVHGaBYmH+DFR5S","BaseUIForm");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./UIManager"),c=e("./config/SysDefine"),u=e("./UIMaskManager"),l=e("./GEventManager"),p=e("./BaseUIView"),d=e("./UIIndependentManager"),f=e("./FormType"),h=cc._decorator,y=h.ccclass,m=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new f.UIType,t.MaskType=new f.MaskType,t.CloseAndDestory=!1,t.view=null,t}return n(t,e),t.prototype.__preInit=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.view||(this.view=this.getComponent(p.default),this.view&&this.view._preInit()),this.init(e),[4,this.load()];case 1:return t.sent(),this.UIType.UIForms_Type!=c.UIFormType.Independent&&d.default.getInstance().hideLoadingForm(),[2]}})})},t.prototype.init=function(e){},t.prototype.load=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return[2]})})},t.prototype.onShow=function(){},t.prototype.disPlay=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.node.active=!0,this.onShow(),this.showOpacityAnimation(),this.UIType.UIForms_Type!=c.UIFormType.PopUp?[3,2]:(u.default.getInstance().addMaskWindow(this.node),[4,this.showPopUpAnimation()]);case 1:e.sent(),u.default.getInstance().showMask(this.UIType.UIForm_LucencyType,this.MaskType.IsEasing,this.MaskType.EasingTime),e.label=2;case 2:return[2]}})})},t.prototype.hide=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.UIType.UIForms_Type==c.UIFormType.PopUp&&u.default.getInstance().removeMaskWindow(this.node),[4,this.hidePopUpAnimation()];case 1:return e.sent(),this.node.active=!1,[2]}})})},t.prototype.reDisPlay=function(){this.node.active=!0,this.UIType.UIForms_Type,c.UIFormType.PopUp},t.prototype.freeze=function(){this.UIType.UIForms_Type,c.UIFormType.PopUp},t.prototype.showUIForm=function(e,t){s.default.getInstance().showUIForm(e,t)},t.prototype.closeUIForm=function(){s.default.getInstance().closeUIForm(this.UIFormName)},t.prototype.showOpacityAnimation=function(){cc.tween(this.node).set({opacity:0}).to(.2,{opacity:255}).start()},t.prototype.showPopUpAnimation=function(){return i(this,void 0,void 0,function(){var e=this;return a(this,function(t){return[2,new Promise(function(t,o){cc.tween(e.node).set({scale:.7}).to(.4,{scale:1},{easing:cc.easing.backOut}).call(t(!0)).start()})]})})},t.prototype.hidePopUpAnimation=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return[2]})})},t.prototype.sendMessage=function(e,t){l.default.emit(e,t)},t.prototype.receiveMessage=function(e,t,o){l.default.on(e,t,o)},t.prototype.addClick=function(e,t){e&&e.on(cc.Node.EventType.TOUCH_END,t,this)},t.prototype.removeClick=function(e,t){e&&e.off(cc.Node.EventType.TOUCH_END,t,this)},t.prototype.setLabel=function(e,t){e&&(e.string=t)},t.prototype.setActive=function(e,t){e&&(e.active=t)},t=r([y],t)}(cc.Component));o.default=m,cc._RF.pop()},{"./BaseUIView":"BaseUIView","./FormType":"FormType","./GEventManager":"GEventManager","./UIIndependentManager":"UIIndependentManager","./UIManager":"UIManager","./UIMaskManager":"UIMaskManager","./config/SysDefine":"SysDefine"}],BaseUIView:[function(e,t,o){"use strict";cc._RF.push(t,"d20da3jRrBM2ZFbSPQismJN","BaseUIView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./BaseUIBinder"),a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.called=!1,t}return n(t,e),t.prototype._preInit=function(){this.called||e.prototype.__preInit.call(this)},t=r([s],t)}(i.default));o.default=c,cc._RF.pop()},{"./BaseUIBinder":"BaseUIBinder"}],BlockData:[function(e,t,o){"use strict";cc._RF.push(t,"0ca5aZJI4pKYKcvGONItSPt","BlockData"),Object.defineProperty(o,"__esModule",{value:!0}),o.TileDefaultData=o.MaxRowAndCol=o.BlockDistance=o.BlockSize=o.BlockColor=o.BlockData=o.rotate90=o.rotate=o.BlockData27=o.BlockData26=o.BlockData25=o.BlockData24=o.BlockData23=o.BlockData22=o.BlockData21=o.BlockData20=o.BlockData19=o.BlockData18=o.BlockData17=o.BlockData16=o.BlockData15=o.BlockData14=o.BlockData13=o.BlockData12=o.BlockData11=o.BlockData10=o.BlockData9=o.BlockData8=o.BlockData7=o.BlockData6=o.BlockData5=o.BlockData4=o.BlockData3=o.BlockData2=o.BlockData1=void 0,o.BlockData1=[[1,1,1],[0,0,1],[0,0,1]],o.BlockData2=[[0,0,1],[0,0,1],[1,1,1]],o.BlockData3=[[1,0,0],[1,0,0],[1,1,1]],o.BlockData4=[[1,1,1],[1,0,0],[1,0,0]],o.BlockData5=[[1,1],[1,0]],o.BlockData6=[[1,1],[0,1]],o.BlockData7=[[0,1],[1,1]],o.BlockData8=[[1,0],[1,1]],o.BlockData9=[[1,1,1,1]],o.BlockData10=[[1],[1],[1],[1]],o.BlockData11=[[1,1,1]],o.BlockData12=[[1],[1],[1]],o.BlockData13=[[1,1]],o.BlockData14=[[1],[1]],o.BlockData15=[[1,1],[1,1]],o.BlockData16=[[1]],o.BlockData17=[[1,0,0],[1,1,1]],o.BlockData18=[[1,1],[1,0],[1,0]],o.BlockData19=[[1,1,1],[0,0,1]],o.BlockData20=[[0,1],[0,1],[1,1]],o.BlockData21=[[0,1,0],[1,1,1]],o.BlockData22=[[1,0],[1,1],[1,0]],o.BlockData23=[[1,1,1],[0,1,0]],o.BlockData24=[[0,1],[1,1],[0,1]],o.BlockData25=[[1,1,0],[0,1,1]],o.BlockData26=[[0,1],[1,1],[1,0]],o.BlockData27=[[1,1,1],[1,1,1],[1,1,1]],o.rotate=function(e){for(var t=e.length,o=e[0].length,n=[],r=0,i=t-1;r<t;r++,i--)for(var a=0;a<o;a++){var s=e[r][a];n[a]||(n[a]=[]),n[a][i]=s,console.log(r,a,"-",a,i)}return n},o.rotate90=function(e){for(var t=e.length,o=e[0].length,n=[],r=0;r<t;r++)for(var i=0,a=o-1;i<o;i++,a--){var s=e[r][i];n[a]||(n[a]=[]),n[a][r]=s}return n},o.BlockData=[o.BlockData1,o.BlockData2,o.BlockData3,o.BlockData4,o.BlockData5,o.BlockData6,o.BlockData7,o.BlockData8,o.BlockData9,o.BlockData10,o.BlockData11,o.BlockData12,o.BlockData13,o.BlockData14,o.BlockData15,o.BlockData16,o.BlockData17,o.BlockData18,o.BlockData19,o.BlockData20,o.BlockData21,o.BlockData22,o.BlockData23,o.BlockData24,o.BlockData25,o.BlockData26,o.BlockData27],function(e){e[e.Null=0]="Null",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight"}(o.BlockColor||(o.BlockColor={})),o.BlockSize=cc.size(128,128),o.BlockDistance=cc.size(128,128),o.MaxRowAndCol=8,o.TileDefaultData=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],cc._RF.pop()},{}],BlockManager:[function(e,t,o){"use strict";cc._RF.push(t,"e7d28jxRwhPw7oESaC3HdSd","BlockManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SingtonClass"),i=e("../App"),a=e("../utils/DebugUtils"),s=e("./gameConst/BlockData"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseArr=[[1,2,3,4],[5,6,7,8],[17,18,19,20],[21,22,23,24],[9,10],[11,12],[13,14],[25,26],[15],[16],[27]],t.level=0,t.blockTypeArr=[],t.levelGroup=[[4,6,2,0,4,4,3,2,2,3,0],[5,4,3,1,4,4,2,2,2,2,1],[6,2,4,2,4,4,1,2,2,1,2]],t._color=null,t}return n(t,e),t.prototype.resetLevel=function(){this.level=0,this.blockTypeArr=[]},Object.defineProperty(t.prototype,"getBlockType",{get:function(){return 0==this.blockTypeArr.length&&this.initBlockData(),this.blockTypeArr.shift()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getRandomColor",{get:function(){return this._color||(this._color=i.default.RandomUtils.limitInteger(s.BlockColor.One,s.BlockColor.Eight)),this._color++,this._color>s.BlockColor.Eight&&(this._color=s.BlockColor.One),this._color},enumerable:!1,configurable:!0}),t.prototype.initBlockData=function(){var e=this,t=this.levelGroup.length-1,o=this.level>=t?t:this.level;this.level++,this.levelGroup[o].forEach(function(t,o){for(var n=e.baseArr[o],r=0;r<t;r++){var a=i.default.RandomUtils.randomArray(n);e.blockTypeArr.push(a)}}),a.log("\u5f53\u524d\u9636\u6bb5",this.level),a.log("\u521d\u59cb\u5316",this.blockTypeArr),this.blockTypeArr=i.default.RandomUtils.shuffle(this.blockTypeArr),a.log("\u6253\u4e71",this.blockTypeArr)},t}(r.default);o.default=c,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass","../utils/DebugUtils":"DebugUtils","./gameConst/BlockData":"BlockData"}],Block:[function(e,t,o){"use strict";cc._RF.push(t,"0c8d0p73DtDBpH39xMKaB9Q","Block");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./../gameConst/BlockData"),c=e("../../utils/DebugUtils"),u=e("../../App"),l=e("../gameConst/BlockData"),p=e("../../sound/MusicConst"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteAtlas=null,t.group=null,t.initScale=.6,t.blockShowTime=.2,t.putDownTime=.15,t.putDownScale=1.2,t.putDownScaleTime=.1,t.scaleTime=.2,t.moveScale=.9,t.resetTime=.2,t.maxRow=0,t.maxCol=0,t.data=[],t.color=l.BlockColor.One,t.isUse=!1,t.canPutDow=!0,t.fristNode=null,t}return n(t,e),t.prototype.onLoad=function(){this.node.scale=0},t.prototype.reset=function(){this.isUse=!1,this.canPutDow=!0,this.node.setPosition(0,0)},t.prototype.initData=function(){this.reset(),cc.tween(this.node).to(this.blockShowTime,{scale:this.initScale}).start();var e=u.default.BlockManager.getBlockType,t=s.BlockData[e-1],o=u.default.BlockManager.getRandomColor;this.setData(t,o)},t.prototype.initGuideData=function(e){if(e){this.reset(),cc.tween(this.node).to(this.blockShowTime,{scale:this.initScale}).start();var t=u.default.BlockManager.getRandomColor;this.setData(e,t)}else this.hide()},t.prototype.setData=function(e,t){var o=this;this.data=e,this.color=t,this.fristNode=null,this.group.removeAllChildren(),this.maxRow=e.length,this.maxCol=e[0].length,this.group.width=s.BlockDistance.width*this.maxCol,this.group.height=s.BlockDistance.height*this.maxRow,c.log("data",e,this.group.width,this.group.height),e.forEach(function(e,t){e.forEach(function(e,t){o.createNodeByNum(e)})})},t.prototype.createNodeByNum=function(e){var t=new cc.Node;if(null==this.fristNode&&(this.fristNode=t),e){var o=t.addComponent(cc.Sprite);o.spriteFrame=this.spriteAtlas.getSpriteFrame("block0"+this.color),o.sizeMode=cc.Sprite.SizeMode.CUSTOM}t.width=s.BlockSize.width,t.height=s.BlockSize.height,this.group.addChild(t)},t.prototype.resetAni=function(){u.default.SoundManager.playEffect(p.MusicConst.reset),cc.tween(this.node).to(this.resetTime,{scale:this.initScale,position:cc.v2()}).start()},t.prototype.touchMoveAni=function(){cc.Tween.stopAllByTarget(this.node),this.node.scale!=this.moveScale&&(this.node.scale=this.moveScale)},t.prototype.touchStartAni=function(e){cc.tween(this.node).to(this.scaleTime,{scale:this.moveScale,position:e}).start()},t.prototype.toTopLeftPos=function(e){return cc.v2(e.x+this.fristNode.x,e.y+this.fristNode.y)},t.prototype.toMidPos=function(e){return cc.v2(e.x-this.fristNode.x,e.y-this.fristNode.y)},t.prototype.putDown=function(e,t){return i(this,void 0,void 0,function(){var o=this;return a(this,function(n){return[2,new Promise(function(n,r){cc.tween(o.node).to(o.putDownTime,{position:e,scale:o.putDownScale}).to(o.putDownScaleTime,{scale:1}).call(function(){t&&t(),u.default.SoundManager.playEffect(p.MusicConst.putdown),o.hide(),n(!0)}).start()})]})})},t.prototype.showGray=function(){this.canPutDow=!1,this.group.children.forEach(function(e){e.color=cc.Color.GRAY})},t.prototype.showNormal=function(){this.canPutDow=!0,this.group.children.forEach(function(e){e.color=cc.Color.WHITE})},t.prototype.hide=function(){this.node.setPosition(0,0),this.node.scale=0,this.isUse=!0},t.prototype.rotate=function(){var e=s.rotate90(this.data);c.log("rotate",this.data,e),this.setData(e,this.color)},t.offsetY=200,r([h(cc.SpriteAtlas)],t.prototype,"spriteAtlas",void 0),r([h(cc.Node)],t.prototype,"group",void 0),r([h(cc.Float)],t.prototype,"initScale",void 0),r([h({displayName:"\u65b9\u5757\u51fa\u73b0\u65f6\u95f4"})],t.prototype,"blockShowTime",void 0),r([h({type:cc.Float,displayName:"\u653e\u7f6e\u65b9\u5757\u7684\u65f6\u95f4"})],t.prototype,"putDownTime",void 0),r([h({displayName:"\u7816\u5757\u653e\u4e0b\u7684\u500d\u6570"})],t.prototype,"putDownScale",void 0),r([h({displayName:"\u7f29\u653e\u5230\u6b63\u5e38\u500d\u6570\u5230\u65f6\u95f4"})],t.prototype,"putDownScaleTime",void 0),r([h({type:cc.Float,displayName:"\u70b9\u51fb\u653e\u5927\u7684\u65f6\u95f4"})],t.prototype,"scaleTime",void 0),r([h({type:cc.Float,displayName:"\u70b9\u51fb\u653e\u5927\u500d\u6570"})],t.prototype,"moveScale",void 0),r([h({type:cc.Float,displayName:"\u56de\u5230\u521d\u59cb\u4f4d\u7f6e\u65f6\u95f4"})],t.prototype,"resetTime",void 0),t=r([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../App":"App","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/BlockData":"BlockData","./../gameConst/BlockData":"BlockData"}],CWebSocket:[function(e,t,o){"use strict";cc._RF.push(t,"65ab688uJhB5bMfNapdpRC2","CWebSocket"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.ws=null,this.onConnect=null,this.onMessage=null,this.onError=null,this.onClose=null}return e.prototype.connect=function(e){var t=this;if(this.ws&&this.ws.readyState===WebSocket.CONNECTING)return cc.log("\u5df2\u7ecf\u8fde\u63a5\u4e0a\u7f51\u7edc, \u91cd\u65b0\u8fde\u63a5\u524d\u8bf7\u5148\u8c03\u7528close\u65b9\u6cd5!"),!1;var o="";return o="string"==typeof e?e:e.protocol+"://"+e.ip+":"+e.port,this.ws=new WebSocket(o),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onConnect,this.ws.onmessage=function(e){t.onMessage(e.data)},this.ws.onclose=this.onClose,this.ws.onerror=this.onError,!0},e.prototype.send=function(e){return this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify(e)),!0):(cc.log("\u7f51\u7edc\u8fde\u63a5\u5df2\u5173\u95ed, \u65e0\u6cd5\u53d1\u9001\u6d88\u606f"),!1)},e.prototype.close=function(){return this.ws&&this.ws.readyState!==WebSocket.CLOSED&&(this.ws.close(),this.ws=null),!0},e}();o.default=n,cc._RF.pop()},{}],CircleAvatar:[function(e,t,o){"use strict";cc._RF.push(t,"ffa22HpEtpBUoMGYTvglxwt","CircleAvatar");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.xRadius=0,t.yRadius=0,t}return n(t,e),t.prototype.start=function(){var e=this.node.getComponent(cc.RenderComponent),t=e.getMaterial(0);t.setProperty("xRadius",this.xRadius),t.setProperty("yRadius",this.yRadius),e.setMaterial(0,t)},r([s(cc.Integer)],t.prototype,"xRadius",void 0),r([s(cc.Integer)],t.prototype,"yRadius",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],CocosHelper:[function(e,t,o){"use strict";cc._RF.push(t,"7d011DLhkxFPakrCRw6PZqk","CocosHelper");var n=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./config/SysDefine"),a=function(){return function(){}}(),s=function(){function e(){}return e.sleep=function(e){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,o){cc.tween(new cc.Node).delay(e).call(function(){t(!0)}).start()})]})})},e.runSyncAction=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return n(this,void 0,void 0,function(){return r(this,function(o){return!t||t.length<=0?[2]:[2,new Promise(function(o,n){t.push(cc.callFunc(function(){o(!0)})),e.runAction(cc.sequence(t))})]})})},e.runSyncAnim=function(t,o){return n(this,void 0,void 0,function(){var n,i,a,s;return r(this,function(r){switch(r.label){case 0:if(!(n=t.getComponent(cc.Animation)))return[2];if(i=null,o){if(a=n.getClips(),"number"==typeof o)i=a[o];else if("string"==typeof o)for(s=0;s<a.length;s++)if(a[s].name===o){i=a[s];break}}else i=n.defaultClip;return i?[4,e.sleep(i.duration)]:[2];case 1:return r.sent(),[2]}})})},e._progressCallback=function(t,o,n){e.loadProgress.completedCount=t,e.loadProgress.totalCount=o},e.findChildInNode=function(e,t){if(t.name==e)return t;for(var o=0;o<t.childrenCount;o++){var n=this.findChildInNode(e,t.children[o]);if(n)return n}return null},e.checkNodePrefix=function(e){return e[0]===i.SysDefine.SYS_STANDARD_Prefix},e.checkBindChildren=function(e){return e[e.length-1]!==i.SysDefine.SYS_STANDARD_End},e.getPrefixNames=function(e){if(null!==e)return e.split(i.SysDefine.SYS_STANDARD_Separator)},e._getComponentName=function(e){return e.name.match(/<.*>$/)[0].slice(1,-1)},e.loadProgress=new a,e.loadRes=function(t,o,n){if(t&&o)return e.loadProgress.url=t,n=n||e._progressCallback,new Promise(function(e,r){cc.loader.loadRes(t,o,n,function(t,o){if(t)return cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t),void e(null);e(o)})});cc.log("\u53c2\u6570\u9519\u8bef",t,o)},e.loadResArray=function(t,o,n){if(t&&o)return e.loadProgress.url=t,n=n||e._progressCallback,new Promise(function(e,r){cc.loader.loadResArray(t,o,n,function(t,o){if(t)return cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t),void e(null);e(o)})});cc.log("\u53c2\u6570\u9519\u8bef",t,o)},e}();o.default=s,cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],CommonUtils:[function(e,t,o){"use strict";cc._RF.push(t,"a8a21ydfcpD6YbNnRfqOr0J","CommonUtils");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;return t.labelIsOverLenght=function(e,t){var o=null;o=t<1e5?t:t<1e6?Math.floor(t/1e3/10).toString()+"\u4e07":Math.floor(t/1e4).toString()+"\u4e07",e.text=o},t}return n(t,e),t.prototype.copyDataHandler=function(e){var t;if(e instanceof Array)t=[];else{if(!(e instanceof Object))return e;t={}}for(var o=Object.keys(e),n=0,r=o.length;n<r;n++){var i=o[n];t[i]=this.copyDataHandler(e[i])}return t},t.prototype.int64ToNumber=function(e){return parseInt(e.toString())},t}(e("../base/SingtonClass").default);o.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],ContentAdapter:[function(e,t,o){"use strict";cc._RF.push(t,"4010diIR0ZMhJ1/d++3vQ8Y","ContentAdapter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,o=this.node.height*e;this.node.width=this.node.width*(cc.view.getCanvasSize().width/t),this.node.height=this.node.height*(cc.view.getCanvasSize().height/o)},t=r([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],DateUtils:[function(e,t,o){"use strict";cc._RF.push(t,"1472ca+afxK5Kpe/6pYVija","DateUtils");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.getFormatBySecond=function(e,t){void 0===t&&(t=1);var o="";switch(t){case 1:o=this.getFormatBySecond1(e);break;case 2:o=this.getFormatBySecond2(e);break;case 3:o=this.getFormatBySecond3(e);break;case 4:o=this.getFormatBySecond4(e);break;case 5:o=this.getFormatBySecond5(e);break;case 6:o=this.getFormatBySecond6(e)}return o},t.prototype.getFormatBySecond1=function(e){void 0===e&&(e=0);var t,o=Math.floor(e/3600);t=0==o?"00":o<10?"0"+o:""+o;var n=Math.floor((e-3600*o)/60),r=Math.floor((e-3600*o)%60);return t+":"+(0==n?"00":n<10?"0"+n:""+n)+":"+(0==r?"00":r<10?"0"+r:""+r)},t.prototype.getFormatBySecond3=function(e){void 0===e&&(e=0);var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),n=Math.floor((e-3600*t)%60);return(0==o?"00":o<10?"0"+o:""+o)+":"+(0==n?"00":n<10?"0"+n:""+n)},t.prototype.getFormatBySecond2=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},t.prototype.getFormatBySecond4=function(e){var t=Math.floor(e/3600);return t>0?t>24?Math.floor(t/24)+"\u5929\u524d":t+"\u5c0f\u65f6\u524d":Math.floor(e/60)+"\u5206\u949f\u524d"},t.prototype.getFormatBySecond5=function(e){var t=Math.floor(e/86400),o=Math.floor(e%86400/3600),n=Math.floor((e-3600*o)/60),r=Math.floor((e-3600*o)%60),i="";return e>0?0==t?("",0==o?(i="",0==n?("",0==r?"":r<10?"0"+r+"\u79d2":r+"\u79d2"):n+"\u5206"+(0==r?"":r<10?"0"+r+"\u79d2":r+"\u79d2")):(i=o+"\u5c0f\u65f6",0==n?("",0==r?"":r<10?"0"+r+"\u79d2":r+"\u79d2"):i+(n<10?"0"+n+"\u5206":n+"\u5206"))):t+"\u5929"+(i=0==o?"":o<10?"0"+o+"\u5c0f\u65f6":o+"\u5c0f\u65f6"):""},t.prototype.getFormatBySecond6=function(e){void 0===e&&(e=0);var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60);return(0==t?"00":t<10?"0"+t:""+t)+":"+(0==o?"00":o<10?"0"+o:""+o)},t.prototype.getDay=function(e){return new Date(e).getDay()},t.prototype.isSameDate=function(e,t){var o=new Date(e),n=new Date(t);return o.getFullYear()==n.getFullYear()&&o.getMonth()==n.getMonth()&&o.getDate()==n.getDate()},t.prototype.format=function(e,t){void 0===t&&(t="yyyy-MM-dd hh:mm:ss");var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t},t.prototype.dateDifference=function(e,t){var o=Math.abs(t-e);return Math.ceil(o/864e5)},t}(e("../base/SingtonClass").default);o.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],DebugUtils:[function(e,t,o){"use strict";cc._RF.push(t,"765d17YWglEZoF8n2ttQSFK","DebugUtils");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.log=void 0;var r=e("../base/SingtonClass"),i=e("./Log");o.log=console.log.bind(console);var a=function(e){function t(){var t=e.call(this)||this;return t._threshold=3,t._startTimes={},t}return n(t,e),t.prototype.isOpen=function(e){this._isOpen=e,o.log=e?console.log.bind(console):function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}},Object.defineProperty(t.prototype,"isDebug",{get:function(){return this._isOpen},enumerable:!1,configurable:!0}),t.prototype.start=function(e){this._isOpen&&(this._startTimes[e]=cc.director.getTotalTime())},t.prototype.stop=function(e){if(!this._isOpen)return 0;if(!this._startTimes[e])return 0;var t=cc.director.getTotalTime()-this._startTimes[e];return t>this._threshold&&i.default.log(e+": "+t),t},t.prototype.setThreshold=function(e){this._threshold=e},t}(r.default);o.default=a,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass","./Log":"Log"}],DelayOptManager:[function(e,t,o){"use strict";cc._RF.push(t,"9a927YMf4JGIJiqqzuLkRv/","DelayOptManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SingtonClass"),i=e("../App"),a=function(e){function t(){var t=e.call(this)||this;return t.TIME_THRESHOLD=2,t._delayOpts=[],i.default.TimerManager.doFrame(1,0,t.runCachedFun,t),t}return n(t,e),t.prototype.addDelayOptFunction=function(e,t,o,n,r){this._delayOpts.push({fun:t,funPara:o,thisObj:e,callBack:n,para:r})},t.prototype.clear=function(){this._delayOpts.length=0},t.prototype.stop=function(){i.default.TimerManager.remove(this.runCachedFun,this)},t.prototype.runCachedFun=function(e){if(0!=this._delayOpts.length)for(var t,o=cc.director.getTotalTime();this._delayOpts.length&&((t=this._delayOpts.shift()).funPara?t.fun.call(t.thisObj,t.funPara):t.fun.call(t.thisObj),t.callBack&&(void 0!=t.para?t.callBack.call(t.thisObj,t.para):t.callBack()),!(cc.director.getTotalTime()-o>this.TIME_THRESHOLD)););},t}(r.default);o.default=a,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass"}],DeviceUtils:[function(e,t,o){"use strict";cc._RF.push(t,"3bd0cTE3rJP5br2qc1qhZ+I","DeviceUtils");var n,r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.DeviceType=void 0,function(e){e[e.mxGame=1e3]="mxGame",e[e.taktakGame=1001]="taktakGame",e[e.webGame=1002]="webGame",e[e.telegramGame=1003]="telegramGame",e[e.android=1004]="android"}(n=o.DeviceType||(o.DeviceType={}));var i=function(e){function t(){var t=e.call(this)||this;return t.platform=n.webGame,t}return r(t,e),t.prototype.init=function(e){this.platform=e,console.log("init platform",e)},Object.defineProperty(t.prototype,"IsWxGame",{get:function(){return cc.sys.platform===cc.sys.WECHAT_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsMXGame",{get:function(){return this.platform==n.mxGame&&void 0!=window.gameManager&&void 0!=window.gameManager.onTrack},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsTaktakGame",{get:function(){return this.platform==n.taktakGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsWebGame",{get:function(){return this.platform==n.webGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsTelegramGame",{get:function(){return this.platform==n.telegramGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsAndroid",{get:function(){return this.platform==n.android},enumerable:!1,configurable:!0}),t.OS_IOS="ios",t.OS_Android="android",t}(e("../base/SingtonClass").default);o.default=i,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],EventConst:[function(e,t,o){"use strict";cc._RF.push(t,"25abfjYSUtDorXPVTaUQAbY","EventConst"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.Loading="Event_Loading",e.RestartGame="Event_RestartGame",e.NextGuide="Event_NextGuide",e.NextStepGuide="Event_NextStepGuide",e.ContinueGame="Event_ContinueGame",e.UpdateProp="Event_UpdateProp",e.ShowAdTip="Event_ShowAdTip",e}();o.default=n,cc._RF.pop()},{}],FormType:[function(e,t,o){"use strict";cc._RF.push(t,"b12f9jzzHlPt7ci08eWcy7a","FormType"),Object.defineProperty(o,"__esModule",{value:!0}),o.MaskType=o.UIType=void 0;var n=e("./config/SysDefine"),r=function(){return function(e,t,o,r){this.IsClearStack=!1,this.UIForms_Type=n.UIFormType.Normal,this.UIForms_ShowMode=n.UIFormShowMode.Normal,this.UIForm_LucencyType=n.UIFormLucenyType.Lucency,this.UIForms_Type=e||this.UIForms_Type,this.UIForms_ShowMode=t||this.UIForms_ShowMode,this.UIForm_LucencyType=o||this.UIForm_LucencyType,this.IsClearStack=r||this.IsClearStack}}();o.UIType=r;var i=function(){return function(e,t,o){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===o&&(o=.3),this.ClickMaskClose=!1,this.IsEasing=!1,this.EasingTime=.3,this.ClickMaskClose=e,this.IsEasing=t,this.EasingTime=o}}();o.MaskType=i,cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],GEventManager:[function(e,t,o){"use strict";cc._RF.push(t,"8901f2b+QdPa7+h6F20ROV5","GEventManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.ElementEvent=void 0;var n=function(){function e(){}return e.emit=function(e,t){var o=this._eventMap[e];if(void 0===o)return void 0===this._bufferEventMap[e]&&(this._bufferEventMap[e]=[]),this._bufferEventMap[e].push(t),void(this.openAutoClear&&this.autoClearBufferEvent(e));for(var n=0;n<o.length;n++){var r=o[n];r&&(r.callback.call(r.target,t),r.once&&o.splice(n,1)&&--n)}},e.on=function(e,t,o,n){if(void 0===n&&(n=!1),void 0===this._eventMap[e]&&(this._eventMap[e]=[]),this._eventMap[e].push(new r(t,o,n)),void 0!=this._bufferEventMap[e]){for(var i=0;i<this._bufferEventMap[e].length;i++)t.call(o,this._bufferEventMap[e][i]);this._bufferEventMap[e]=null,delete this._bufferEventMap[e]}},e.once=function(e,t,o){this.on(e,t,o,!0)},e.off=function(e,t,o){var n=this._eventMap[e];if(void 0!==n){for(var r=n.length-1;r>0;r--){var i=n[r];if(i&&i.callback===t&&i.target===o){n.splice(r,1);break}}0===n.length&&(this._eventMap[e]=null,delete this._eventMap[e])}},e.clear=function(e){this._eventMap[e]=null,delete this._eventMap[e]},e.autoClearBufferEvent=function(e){for(var t=this,o=0,n=this.clearTimers;o<n.length;o++){if(n[o].eventName===e)return}var r=setTimeout(function(){a(e)},1e3*this.autoClearTimeNumber);this.clearTimers.push(new i(e,r));var a=function(e){if(t._bufferEventMap[e]){t._bufferEventMap[e]=null,delete t._bufferEventMap[e];for(var o=t.clearTimers.length-1;o>=0;o--)t.clearTimers[o].eventName===e&&t.clearTimers.splice(o,1)}}},e._eventMap=cc.js.createMap(),e._bufferEventMap=cc.js.createMap(),e.openAutoClear=!1,e.clearTimers=[],e.autoClearTimeNumber=10,e}();o.default=n;var r=function(){return function(e,t,o){this.callback=e,this.target=t,this.once=o}}();o.ElementEvent=r;var i=function(){return function(e,t){this.eventName=e,this.timer=t}}();cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"657devewuZAKrUa6UcGYqsf","GameManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../App"),c=e("./gameConst/GameUIConst"),u=cc._decorator,l=u.ccclass,p=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scoreScale=1,t.scoreInitScale=1.8,t.addScoreTime=.5,t.addScoreWaitTime=.15,t.addScoreScale=1.2,t.clearDelay=.1,t.addScoreDelay=.7,t.addScoreDelayNoClear=.2,t.gameOverWait=.2,t}return n(t,e),t.prototype.start=function(){s.default.Init(),s.default.GameManager=this,cc.macro.ENABLE_MULTI_TOUCH=!1,this.loadGame()},t.prototype.loadGame=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,s.default.UIIndependentManager.setLoadingForm(c.default.LoadIcon)];case 1:return e.sent(),[4,s.default.UIManager.showUIForm(c.default.LoadingUI)];case 2:return e.sent(),[2]}})})},r([p({displayName:"\u5206\u6570\u6eda\u52a8\u65f6\u7684\u7f29\u653e"})],t.prototype,"scoreScale",void 0),r([p({displayName:"\u5206\u6570\u521d\u59cb\u7f29\u653e"})],t.prototype,"scoreInitScale",void 0),r([p({displayName:"\u589e\u52a0\u5206\u6570\u52a8\u753b\u6d88\u5931\u65f6\u95f4"})],t.prototype,"addScoreTime",void 0),r([p({displayName:"\u589e\u52a0\u5206\u6570\u52a8\u753b\u51fa\u73b0\u65f6\u95f4"})],t.prototype,"addScoreWaitTime",void 0),r([p({displayName:"\u589e\u52a0\u5206\u6570\u7684\u653e\u5927\u500d\u6570"})],t.prototype,"addScoreScale",void 0),r([p({displayName:"\u653e\u7f6e\u540e\u5ef6\u8fdf\u591a\u4e45\u64ad\u653e\u6d88\u9664"})],t.prototype,"clearDelay",void 0),r([p({displayName:"\u64ad\u653e\u6d88\u9664\u5ef6\u8fdf\u591a\u4e45\u589e\u52a0\u5206\u6570"})],t.prototype,"addScoreDelay",void 0),r([p({displayName:"\u6ca1\u6709\u6d88\u9664\u5ef6\u8fdf\u591a\u4e45\u589e\u52a0\u5206\u6570"})],t.prototype,"addScoreDelayNoClear",void 0),r([p({displayName:"gameover\u7b49\u5f85\u65f6\u95f4"})],t.prototype,"gameOverWait",void 0),t=r([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../App":"App","./gameConst/GameUIConst":"GameUIConst"}],GameOverUI:[function(e,t,o){"use strict";cc._RF.push(t,"2190d4ZUvxBK4XyMzLcwWJK","GameOverUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../gameConst/EventConst"),l=e("../../utils/DebugUtils"),p=e("../../sound/MusicConst"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.Fixed,a.UIFormShowMode.HideOther,a.UIFormLucenyType.Translucence),t.score=null,t.bestScore=null,t}return n(t,e),t.prototype.onShow=function(){e.prototype.onShow.call(this),l.log("onshow",c.default.PlatformManager.score),this.score.string=""+c.default.PlatformManager.score,this.bestScore.string=""+c.default.PlatformManager.bestScore},t.prototype.restart=function(){c.default.SoundManager.playEffect(p.MusicConst.button),c.default.PlatformManager.clickRestart(),c.default.MessageCenter.dispatch(u.default.RestartGame),this.closeUIForm()},t.prototype.exit=function(){c.default.DeviceUtils.IsTaktakGame&&c.default.TaktakReport.gameOver()},t.prototype.onDestroy=function(){},r([h(cc.Label)],t.prototype,"score",void 0),r([h(cc.Label)],t.prototype,"bestScore",void 0),t=r([f],t)}(i.default);o.default=y,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],GameUIConst:[function(e,t,o){"use strict";cc._RF.push(t,"9b24bvXQhREK4e3l5AoYHmq","GameUIConst"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.LoadingUI="prefab/loading/LoadingUI",e.LoadIcon="prefab/loading/LoadIcon",e.GameView="prefab/game/GameView",e.PauseUI="prefab/pause/PauseUI",e.QuitUI="prefab/pause/QuitUI",e.RestartUI="prefab/pause/RestartUI",e.RewardUI="prefab/pause/RewardUI",e.PowerUpUI="prefab/pause/PowerUpUI",e.PropUI="prefab/pause/PropUI",e.AddScoreUI="prefab/pause/AddScoreUI",e.GameOverUI="prefab/pause/GameOverUI",e.TelegramCommonUI="prefab/telegram/TelegramCommonUI",e}();o.default=n,cc._RF.pop()},{}],GameView:[function(e,t,o){"use strict";cc._RF.push(t,"620291gYEpNw4J5uvUOzw4O","GameView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./../gameConst/BlockData"),c=e("../../UIFrame/BaseUIForm"),u=e("../../UIFrame/config/SysDefine"),l=e("../../UIFrame/FormType"),p=e("../../UIFrame/CocosHelper"),d=e("../../utils/DebugUtils"),f=e("../../App"),h=e("../gameConst/GameUIConst"),y=e("../gameConst/BlockData"),m=e("./Block"),g=e("./Tile"),_=e("../gameConst/EventConst"),v=e("../../sound/MusicConst"),b=cc._decorator,w=b.ccclass,I=b.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new l.UIType(u.UIFormType.Normal,u.UIFormShowMode.Independent,u.UIFormLucenyType.Lucency),t.TileGroup=null,t.blockPosArr=[],t.tilePrefab=null,t.blockPrefab=null,t.scoreLabel=null,t.bestScoreLabel=null,t.addScoreLabel=null,t.goodAni=null,t.showAni=null,t.bestScoreAni=null,t.bestScoreLihuaAni=null,t.gameOverAni=null,t.handIcon=null,t.guideLayer=null,t.pauseBtn=null,t.propBtn=null,t.propLabel=null,t.adTip=null,t.tileMapData=[],t.waitAddTileArr=[],t.canSkipGuide=!0,t.canTouch=!0,t._score=0,t._bestScore=0,t.blockArr=[],t.touchTime=0,t.changeColorArr=[],t.isFristBest=!0,t.clearRowArr=[],t.clearColArr=[],t}return n(t,e),Object.defineProperty(t.prototype,"score",{get:function(){return this._score},set:function(e){this._score=e,f.default.PlatformManager.score=e},enumerable:!1,configurable:!0}),t.prototype.setScore=function(e){this.scoreLabel.string=e.toString()},Object.defineProperty(t.prototype,"bestScore",{get:function(){return this._bestScore},set:function(e){this._bestScore=e,this.bestScoreLabel.string=e.toString(),f.default.PlatformManager.bestScore=e},enumerable:!1,configurable:!0}),t.prototype.init=function(e){d.log("init ",e)},t.prototype.load=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return d.log("load"),[2]})})},t.prototype.onLoad=function(){var e=this;d.log("onLoad"),f.default.UIManager.closeUIForm(h.default.LoadingUI),this.scoreLabel.node.scale=f.default.GameManager.scoreInitScale,this.setScore(0),this.updatePropNum(),this.bestScore=f.default.PlatformManager.bestScore,f.default.MessageCenter.addListener(_.default.RestartGame,this.restart,this),f.default.MessageCenter.addListener(_.default.NextGuide,this.initGuideData,this),f.default.MessageCenter.addListener(_.default.NextStepGuide,this.initGuideTip,this),f.default.MessageCenter.addListener(_.default.ContinueGame,this.continueGame,this),f.default.MessageCenter.addListener(_.default.UpdateProp,this.updatePropNum,this),f.default.MessageCenter.addListener(_.default.ShowAdTip,this.showAdTip,this),this.bestScoreAni.setCompleteListener(function(){e.bestScoreAni.node.active=!1}),this.bestScoreLihuaAni.setCompleteListener(function(){e.bestScoreLihuaAni.node.active=!1}),this.gameOverAni.setCompleteListener(function(){e.gameOverAni.node.active=!1,f.default.TimerManager.doTimer(1e3*f.default.GameManager.gameOverWait,1,function(){f.default.PlatformManager.gameOver()},e)}),this.initGuide(),f.default.PlatformManager.initBannerAd()},t.prototype.start=function(){this.initData(),f.default.SoundManager.playMusic(v.MusicConst.bg5)},t.prototype.initGuide=function(){f.default.GuideManager.initData(),f.default.GuideManager.haveGuide?this.showGuidelayer():this.hideGuidelayer()},t.prototype.restart=function(e){void 0===e&&(e=!0),f.default.BlockManager.resetLevel(),this.hideGuidelayer(),this.tileMapData.forEach(function(e){e.forEach(function(e){e.setEmpty(),e.showNormal()})}),this.blockArr.forEach(function(e){e.initData()}),e&&(this.isFristBest=!0,this.score=0,this.bestScore=f.default.PlatformManager.bestScore,this.setScore(this.score))},t.prototype.initGuideData=function(){var e=f.default.GuideManager.guideMap,t=f.default.BlockManager.getRandomColor;this.tileMapData.forEach(function(o,n){o.forEach(function(o,r){e[n][r]?o.setColor(t):o.setEmpty()})}),this.blockArr.forEach(function(e,t){var o=f.default.GuideManager.guideStepDataArr[t];e.initGuideData(o?o.blockData:null)}),this.initGuideTip()},t.prototype.stopGuideAni=function(){this.handIcon.active=!1,cc.Tween.stopAllByTarget(this.handIcon)},t.prototype.initGuideTip=function(){var e,t=this,o=f.default.GuideManager.guideStepData;if(o.blockData.forEach(function(e,n){e.forEach(function(e,r){e&&t.tileMapData[o.row+n][o.col+r].showTip(y.BlockColor.Null)})}),this.blockArr.forEach(function(n,r){n.data==o.blockData&&(e=t.blockPosArr[r].position)}),e){var n=cc.v2(this.getXbyCol(o.col),this.getYbyRow(o.row));n=this.TileGroup.convertToWorldSpaceAR(n),n=this.handIcon.parent.convertToNodeSpaceAR(n),this.handIcon.active=!0,cc.Tween.stopAllByTarget(this.handIcon),cc.tween(this.handIcon).repeatForever(cc.tween(this.handIcon).set({position:e}).to(1.5,{position:n}).delay(.1)).start()}},t.prototype.initData=function(){var e=this;this.initTileMap(y.TileDefaultData),this.blockPosArr.forEach(function(t,o){var n=e.getBlock();t.addChild(n)}),f.default.GuideManager.haveGuide?this.initGuideData():this.initBlockData()},t.prototype.initTileMap=function(e){var t=this,o=f.default.BlockManager.getRandomColor;e.forEach(function(e){var n=[];t.tileMapData.push(n),e.forEach(function(e){var r=cc.instantiate(t.tilePrefab);t.TileGroup.addChild(r);var i=r.getComponent(g.default);e&&i.setColor(o),n.push(i)})})},t.prototype.initListener=function(e){e.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),e.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),e.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),e.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},t.prototype.checkCanTouch=function(e){return!!this.canTouch&&(!e.isUse&&(!f.default.GuideManager.haveGuide||e.data==f.default.GuideManager.guideStepData.blockData&&(this.stopGuideAni(),!0)))},t.prototype.guideCanPutDown=function(e,t){if(f.default.GuideManager.haveGuide){var o=f.default.GuideManager.guideStepData;return e==o.row&&t==o.col||(this.resetTipTile(),this.initGuideTip(),!1)}return!0},t.prototype.touchStart=function(e){var t=e.currentTarget,o=t.getComponent(m.default);if(t.parent.setSiblingIndex(3),this.checkCanTouch(o)){f.default.PlatformManager.touchNum++,this.touchTime=cc.director.getTotalTime();var n=e.getLocation(),r=cc.v2(n.x,n.y+m.default.offsetY);o.touchStartAni(t.parent.convertToNodeSpaceAR(r))}},t.prototype.touchMove=function(e){f.default.DebugUtils.start("touchMove");var t=e.currentTarget,o=t.getComponent(m.default);if(this.checkCanTouch(o)){var n=e.getLocation(),r=cc.v2(n.x,n.y+m.default.offsetY);t.setPosition(t.parent.convertToNodeSpaceAR(r)),o.touchMoveAni();var i=o.toTopLeftPos(r),a=this.TileGroup.convertToNodeSpaceAR(i),s=this.getRowByY(a.y),c=this.getColByX(a.x);this.getCanPutDown(s,c,o.data)?(this.waitAddTileArr.forEach(function(e){e.showTip(o.color)}),this.checkChangeColor(o.data,s,c,o.color)):this.resetChangeColor(),f.default.DebugUtils.start("touchMove")}},t.prototype.touchEnd=function(e){var t=this;f.default.DebugUtils.start("touchEnd");var o=e.currentTarget.getComponent(m.default);if(this.checkCanTouch(o)){var n=cc.director.getTotalTime()-this.touchTime;f.default.PlatformManager.touchTimes+=n;var r=e.getLocation(),i=cc.v2(r.x,r.y+m.default.offsetY),a=o.toTopLeftPos(i),s=this.TileGroup.convertToNodeSpaceAR(a),c=this.getRowByY(s.y),u=this.getColByX(s.x);if(d.log("end",c,u,o.data),c>=0&&u>=0&&c<y.MaxRowAndCol&&u<y.MaxRowAndCol){var l=this.guideCanPutDown(c,u)&&this.getCanPutDown(c,u,o.data);if(d.log("\u53ef\u4ee5\u653e\u4e0b",l),l){this.canTouch=!1,this.canSkipGuide=!1;var p=this.waitAddTileArr;this.changeColorArr=[],this.putDownBlock(o,c,u,function(){p.forEach(function(e){e.setColor(o.color)}),t.waitAddTileArr=[]})}else o.resetAni()}else o.resetAni();f.default.DebugUtils.stop("touchEnd")}},t.prototype.resetChangeColor=function(){this.changeColorArr.forEach(function(e){e.resetColor()}),this.changeColorArr=[]},t.prototype.checkChangeColor=function(e,t,o,n){if(this.resetChangeColor(),e&&e.length&&e[0].length){for(var r=t+e.length-1,i=t,a=o;t<=r;)this.putAndCheckRow(t,e,i,a),t++;for(var s=o+e[0].length-1;o<=s;)this.putAndCheckCol(o,e,i,a),o++;return this.changeColorArr.forEach(function(e){e.changeColor(n)}),!0}return console.warn("\u68c0\u6d4b\u6d88\u9664\u6570\u636e",e),!1},t.prototype.putDownBlock=function(e,t,o,n){return i(this,void 0,void 0,function(){var r,i;return a(this,function(a){switch(a.label){case 0:return f.default.PlatformManager.putDownNum++,r=cc.v2(this.getXbyCol(o),this.getYbyRow(t)),r=this.TileGroup.convertToWorldSpaceAR(r),this.addScorePos=r.clone(),r=e.node.parent.convertToNodeSpaceAR(r),r=e.toMidPos(r),[4,e.putDown(r,n)];case 1:return a.sent(),this.checkClear(e.data,t,o),this.canTouch=!0,[4,this.playClear(t,o)];case 2:return i=a.sent(),f.default.GuideManager.haveGuide?[4,this.playAnimationByCombo(i?f.default.GuideManager.combo:i)]:[3,4];case 3:return a.sent(),f.default.GuideManager.nextGuide(),this.canSkipGuide=!0,[3,7];case 4:return this.checkBlockData(),this.getIsOver()?[4,this.updateScore(e.data,i)]:[3,6];case 5:return a.sent(),this.showGameOverAni(),[3,7];case 6:this.updateScore(e.data,i),a.label=7;case 7:return[2]}})})},t.prototype.updateScore=function(e,t){return i(this,void 0,void 0,function(){var o,n,r;return a(this,function(i){switch(i.label){case 0:return n=40*(o=t)*(o+1),r=0,e.forEach(function(e){e.forEach(function(e){e!=y.BlockColor.Null&&r++})}),d.log("\u653e\u7f6e\u5f97\u5206",r,"\u6d88\u9664\u5f97\u5206",n),[4,this.playAddScore(n+r)];case 1:return i.sent(),[4,this.playAnimationByCombo(o)];case 2:return i.sent(),this.updateBestScore(),[2]}})})},t.prototype.playAddScore=function(e){return i(this,void 0,void 0,function(){var t,o,n,r,i=this;return a(this,function(a){return e?(this.addScoreLabel.node.active=!0,this.addScoreLabel.string=e.toString(),t=this.addScoreLabel.node.parent.convertToNodeSpaceAR(this.addScorePos),o=this.score,this.score=this.score+e,f.default.PlatformManager.addMaxScore=Math.max(f.default.PlatformManager.addMaxScore,this.score-Number(this.scoreLabel.string)),n=e>=10?10:e,r=Math.ceil(e/10),cc.tween(this.scoreLabel.node).to(.1,{scale:f.default.GameManager.scoreScale}).start(),f.default.TimerManager.doTimer(50,n,function(){o+=r,i.setScore(o)},this,function(){i.setScore(i.score),cc.tween(i.scoreLabel.node).to(.1,{scale:f.default.GameManager.scoreInitScale}).start()},this),[2,new Promise(function(e){cc.tween(i.addScoreLabel.node).set({position:t,opacity:255,scale:0}).to(f.default.GameManager.addScoreWaitTime,{scale:f.default.GameManager.addScoreScale}).by(f.default.GameManager.addScoreTime,{y:80,opacity:-255}).call(function(){e(!0)}).start()})]):[2]})})},t.prototype.updateBestScore=function(){if(!f.default.GuideManager.haveGuide&&this.bestScore<this.score){var e=0==this.bestScore;if(this.bestScore=this.score,this.isFristBest){if(this.isFristBest=!1,e)return;f.default.SoundManager.playEffect(v.MusicConst.unlock),this.bestScoreAni.node.active=!0,this.bestScoreAni.setAnimation(0,"New best score",!1),this.bestScoreLihuaAni.node.active=!0,this.bestScoreLihuaAni.setAnimation(0,"LIhua",!1)}}},t.prototype.playAnimationByCombo=function(e){return i(this,void 0,void 0,function(){var t,o=this;return a(this,function(n){return e<2?[2]:(t="",2==e?(t="Good",f.default.SoundManager.playEffect(v.MusicConst.good),f.default.PlatformManager.goodNum++):3==e?(t="Awesome",f.default.SoundManager.playEffect(v.MusicConst.awesome),f.default.PlatformManager.awesomeNum++):4==e?(t="Excellent",f.default.SoundManager.playEffect(v.MusicConst.excellent),f.default.PlatformManager.excellentNum++):(f.default.SoundManager.playEffect(v.MusicConst.fantastic),t="Fantastic",f.default.PlatformManager.fantasticNum++),this.goodAni.node.active=!0,this.goodAni.setAnimation(0,t,!1),[2,new Promise(function(t){o.goodAni.setCompleteListener(function(){o.goodAni.node.active=!1,t(e)})})])})})},t.prototype.playClear=function(e,t){return i(this,void 0,Promise,function(){var o,n=this;return a(this,function(r){switch(r.label){case 0:return(o=this.clearRowArr.length+this.clearColArr.length)?(f.default.PlatformManager.clearNum+=o,[4,p.default.sleep(f.default.GameManager.clearDelay)]):[3,2];case 1:r.sent(),r.label=2;case 2:return this.clearRowArr.forEach(function(e){for(var o=n.tileMapData[e],r=t;r>=0;r--){o[r].playClear(t-r)}for(r=t+1;r<o.length;r++){o[r].playClear(r-t)}}),this.clearColArr.forEach(function(t){for(var o=e;o>=0;o--){n.tileMapData[o][t].playClear(e-o)}for(o=e+1;o<n.tileMapData.length;o++){n.tileMapData[o][t].playClear(o-e)}}),o?(f.default.SoundManager.playEffect(v.MusicConst.clear),this.clearRowArr=[],this.clearColArr=[],[4,p.default.sleep(f.default.GameManager.addScoreDelay)]):[3,4];case 3:return r.sent(),[3,6];case 4:return[4,p.default.sleep(f.default.GameManager.addScoreDelayNoClear)];case 5:r.sent(),r.label=6;case 6:return[2,new Promise(function(e){e(o)})]}})})},t.prototype.checkClear=function(e,t,o){if(this.clearRowArr=[],this.clearColArr=[],e&&e.length&&e[0].length){for(var n=t+e.length-1;t<=n;){this.checkRow(t)&&this.clearRowArr.push(t),t++}for(var r=o+e[0].length-1;o<=r;){this.checkCol(o)&&this.clearColArr.push(o),o++}return(this.clearRowArr.length||this.clearColArr.length)&&d.log("\u53ef\u6d88\u9664\u884c",this.clearRowArr,"\u53ef\u6d88\u9664\u5217",this.clearColArr),!0}return console.warn("\u68c0\u6d4b\u6d88\u9664\u6570\u636e",e),!1},t.prototype.checkRow=function(e){for(var t=this.tileMapData[e],o=0;o<t.length;o++){if(t[o].colorType==y.BlockColor.Null)return!1}return!0},t.prototype.checkCol=function(e){for(var t=0;t<this.tileMapData.length;t++){if(this.tileMapData[t][e].colorType==y.BlockColor.Null)return!1}return!0},t.prototype.putAndCheckRow=function(e,t,o,n){for(var r=this,i=[],a=this.tileMapData[e],s=0;s<a.length;s++){var c=a[s],u=t[e-o][s-n];if(c.colorType==y.BlockColor.Null&&!u)return!1;i.push(c)}return i.forEach(function(e){-1==r.changeColorArr.indexOf(e)&&r.changeColorArr.push(e)}),!0},t.prototype.putAndCheckCol=function(e,t,o,n){for(var r=this,i=[],a=0;a<this.tileMapData.length;a++){var s=this.tileMapData[a][e],c=t[a-o]?t[a-o][e-n]:0;if(s.colorType==y.BlockColor.Null&&!c)return!1;i.push(s)}return i.forEach(function(e){-1==r.changeColorArr.indexOf(e)&&r.changeColorArr.push(e)}),!0},t.prototype.getRowByY=function(e){return Math.floor(-e/s.BlockDistance.height)},t.prototype.getColByX=function(e){return Math.floor(e/s.BlockDistance.width)},t.prototype.getYbyRow=function(e){d.log("getYbyRow",e);var t=-s.BlockSize.height/2;return 0==e?t:t-e*s.BlockDistance.height},t.prototype.getXbyCol=function(e){d.log("getxBycol",e);var t=s.BlockSize.width/2;return 0==e?t:t+e*s.BlockDistance.width},t.prototype.resetTipTile=function(){this.waitAddTileArr.forEach(function(e){e.setEmpty()}),this.waitAddTileArr=[]},t.prototype.getCanPutDown=function(e,t,o){this.resetTipTile();for(var n=[],r=0;r<o.length;r++)for(var i=o[r],a=0;a<i.length;a++){var s=i[a],c=this.tileMapData[e+r];if(!c)return d.log("\u884c\u8d85\u51fa\u8fb9\u754c"),!1;var u=c[t+a];if(!u)return d.log("\u5217\u8d85\u51fa\u8fb9\u754c"),!1;0!=s&&n.push(u);var l=u.colorType;if(0!=s&&0!=l)return!1}return this.waitAddTileArr=n,!0},t.prototype.getBlock=function(){var e=cc.instantiate(this.blockPrefab);this.initListener(e);var t=e.getComponent(m.default);return this.blockArr.push(t),e},t.prototype.initBlockData=function(){this.blockArr.forEach(function(e){e.initData()})},t.prototype.checkBlockData=function(){var e=!0;this.blockArr.forEach(function(t){t.isUse||(e=!1)}),e&&this.initBlockData()},t.prototype.blockCanPutDown=function(e){for(var t=0;t<this.tileMapData.length;t++)for(var o=this.tileMapData[t],n=0;n<o.length;n++){if(this.getCanPutDown(t,n,e))return!0}return!1},t.prototype.checkUniqueTip=function(e){var t=0,o=[];f.default.DebugUtils.start("checkUniqueTip");for(var n=0;n<this.tileMapData.length;n++)for(var r=this.tileMapData[n],i=0;i<r.length;i++){if(this.getCanPutDown(n,i,e)&&(o=this.waitAddTileArr,++t>1))return void f.default.DebugUtils.stop("checkUniqueTip")}1==t&&(d.log("\u663e\u793a\u552f\u4e00\u63d0\u793a",o),o.forEach(function(e){e.showTip(y.BlockColor.Null)})),f.default.DebugUtils.stop("checkUniqueTip")},t.prototype.checkGameOver=function(){f.default.DebugUtils.start("checkGameOver");var e=this.getIsOver();return e&&(d.log("\u6e38\u620f\u7ed3\u675f"),this.showGameOverAni()),f.default.DebugUtils.stop("checkGameOver"),e},t.prototype.getIsOver=function(){var e=this,t=!0,o=0,n=null;return this.blockArr.forEach(function(r){!r.isUse&&e.blockCanPutDown(r.data)?(t=!1,r.showNormal(),o++,n=r.data):r.showGray()}),1==o&&n&&this.checkUniqueTip(n),t},t.prototype.showGameOverAni=function(){var e=this;this.tileMapData.forEach(function(t){t.forEach(function(t,o){t.colorType&&f.default.TimerManager.doTimer(50*f.default.RandomUtils.limitInteger(1,8),1,function(){t.showGray()},e)})}),f.default.SoundManager.playEffect(v.MusicConst.gameover),f.default.TimerManager.doTimer(500,1,this.showGameOver,this)},t.prototype.showNormal=function(){this.tileMapData.forEach(function(e){e.forEach(function(e,t){e.showNormal()})})},t.prototype.showGameOver=function(){this.gameOverAni.node.active=!0,this.gameOverAni.setAnimation(0,"Game over",!1)},t.prototype.showMapData=function(){var e=[];return this.tileMapData.forEach(function(t){var o=[];e.push(o),t.forEach(function(e){o.push(e.colorType)})}),d.log(e),e},t.prototype.openPause=function(){f.default.SoundManager.playEffect(v.MusicConst.button),f.default.UIManager.showUIFormWithLoading(h.default.PauseUI)},t.prototype.updatePropNum=function(){var e=f.default.PlatformManager.propNum>0?f.default.PlatformManager.propNum:"+";this.setLabel(this.propLabel,""+e)},t.prototype.useProp=function(){f.default.GuideManager.haveGuide||(f.default.PlatformManager.propNum<=0?f.default.UIManager.showUIFormWithLoading(h.default.PropUI):(f.default.SoundManager.playEffect(v.MusicConst.rotate),f.default.PlatformManager.onToolUsed(),f.default.PlatformManager.propNum--,f.default.PlatformManager.usePropNum++,this.updatePropNum(),d.log("\u4f7f\u7528\u9053\u5177"),this.blockArr.forEach(function(e){e.isUse||e.rotate()}),this.checkGameOver()))},t.prototype.showGuidelayer=function(){this.setActive(this.guideLayer,!0),this.setActive(this.pauseBtn,!1),this.setActive(this.propBtn,!1),this.setActive(this.scoreLabel.node.parent,!1)},t.prototype.hideGuidelayer=function(){this.setActive(this.guideLayer,!1),this.setActive(this.pauseBtn,!0),this.setActive(this.propBtn,f.default.DeviceUtils.IsMXGame||f.default.DeviceUtils.IsWebGame||f.default.DeviceUtils.IsAndroid),this.setActive(this.scoreLabel.node.parent,!0)},t.prototype.skipGuide=function(){this.canSkipGuide&&(f.default.SoundManager.playEffect(v.MusicConst.button),f.default.GuideManager.skipGuide(),this.stopGuideAni(),f.default.MessageCenter.dispatch(_.default.RestartGame,!0),this.hideGuidelayer())},t.prototype.continueGame=function(){var e=this;d.log("\u7ee7\u7eed\u6e38\u620f"),this.showNormal(),this.blockArr.forEach(function(t,o){var n=16;n=0==o?16:f.default.RandomUtils.limitInteger(5,15);var r=y.BlockData[n-1];t.initGuideData(r),e.createEmptyPos(r)})},t.prototype.createEmptyPos=function(e){for(var t=e.length,o=e[0].length,n=y.MaxRowAndCol-t-1,r=y.MaxRowAndCol-o-1,i=f.default.RandomUtils.limitInteger(0,n),a=f.default.RandomUtils.limitInteger(0,r),s=0;s<t;s++)for(var c=0;c<o;c++){e[s][c]&&(d.log("\u751f\u6210\u4f4d\u7f6e",e,[s+i],[a+c]),this.tileMapData[s+i][a+c].setEmpty())}},t.prototype.showAdTip=function(e){void 0===e&&(e=1.5),this.adTip.active=!0,cc.tween(this.adTip).set({y:0,opacity:255,scaleY:0}).to(.2,{scaleY:1}).delay(.3).by(e,{opacity:-255,y:200}).start()},t.prototype.shakeEffect=function(e){var t=this;this.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.02,cc.v2(5,7)),cc.moveTo(.02,cc.v2(-6,7)),cc.moveTo(.02,cc.v2(-13,3)),cc.moveTo(.02,cc.v2(3,-6)),cc.moveTo(.02,cc.v2(-5,5)),cc.moveTo(.02,cc.v2(2,-8)),cc.moveTo(.02,cc.v2(-8,-10)),cc.moveTo(.02,cc.v2(3,10)),cc.moveTo(.02,cc.v2(0,0))))),setTimeout(function(){t.node.stopAllActions(),t.node.setPosition(0,0)},1e3*e)},t.prototype.shakeEffect2=function(){var e=this;cc.tween(this.node).by(0,{x:-10}).delay(.02).by(0,{y:10}).delay(.02).by(0,{x:20}).delay(.02).by(0,{y:-20}).delay(.02).by(0,{x:-15}).delay(.02).by(0,{y:15}).delay(.02).by(0,{x:15}).delay(.02).by(0,{y:-15}).delay(.02).by(0,{x:-20}).delay(.02).by(0,{y:20}).delay(.02).to(0,{x:0}).delay(.02).to(0,{y:0}).call(function(){e.node.setPosition(0,0)}).start()},t.prototype.onDestroy=function(){},r([I(cc.Node)],t.prototype,"TileGroup",void 0),r([I({type:[cc.Node],tooltip:"\u4e09\u4e2a\u65b9\u5757\u7684\u4f4d\u7f6e"})],t.prototype,"blockPosArr",void 0),r([I({type:cc.Prefab,tooltip:"\u5730\u677f\u9884\u77e5\u4f53"})],t.prototype,"tilePrefab",void 0),r([I({type:cc.Prefab,tooltip:"\u7816\u5757\u9884\u77e5\u4f53"})],t.prototype,"blockPrefab",void 0),r([I(cc.Label)],t.prototype,"scoreLabel",void 0),r([I(cc.Label)],t.prototype,"bestScoreLabel",void 0),r([I(cc.Label)],t.prototype,"addScoreLabel",void 0),r([I(sp.Skeleton)],t.prototype,"goodAni",void 0),r([I(sp.Skeleton)],t.prototype,"showAni",void 0),r([I(sp.Skeleton)],t.prototype,"bestScoreAni",void 0),r([I(sp.Skeleton)],t.prototype,"bestScoreLihuaAni",void 0),r([I(sp.Skeleton)],t.prototype,"gameOverAni",void 0),r([I(cc.Node)],t.prototype,"handIcon",void 0),r([I(cc.Node)],t.prototype,"guideLayer",void 0),r([I(cc.Node)],t.prototype,"pauseBtn",void 0),r([I(cc.Node)],t.prototype,"propBtn",void 0),r([I(cc.Label)],t.prototype,"propLabel",void 0),r([I(cc.Node)],t.prototype,"adTip",void 0),t=r([w],t)}(c.default);o.default=S,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/CocosHelper":"CocosHelper","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/BlockData":"BlockData","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst","./../gameConst/BlockData":"BlockData","./Block":"Block","./Tile":"Tile"}],GoogleAdsManager:[function(e,t,o){"use strict";cc._RF.push(t,"8885eHPvB9PCJcpNLNvP9tS","GoogleAdsManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.Google_Ima_Ad=void 0,function(e){var t,o,n,r;e.isAdLoadComplete=!1,e.adShowCompleteCount=100,e.init=function(){o=document.getElementById("contentElement"),cc.game.on(cc.game.EVENT_SHOW,function(){n&&n.resume()})},e.loadAds=function(){e.isAdLoadComplete=!1,i()},e.showAds=function(t,o,r,i,a,s){e.isAdLoadComplete&&(n&&n.start(),document.getElementById("content").style.visibility="visible",document.getElementById("adContainer").style.visibility="visible",cc.game.once("GOOGLE_AD_COMPLETE",o))};var i=function(){google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),a(),(r=new google.ima.AdsLoader(t)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,l,!1),r.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,d,!1),o.onended=f;var e=new google.ima.AdsRequest;e.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=",e.linearAdSlotWidth=340,e.linearAdSlotHeight=400,e.nonLinearAdSlotWidth=340,e.nonLinearAdSlotHeight=150,r.requestAds(e)},a=function(){t=new google.ima.AdDisplayContainer(document.getElementById("adContainer"),o)},s=function(t){t.getAd();switch(t.type){case google.ima.AdEvent.Type.LOADED:console.log("\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),e.isAdLoadComplete=!0;break;case google.ima.AdEvent.Type.STARTED:console.log("\u5e7f\u544a\u5f00\u59cb\u64ad\u653e");break;case google.ima.AdEvent.Type.COMPLETE:console.log("\u5e7f\u544a\u64ad\u653e\u5b8c\u6210"),h();break;case google.ima.AdEvent.Type.SKIPPED:console.log("\u70b9\u51fb\u4e86\u8df3\u8fc7"),h();break;case google.ima.AdEvent.Type.CLICK:console.log("\u70b9\u51fb\u4e86\u5e7f\u544a")}},c=function(){},u=function(){},l=function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,(n=e.getAdsManager(o,t)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,d),n.addEventListener(google.ima.AdEvent.Type.CLICK,s),n.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,c),n.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,u),n.addEventListener(google.ima.AdEvent.Type.SKIPPED,s),n.addEventListener(google.ima.AdEvent.Type.LOADED,s),n.addEventListener(google.ima.AdEvent.Type.STARTED,s),n.addEventListener(google.ima.AdEvent.Type.COMPLETE,s),p()},p=function(){t.initialize();try{var o=cc.game.canvas.getBoundingClientRect();n.init(o.width,o.height,window.google.ima.ViewMode.NORMAL)}catch(t){e.isAdLoadComplete=!1,document.getElementById("content").style.visibility="hidden",document.getElementById("adContainer").style.visibility="hidden"}},d=function(t){console.log(t.getError()),n.destroy(),document.getElementById("content").style.visibility="hidden",document.getElementById("adContainer").style.visibility="hidden",e.isAdLoadComplete=!1},f=function(){o.onended=null,r&&r.contentComplete()},h=function(){n.destroy(),r.destroy(),t.destroy(),document.getElementById("content").style.visibility="hidden",document.getElementById("adContainer").style.visibility="hidden",cc.game.emit("GOOGLE_AD_COMPLETE"),e.adShowCompleteCount++}}(o.Google_Ima_Ad||(o.Google_Ima_Ad={})),cc._RF.pop()},{}],GuideManager:[function(e,t,o){"use strict";cc._RF.push(t,"f9f9fnK/HNJNpU6Ak6/1gjL","GuideManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SingtonClass"),i=e("./gameConst/BlockData"),a=e("../utils/DebugUtils"),s=e("../App"),c=e("./gameConst/EventConst"),u=e("../MXInterFace/InterFaceManager"),l=function(e){function t(){var t=e.call(this)||this;return t.map1=[[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[1,1,1,0,1,1,1,1],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0]],t.guide1=[{row:3,col:3,blockData:i.BlockData16}],t.map2=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,0,0,0,1,1],[1,1,1,0,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],t.guide2=[{row:2,col:3,blockData:i.BlockData4}],t.map3=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,1,1],[0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0]],t.guide3=[{row:0,col:0,blockData:i.BlockData16},{row:1,col:0,blockData:i.BlockData14},{row:3,col:0,blockData:i.BlockData15}],t.guideArr=[{mapData:t.map1,guideStepArrData:t.guide1,combo:2},{mapData:t.map2,guideStepArrData:t.guide2,combo:3},{mapData:t.map3,guideStepArrData:t.guide3,combo:4}],t._haveGuide=!1,t.step=0,t.combo=0,s.default.PlatformManager.bestScore&&u.setGuide(!1),t}return n(t,e),Object.defineProperty(t.prototype,"haveGuide",{get:function(){return u.is_Guide&&this._haveGuide},enumerable:!1,configurable:!0}),t.prototype.initData=function(){this.haveNextGuideData()},t.prototype.haveNextGuideData=function(){var e=this.guideArr.shift();return e?(this._guideMap=e.mapData,this._guideStepDataArr=e.guideStepArrData,this._guideStepData=this._guideStepDataArr[this.step],this.combo=e.combo,this._guideStepData?(this._haveGuide=!0,!0):(this._haveGuide=!1,!1)):(this._haveGuide=!1,!1)},t.prototype.nextGuide=function(){u.is_Guide?(this.step++,this._guideStepData=this._guideStepDataArr[this.step],this._guideStepData?(a.log("\u4e0b\u4e00\u4e2a\u6b65\u9aa4",this.step),s.default.MessageCenter.dispatch(c.default.NextStepGuide)):(this.step=0,this.haveNextGuideData()?(a.log("\u4e0b\u4e00\u9636\u6bb5\u5f15\u5bfc",this.step),s.default.MessageCenter.dispatch(c.default.NextGuide)):(a.log("\u5f15\u5bfc\u7ed3\u675f"),u.setGuide(!1),s.default.MessageCenter.dispatch(c.default.RestartGame,!0)))):s.default.MessageCenter.dispatch(c.default.RestartGame,!0)},t.prototype.skipGuide=function(){u.setGuide(!1)},Object.defineProperty(t.prototype,"guideMap",{get:function(){return this._guideMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"guideStepDataArr",{get:function(){return this._guideStepDataArr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"guideStepData",{get:function(){return this._guideStepData},enumerable:!1,configurable:!0}),t}(r.default);o.default=l,cc._RF.pop()},{"../App":"App","../MXInterFace/InterFaceManager":"InterFaceManager","../base/SingtonClass":"SingtonClass","../utils/DebugUtils":"DebugUtils","./gameConst/BlockData":"BlockData","./gameConst/EventConst":"EventConst"}],InterFaceManager:[function(e,t,o){"use strict";cc._RF.push(t,"96e6a0K7pZAVr2ruI5G/hfk","InterFaceManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.onAdClaimed=o.onAdShowed=o.onAdClicked=o.showInsertAd=o.checkInsertAd=o.isNewApi=o.finalAccheived=o.onToolUsed=o.startBounsCliked=o.startBounsShown=o.hideStickyAd=o.displayStickyAd=o.setStickyAds=o.initBanner=o.getAdSeting=o.ad_tool_number_1=o.ad_tool_limit_number_1=o.ads_start_tools_numb=o.ads_start_tools_type=o.ads_end_chance=o.ads_start_chance=o.getGameSettings=o.commonEventInterface=o.onError=o.onCheckRewardedVideoAds=o.onGameRequestAds=o.check_time=o.onShowRewardedVideoAds=o.onGameOver=o.onGameOverTrack=o.gamePlayTime=o.onGameExit=o.gameResume=o.gamePause=o.onGameStartTrack=o.onGameInit=o.onGameStart=o.ifRevive=o.setRevive=o.addRevice=o.set_revive_max_number=o.setGuide=o.setPauseTime=o.isAdClaimed=o.roomType=o.pausTime=o.pause_time=o.setADPlayeNumber=o.setHighScore=o.ad_play_number=o.add_score_number=o.revive_max_number=o.revive_number=o.stickyBannersEnabled=o.start_time=o.tournamentId=o.isAdTrack=o.appVersion=o.is_Guide=o.gameInitComplete=o.highest_num=o.user_id=o.game_id=o.room_id=void 0;var n=e("./encryption/encryption_1"),r=e("../App"),i=cc._decorator;i.ccclass,i.property;o.room_id="",o.game_id="",o.user_id="",o.highest_num=0,o.gameInitComplete=!1,o.is_Guide=!0,o.appVersion=0,o.isAdTrack=!0,o.tournamentId="",o.start_time=(new Date).getTime(),o.stickyBannersEnabled=!0,o.revive_number=0,o.revive_max_number=1,o.add_score_number=1.2,o.ad_play_number=0,o.setHighScore=function(e){o.highest_num=Math.max(o.highest_num,e)},o.setADPlayeNumber=function(){o.ad_play_number++},o.pause_time=0,o.pausTime=0,o.roomType="",o.isAdClaimed=0,o.setPauseTime=function(e){o.pause_time=e},o.setGuide=function(e){o.is_Guide=e},o.set_revive_max_number=function(e){o.revive_max_number=e<0?Math.floor(Number.MAX_VALUE):Math.floor(e)},o.addRevice=function(){o.revive_number++},o.setRevive=function(e){o.revive_number=e},o.ifRevive=function(){var e=o.revive_number<o.revive_max_number;return console.log(e+" ssssssss  "+o.revive_number+"   "+o.revive_max_number),e},o.onGameStart=function(){console.log("SSSSSSSSSSSSSSSSSSSSSSSSS:"+r.default.DeviceUtils.IsMXGame),r.default.DeviceUtils.IsMXGame&&(window.gameManager.onGameStart(),cc.game.on("commonEventInterface",this.commonEventInterface,this))},o.onGameInit=function(){if(r.default.DeviceUtils.IsMXGame){var e=window.gameManager.onGameInit(),t=JSON.parse(e);o.room_id=t.roomId,o.game_id=t.gameId,o.user_id=t.userId,o.tournamentId=t.tournamentId,o.highest_num=t.highestScore,t.isFirstOpen&&(o.is_Guide=t.isFirstOpen),t.roomType&&(o.roomType=t.roomType),t.appVersion&&(o.appVersion=Number(t.appVersion)%1e4,o.appVersion>1174&&(o.isAdTrack=!1)),o.gameInitComplete=!0}},o.onGameStartTrack=function(e){if(r.default.DeviceUtils.IsMXGame){var t={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,startType:e,tournamentType:o.roomType},n=JSON.stringify(t);window.gameManager.onTrack("gameStart",n)}},o.gamePause=function(){o.setPauseTime((new Date).getTime())},o.gameResume=function(){if(r.default.DeviceUtils.IsMXGame){var e=Date.parse((new Date).toString()),t=Math.floor((e-o.pause_time)/1e3);o.pausTime+=t;var n={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,currentTime:t},i=JSON.stringify(n);window.gameManager.onTrack("gamePause",i)}},o.onGameExit=function(e,t,n){if(r.default.DeviceUtils.IsMXGame){var i=Date.parse((new Date).toString()),a=Math.floor((i-o.start_time)/1e3),s=0,c=0;o.ad_play_number>0&&(c=1);var u=0;e>o.highest_num?(u=e,s=1):u=o.highest_num;var l={gameID:o.game_id,roomID:o.room_id,currentScore:e,highScore:u,playtime:a,currentTime:i,currentLevel:t,userID:o.user_id,isbreak:s,adClaimed:c,type:n},p=JSON.stringify(l);window.gameManager.onTrack("gameExit",p)}},o.gamePlayTime=function(){if(r.default.DeviceUtils.IsMXGame){var e=Date.parse((new Date).toString()),t=Math.floor((e-o.start_time)/1e3)-o.pausTime,n={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,playtime:t},i=JSON.stringify(n);window.gameManager.onTrack("gamePlayTime",i)}},o.onGameOverTrack=function(e){if(r.default.DeviceUtils.IsMXGame){var t=Date.parse((new Date).toString()),n=Math.floor((t-o.start_time)/1e3),i={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,currentScore:e,highScore:o.highest_num,playtime:n,currentTime:t},a=JSON.stringify(i);window.gameManager.onTrack("gameOver",a)}},o.onGameOver=function(e,t){if(r.default.DeviceUtils.IsMXGame){var i=Date.parse((new Date).toString()),a=Math.floor((i-o.start_time)/1e3),s=0;s=e>o.highest_num?e:o.highest_num;var c={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,score:e,highScore:s,info:n.getInfo(e,a,10*t+o.revive_number)},u=JSON.stringify(c);window.gameManager.onGameOver(u)}},o.onShowRewardedVideoAds=function(e,t,n){if(void 0===n&&(n=!1),r.default.DeviceUtils.IsMXGame){var i={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,position:t,autoPlay:n,tournamentID:o.tournamentId},a=JSON.stringify(i);window.gameManager.onShowRewardedVideoAds(e,a)}},o.check_time=0,o.onGameRequestAds=function(e){if(r.default.DeviceUtils.IsMXGame){var t,n=(new Date).getTime()-o.check_time;t={gameID:o.game_id,loadingtime:n,type:e};var i=JSON.stringify(t);window.gameManager.onTrack("gameRequestAds",i)}},o.onCheckRewardedVideoAds=function(e){r.default.DeviceUtils.IsMXGame&&(window.gameManager.onCheckRewardedVideoAds&&void 0!==window.gameManager.onCheckRewardedVideoAds&&"function"==typeof window.gameManager.onCheckRewardedVideoAds?(o.check_time=(new Date).getTime(),window.gameManager.onCheckRewardedVideoAds(e)):cc.game.emit(e,{status:1}))},o.onError=function(e){r.default.DeviceUtils.IsMXGame&&window.gameManager.onError(e)},o.commonEventInterface=function(e,t){switch(console.log("TTTTTTTTTTTTTTTTTTTTTT:"+e),e){case"backPressed":cc.game.emit("userGamePausedCall"),cc.game.emit("userPausedViewShowCall");break;case"screenOn":break;case"screenOff":cc.game.emit("userGamePausedCall"),cc.game.emit("userPausedViewShowCall");break;case"pagePause":cc.game.emit("eventGamePausedCall"),cc.game.emit("eventMusicPausedCall");break;case"pageResume":cc.game.emit("eventGameResumeCall"),cc.game.emit("eventMusicResumeCall")}},o.getGameSettings=function(){if(r.default.DeviceUtils.IsMXGame){var e=window.gameManager.getGameSettings(),t=JSON.parse(e);if(void 0!=t.maxRevivesAllowed){var n=t.maxRevivesAllowed;o.set_revive_max_number(n)}void 0!=t.add_score_number&&(o.add_score_number=t.add_score_number)}},o.ads_start_chance=100,o.ads_end_chance=100,o.ads_start_tools_type=1,o.ads_start_tools_numb=2,o.ad_tool_limit_number_1=2,o.ad_tool_number_1=2,o.getAdSeting=function(){if(r.default.DeviceUtils.IsMXGame){var e=window.gameManager.getGameSettings(),t=JSON.parse(e);o.ads_start_chance=t.ads_start_chance,o.ads_end_chance=t.ads_end_chance,o.ads_start_tools_type=t.ads_start_tools_type,o.ads_start_tools_numb=t.ads_start_tools_numb,o.ad_tool_limit_number_1=t.ad_tool_limit_number_1,o.ad_tool_number_1=t.ad_tool_number_1,o.stickyBannersEnabled=t.stickyBannersEnabled,console.log("AAAAAAAAAAAA:"+o.ads_start_chance+" -- "+o.ads_end_chance+" -- "+o.ads_start_tools_type+" -- "+o.ads_start_tools_numb)}},o.initBanner=function(e,t){window.MXGame.stickyAds.initialize(e,t)},o.setStickyAds=function(e){window.MXGame.stickyAds.setStickyAd(e)},o.displayStickyAd=function(){window.MXGame.stickyAds.displayStickyAd()},o.hideStickyAd=function(){window.MXGame.stickyAds.hideStickyAd()},o.startBounsShown=function(){if(r.default.DeviceUtils.IsMXGame){var e={gameID:o.game_id,roomID:o.room_id},t=JSON.stringify(e);window.gameManager.onTrack("startBounsShown",t)}},o.startBounsCliked=function(e){if(r.default.DeviceUtils.IsMXGame){var t={gameID:o.game_id,roomID:o.room_id,type:e},n=JSON.stringify(t);window.gameManager.onTrack("startBounsCliked",n)}},o.onToolUsed=function(e){if(r.default.DeviceUtils.IsMXGame){var t={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,type:e},n=JSON.stringify(t);window.gameManager.onTrack("toolUsed",n)}},o.finalAccheived=function(e){var t=r.default.PlatformManager.propNum,o=r.default.PlatformManager.usePropNum,n=r.default.PlatformManager.clearNum,i=r.default.PlatformManager.touchNum,a=Math.floor(r.default.PlatformManager.touchTimes/1e3),s=r.default.PlatformManager.putDownNum,c=r.default.PlatformManager.goodNum,u=r.default.PlatformManager.awesomeNum,l=r.default.PlatformManager.excellentNum,p=r.default.PlatformManager.fantasticNum,d=r.default.PlatformManager.addMaxScore;if(r.default.DeviceUtils.IsMXGame){var f={gameID:this.game_id,roomID:this.room_id,score:e,numA:t,numB:o,numC:n,touchNum:i,touchTimes:a,numD:s,numE:c,numF:u,numG:l,numH:p,maxA:d},h=JSON.stringify(f);window.gameManager.onTrack("finalAccheived",h)}},o.isNewApi=function(){if(!r.default.DeviceUtils.IsMXGame)return!1;if(window.window.gameManager&&window.window.gameManager.invokeSync){var e=window.window.gameManager.invokeSync("check","canUse",JSON.stringify({apiCategory:"gameAd",apiName:"check"})),t=JSON.parse(e);return!(0!==t.status||!t.result.canUse)}return!1},o.checkInsertAd=function(e){r.default.DeviceUtils.IsMXGame&&window.window.gameManager.invoke("gameAd","check",JSON.stringify({adType:"DFPInterstitial",key:e}))},o.showInsertAd=function(e){r.default.DeviceUtils.IsMXGame&&window.window.gameManager.invoke("gameAd","show",JSON.stringify({adType:"DFPInterstitial",key:e}))},o.onAdClicked=function(e,t){if(void 0===t&&(t=-1),r.default.DeviceUtils.IsMXGame){var n=null;n=-1==t?{gameID:o.game_id,roomID:o.room_id,userID:o.user_id,position:e}:{gameID:o.game_id,roomID:o.room_id,userID:o.user_id,position:e,autoPlayed:t};var i=JSON.stringify(n);window.gameManager.onTrack("gameAdClicked",i)}},o.onAdShowed=function(e){if(r.default.DeviceUtils.IsMXGame){var t={gameID:o.game_id,roomID:o.room_id,userID:o.user_id,position:e},n=JSON.stringify(t);window.gameManager.onTrack("gameAdShown",n)}},o.onAdClaimed=function(e,t){if(void 0===t&&(t=-1),r.default.DeviceUtils.IsMXGame){o.isAdClaimed=1,o.setADPlayeNumber();var n=null;n=-1==t?{gameID:o.game_id,roomID:o.room_id,userID:o.user_id,position:e}:{gameID:o.game_id,roomID:o.room_id,userID:o.user_id,position:e,autoPlayed:t};var i=JSON.stringify(n);window.gameManager.onTrack("gameAdClaimed",i)}},cc._RF.pop()},{"../App":"App","./encryption/encryption_1":"encryption_1"}],KeyboardUtils:[function(e,t,o){"use strict";cc._RF.push(t,"6345fDWj3FK15/JjcFQHECT","KeyboardUtils");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;if(t.key_ups=new Array,t.key_downs=new Array,App.DeviceUtils.IsHtml5){var o=t;document.addEventListener("keyup",function(e){for(var t=0,n=o.key_ups.length;t<n;t++){var r=o.key_ups[t][0],i=o.key_ups[t][1];i?r.call(i,e.keyCode):r(e.keyCode)}}),document.addEventListener("keydown",function(e){for(var t=0,n=o.key_downs.length;t<n;t++){var r=o.key_downs[t][0],i=o.key_downs[t][1];i?r.call(i,e.keyCode):r(e.keyCode)}})}return t}return n(t,e),t.prototype.addKeyUp=function(e,t){this.key_ups.push([e,t])},t.prototype.addKeyDown=function(e,t){this.key_downs.push([e,t])},t.prototype.removeKeyUp=function(e,t){for(var o=0;o<this.key_ups.length;o++)this.key_ups[o][0]==e&&this.key_ups[o][1]==t&&(this.key_ups.splice(o,1),o--)},t.prototype.removeKeyDown=function(e,t){for(var o=0;o<this.key_downs.length;o++)this.key_downs[o][0]==e&&this.key_downs[o][1]==t&&(this.key_downs.splice(o,1),o--)},t}(e("../base/SingtonClass").default);o.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],LoadIcon:[function(e,t,o){"use strict";cc._RF.push(t,"a7add6Np0ZPLbmKCdeWDFPD","LoadIcon");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.Independent,a.UIFormShowMode.Independent,a.UIFormLucenyType.Lucency),t.icon=null,t}return n(t,e),t.prototype.onShow=function(){cc.tween(this.icon).by(1,{angle:360}).repeatForever().start()},r([l(cc.Node)],t.prototype,"icon",void 0),t=r([u],t)}(i.default);o.default=p,cc._RF.pop()},{"../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine"}],LoadingUI:[function(e,t,o){"use strict";cc._RF.push(t,"8718ck4791KD4irgiUp/bIG","LoadingUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../App"),p=e("../gameConst/EventConst"),d=e("../../utils/DebugUtils"),f=e("../gameConst/GameUIConst"),h=e("../../sound/MusicConst"),y=cc._decorator,m=y.ccclass,g=y.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.Normal,c.UIFormShowMode.Independent,c.UIFormLucenyType.Lucency),t.soundOnBtn=null,t.soundOffBtn=null,t.loadingGroup=null,t.loadingBar=null,t.loadingText=null,t.ani=null,t.TapStart=null,t.bg=null,t.percent=0,t}return n(t,e),t.prototype.init=function(e){d.log("init ",e)},t.prototype.load=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return d.log("load"),[2]})})},t.prototype.onLoad=function(){d.log("onLoad"),l.default.PlatformManager.start(),this.showLoadingBar(!0),this.ani.node.active=!1,this.TapStart.node.active=!1,l.default.MessageCenter.addListener(p.default.Loading,this.loading,this),this.addClick(this.soundOnBtn,this.openSound),this.addClick(this.soundOffBtn,this.closeSound),this.loadingWidth=this.loadingBar.width,this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%")},t.prototype.start=function(){this.loadingBar.width=0,this.loadGame(),this.refreshSoundStatus(!0)},t.prototype.showLoadingBar=function(e){this.loadingGroup.active=e},t.prototype.loadGame=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return this.loadingGroup.active=!0,this.ani.node.active=!0,this.ani.setAnimation(0,"Logo",!1),e=[f.default.GameView],[4,l.default.UIManager.loadUIForms(e)];case 1:return t.sent(),this.showLoadingBar(!1),this.showTapStart(),[2]}})})},t.prototype.showTapStart=function(){this.TapStart.node.opacity=0,cc.tween(this.TapStart.node).repeatForever(cc.tween().to(1,{opacity:255}).to(1,{opacity:50})).start(),this.TapStart.node.active=!0,this.bg.node.once(cc.Node.EventType.TOUCH_START,this.openGame,this)},t.prototype.openGame=function(){l.default.SoundManager.playEffect(h.MusicConst.button),l.default.PlatformManager.startGame()},t.prototype.loading=function(e,t,o){this.percent=e/t,this.loadingBar.width=this.loadingWidth*this.percent,this.percent=Math.floor(100*this.percent),d.log("\u52a0\u8f7d",e,t),this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%")},t.prototype.openSound=function(){l.default.SoundManager.playEffect(h.MusicConst.button),this.refreshSoundStatus(!1),l.default.SoundManager.setPauseFlag(!0)},t.prototype.closeSound=function(){l.default.SoundManager.playEffect(h.MusicConst.button),this.refreshSoundStatus(!0),l.default.SoundManager.setPauseFlag(!1)},t.prototype.refreshSoundStatus=function(e){this.soundOnBtn.active=e,this.soundOffBtn.active=!e},t.prototype.onDestroy=function(){},r([g(cc.Node)],t.prototype,"soundOnBtn",void 0),r([g(cc.Node)],t.prototype,"soundOffBtn",void 0),r([g(cc.Node)],t.prototype,"loadingGroup",void 0),r([g(cc.Node)],t.prototype,"loadingBar",void 0),r([g(cc.Label)],t.prototype,"loadingText",void 0),r([g(sp.Skeleton)],t.prototype,"ani",void 0),r([g(cc.Label)],t.prototype,"TapStart",void 0),r([g(cc.Sprite)],t.prototype,"bg",void 0),t=r([m],t)}(s.default);o.default=_,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst"}],Log:[function(e,t,o){"use strict";cc._RF.push(t,"a9b87WtndpL1b80Bqbddveh","Log");var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<o;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../App"),i=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(r.default.DebugUtils.isDebug){var o="[Debug]"+e.shift();console.log.apply(console,n([o],e))}},e.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o="[Info]"+e.shift();console.log.apply(console,n([o],e))},e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o="[Warn]"+e.shift();console.warn.apply(console,n([o],e))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o="[Error]"+e.shift();console.error.apply(console,n([o],e))},e}();o.default=i,cc._RF.pop()},{"../App":"App"}],MXAd:[function(e,t,o){"use strict";cc._RF.push(t,"bdfc01SzWdEB5k3PPpLKdfU","MXAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./InterFaceManager"),r=e("../utils/DebugUtils"),i=function(){function e(){this.autoPlayed=-1,this.watchType="",cc.game.on("onShowRewardedVideoAds",this.onShowRewardedVideoAds,this),cc.game.on("onCheckRewardedVideoAds",this.onCheckRewardedVideoAds,this)}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.show=function(e,t,o,r,i,a){this.callback=t,this.callObj=o,this.errorback=r,this.errorObj=i,this.watchType=e,this.autoPlayed=a?0:1,n.onShowRewardedVideoAds("onShowRewardedVideoAds",this.watchType,!a),n.onAdClicked(this.watchType,this.autoPlayed),n.onAdShowed(this.watchType),cc.game.emit("eventMusicPausedCall")},e.prototype.checkAd=function(e,t,o,r,i){this.checkBack=t,this.checkObj=o,this.checkErrorBack=r,this.checErrorObj=i,this.watchType=e,n.onCheckRewardedVideoAds("onCheckRewardedVideoAds")},e.prototype.onCheckRewardedVideoAds=function(e){n.onGameRequestAds(this.watchType);var t=e.status;r.log("onCheckRewardedVideoAds   "+t),0==t?this.checkBack&&this.checkObj&&(this.checkBack.apply(this.checkObj),this.checkBack=null,this.checkObj=null):this.checkErrorBack&&this.checErrorObj&&(this.checkErrorBack.apply(this.checErrorObj),this.checkErrorBack=null,this.checErrorObj=null)},e.prototype.onShowRewardedVideoAds=function(e){cc.game.emit("eventMusicResumeCall");var t=e.status;0==t&&(n.onAdClaimed(this.watchType,this.autoPlayed),this.call()),1==t&&this.closeAd(),2==t&&r.log("2222222222222222222222"),3==t&&r.log("3333333333333333333333")},e.prototype.call=function(){this.callback&&this.callObj&&(this.callback.apply(this.callObj),this.callback=null,this.callObj=null)},e.prototype.closeAd=function(){this.errorback&&this.errorObj&&(this.errorback.apply(this.errorObj),this.errorback=null,this.errorObj=null)},e}();o.default=i,cc._RF.pop()},{"../utils/DebugUtils":"DebugUtils","./InterFaceManager":"InterFaceManager"}],MXInsertAd:[function(e,t,o){"use strict";cc._RF.push(t,"ebc42I7oVpHi5J0KwHyz1lx","MXInsertAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./InterFaceManager"),r=function(){function e(){this.autoPlayed=-1,this.watchType="",cc.game.on("gameAd",this.onGameAd,this),this.isNewApi=n.isNewApi()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.show=function(e,t,o,r,i){this.callback=t,this.callObj=o,this.errorback=r,this.errorObj=i,this.watchType=e,n.showInsertAd("onShowInsertAd")},e.prototype.checkAd=function(e,t,o,r,i){this.checkBack=t,this.checkObj=o,this.checkErrorBack=r,this.checErrorObj=i,this.watchType=e,n.checkInsertAd("onCheckInsertAd")},e.prototype.onGameAd=function(e,t){"check"==e?this.onCheckInsertAd(t.result):"show"==e&&this.onShowInsertAd(t.result)},e.prototype.onCheckInsertAd=function(e){var t=e.status;console.log("onCheckInsertAd    ",t),0==t?this.checkBack&&this.checkObj&&(this.checkBack.apply(this.checkObj),this.checkBack=null,this.checkObj=null):this.checkErrorBack&&this.checErrorObj&&(this.checkErrorBack.apply(this.checErrorObj),this.checkErrorBack=null,this.checErrorObj=null)},e.prototype.onShowInsertAd=function(e){var t=e.status;console.log("onShowInsertAd    ",t),0==t&&this.call(),1==t&&this.closeAd(),2==t&&console.log("2222222222222222222222"),3==t&&console.log("3333333333333333333333")},e.prototype.call=function(){this.callback&&this.callObj&&(this.callback.apply(this.callObj),this.callback=null,this.callObj=null)},e.prototype.closeAd=function(){this.errorback&&this.errorObj&&(this.errorback.apply(this.errorObj),this.errorback=null,this.errorObj=null)},e}();o.default=r,cc._RF.pop()},{"./InterFaceManager":"InterFaceManager"}],MathUtils:[function(e,t,o){"use strict";cc._RF.push(t,"eed02FxLA1MzriaZ/5tQJlb","MathUtils");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getAngle=function(e){return 180*e/Math.PI},t.prototype.getRadian=function(e){return e/180*Math.PI},t.prototype.getRadian2=function(e,t,o,n){var r=o-e,i=n-t;return Math.atan2(i,r)},t.prototype.getDistance=function(e,t,o,n){var r=o-e,i=n-t,a=r*r+i*i;return Math.sqrt(a)},t}(e("../base/SingtonClass").default);o.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],MessageCenter:[function(e,t,o){"use strict";cc._RF.push(t,"d31a5tFM6pBf5aMCGG8izc0","MessageCenter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SingtonClass"),i=e("../App"),a=e("./Log"),s=e("./ObjectPool"),c=function(e){function t(t){var o=e.call(this)||this;return o.type=t,o.dict={},o.eVec=new Array,o.lastRunTime=0,0==o.type&&i.default.TimerManager.doFrame(1,0,o.run,o),o}return n(t,e),t.prototype.clear=function(){this.dict={},this.eVec.splice(0)},t.prototype.addListener=function(e,t,o){var n=this.dict[e];null==n&&(n=new Array,this.dict[e]=n);for(var r=0,i=n.length;r<i;r++)if(n[r][0]==t&&n[r][1]==o)return;n.push([t,o])},t.prototype.removeListener=function(e,t,o){var n=this.dict[e];if(null!=n){for(var r=0,i=n.length;r<i;r++)if(n[r][0]==t&&n[r][1]==o){n.splice(r,1);break}0==n.length&&(this.dict[e]=null,delete this.dict[e])}},t.prototype.removeAll=function(e){for(var t=Object.keys(this.dict),o=0,n=t.length;o<n;o++){for(var r=t[o],i=this.dict[r],a=0;a<i.length;a++)i[a][1]==e&&(i.splice(a,1),a--);0==i.length&&(this.dict[r]=null,delete this.dict[r])}},t.prototype.dispatch=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(null!=this.dict[e]){var n=s.default.pop("MessageVo");n.type=e,n.param=t,0==this.type?this.eVec.push(n):1==this.type?this.dealMsg(n):a.default.warn("MessageCenter\u672a\u5b9e\u73b0\u7684\u7c7b\u578b")}},t.prototype.run=function(){var e=cc.director.getTotalTime(),t=e-this.lastRunTime>100;if(this.lastRunTime=e,t)for(;this.eVec.length>0;)this.dealMsg(this.eVec.shift());else for(;this.eVec.length>0&&(this.dealMsg(this.eVec.shift()),!(cc.director.getTotalTime()-e>5)););},t.prototype.dealMsg=function(e){for(var t=this.dict[e.type],o=0,n=t.length,r=null;o<n;)(r=t[o])[0].apply(r[1],e.param),t.length!=n&&(n=t.length,o--),o++;e.dispose(),s.default.push(e)},t.prototype.isHasListener=function(e){return void 0!=this.dict[e]},t}(r.default);o.default=c,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass","./Log":"Log","./ObjectPool":"ObjectPool"}],MessageVo:[function(e,t,o){"use strict";cc._RF.push(t,"ad0bew8VsZMirvhdmGpJIwJ","MessageVo");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MessageVo=void 0;var r=cc._decorator.ccclass,i=function(){function e(){}return e.prototype.dispose=function(){this.type=null,this.param=null},e=n([r("MessageVo")],e)}();o.MessageVo=i,cc._RF.pop()},{}],MultiResoultionCompat:[function(e,t,o){"use strict";cc._RF.push(t,"b6c42Wz64tDYYqUBUbC2YRW","MultiResoultionCompat");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.prototype.onLoad=function(){cc.view.setDesignResolutionSize(o.DEFAULT_RESOLUTION_WIDTH,o.DEFAULT_RESOLUTION_HEIGHT,cc.ResolutionPolicy.SHOW_ALL)},t.getShowAllModeScale=function(){return Math.min(cc.view.getCanvasSize().width/this.DEFAULT_RESOLUTION_WIDTH,cc.view.getCanvasSize().height/this.DEFAULT_RESOLUTION_HEIGHT)},t.getShowAllModeRealHeight=function(){return this.DEFAULT_RESOLUTION_HEIGHT*this.getShowAllModeScale()},t.getShowAllModeRealWidth=function(){return this.DEFAULT_RESOLUTION_WIDTH*this.getShowAllModeScale()},t.getShowAllModeVerticalBorderHeight=function(){return cc.view.getCanvasSize().height-this.getShowAllModeRealHeight()},t.getShowAllModeHorizontalBorderWidth=function(){return cc.view.getCanvasSize().width-this.getShowAllModeRealWidth()},t.getShowAllModeNodePositionCloseToBottom=function(e){var t=o.getShowAllModeScale(),n=o.getShowAllModeVerticalBorderHeight()/2,r=(e.y*t-n)/t;return cc.v2(e.x,r)},t.convertNodePosInDesignToNodePosInCanvas=function(e){return e.sub(cc.v2(this.getShowAllModeScale(),this.getShowAllModeScale()))},t.convertNodePosInCanvasToNodePosInDesign=function(e){},t.convertWidthInDesignToWidthInCanvas=function(e){return e*this.getShowAllModeScale()},t.convertWidthInCanvasToWidthInDesign=function(e){return e/this.getShowAllModeScale()},t.convertHeightInDesignToHeightInCanvas=function(e){return e*this.getShowAllModeScale()},t.convertHeightInCanvasToHeightInDesign=function(e){return e/this.getShowAllModeScale()},t.DEFAULT_RESOLUTION_WIDTH=720,t.DEFAULT_RESOLUTION_HEIGHT=1280,t=o=r([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],MusicConst:[function(e,t,o){"use strict";cc._RF.push(t,"b7d4cAkZFNDjof8MWF4xSYF","MusicConst"),Object.defineProperty(o,"__esModule",{value:!0}),o.MusicConst=void 0,o.MusicConst={bg5:"sound/bg5",putdown:"sound/putdown",button:"sound/button",clear:"sound/line1",rotate:"sound/rotate",reset:"sound/reset",unlock:"sound/unlock",good:"sound/good",awesome:"sound/awesome",excellent:"sound/excellent",fantastic:"sound/fantastic",gameover:"sound/gameover"},cc._RF.pop()},{}],NetInterface:[function(e,t,o){"use strict";cc._RF.push(t,"8f1ecIEMhdDFqz2NkrYbjoP","NetInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],NetManager:[function(e,t,o){"use strict";cc._RF.push(t,"36926qTKX5EsJ+mV+wfKKQG","NetManager"),Object.defineProperty(o,"__esModule",{value:!0});var n,r=e("../GEventManager"),i=e("./CWebSocket");(function(e){e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected"})(n||(n={}));var a=function(){function e(){this.state=n.Closed,this.reconnectTimes=0,this.eventHandlers=cc.js.createMap()}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.connect=function(e,t){this.socket||(this.socket=new i.default,this.addEventToSocket()),this.connectOption=e,this.reconnectTimes=t,this.socket&&this.state===n.Closed&&this.socket.connect(this.connectOption),this.state=n.Connecting},e.prototype.send=function(e){return this.state!==n.Connected?(cc.log("\u7f51\u7edc\u672a\u8fde\u63a5\uff01\u65e0\u6cd5\u53d1\u9001\u6570\u636e"),!1):this.socket.send(e)},e.prototype.request=function(e,t,o){this.onEventHandler(e.cmd,t,o),this.send(e)},e.prototype.addEventToSocket=function(){var e=this;this.socket.onConnect=function(t){cc.log("\u8fde\u63a5\u7f51\u7edc\u6210\u529f!"),e.state=n.Connected,r.default.emit("NetWork_Connect",null)},this.socket.onMessage=function(t){var o=e.eventHandlers[t.cmd];if(o)for(var n=0,r=o;n<r.length;n++){var i=r[n];i.target?i.callback.call(i.target,t.data):i.callback(t.data)}else cc.log("\u6536\u5230\u4e00\u4e2a\u672a\u77e5\u547d\u4ee4:"+t.cmd)},this.socket.onClose=function(t){e.reconnectTimes<0?e.connect(e.connectOption,e.reconnectTimes):0!==e.reconnectTimes?(e.reconnectTimes--,e.connect(e.connectOption,e.reconnectTimes)):cc.log("\u8fde\u63a5\u5173\u95ed\uff01")},this.socket.onError=function(e){cc.log("\u7f51\u7edc\u9519\u8bef\uff01")}},e.prototype.onEventHandler=function(e,t,o,n){void 0===n&&(n=!1),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(new s(t,o,n))},e.prototype.onceEventHandler=function(e,t,o){this.onEventHandler(e,t,o,!0)},e.prototype.offEventHandler=function(e,t,o){var n=this.eventHandlers[e];if(n){for(var r=n.length-1;r>=0;r--)n[r]&&n[r].callback===t&&n[r].target===o&&n.splice(r,1);0===n.length&&this.clearEventHandler[e]}else cc.log("\u6ca1\u6709\u8fd9\u4e2a\u547d\u4ee4"+e+"\uff0c\u8bf7\u6ce8\u610f")},e.prototype.clearEventHandler=function(e){this.eventHandlers[e]&&(this.eventHandlers[e]=null,delete this.eventHandlers[e])},e.instance=null,e}();o.default=a;var s=function(){return function(e,t,o){this.callback=e,this.target=t,this.once=o}}();cc._RF.pop()},{"../GEventManager":"GEventManager","./CWebSocket":"CWebSocket"}],NetTest:[function(e,t,o){"use strict";cc._RF.push(t,"792860pzepEeql1MnEMXfDm","NetTest"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ObjectPool:[function(e,t,o){"use strict";cc._RF.push(t,"82cf0ziVX9Nz5risURr6d/s","ObjectPool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this._objs=new Array}return e.prototype.pushObj=function(e){this._objs.push(e)},e.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},e.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},e.pop=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e._content[t]||(e._content[t]=[]);var r=e._content[t];if(r.length)return r.pop();var i=cc.js.getClassByName(t);if(!i)return console.warn("\u9700\u8981\u58f0\u660eccclass-----"+t),null;var a,s=o.length;return 0==s?a=new i:1==s?a=new i(o[0]):2==s?a=new i(o[0],o[1]):3==s?a=new i(o[0],o[1],o[2]):4==s?a=new i(o[0],o[1],o[2],o[3]):5==s&&(a=new i(o[0],o[1],o[2],o[3],o[4])),a.ObjectPoolKey=t,a},e.popWithExtraKey=function(t,o){var n;e._content[t]||(e._content[t]=[]);var r=e._content[t];if(r.length)for(var i=0;i<r.length;i++)if(r[i].extraKey==o){n=r[i],r.splice(i,1);break}if(!n){var a=cc.js.getClassByName(t);if(!a)return console.warn("\u9700\u8981\u58f0\u660eccclass-----"+t),null;(n=new a(o)).extraKey=o,n.ObjectPoolKey=t}return n},e.push=function(t){if(null==t)return!1;var o=t.ObjectPoolKey;return!!e._content[o]&&(e._content[o].push(t),!0)},e.clear=function(){e._content={}},e.clearClass=function(t,o){void 0===o&&(o=null);for(var n=e._content[t];n&&n.length;){var r=n.pop();o&&r[o](),r=null}e._content[t]=null,delete e._content[t]},e.dealFunc=function(t,o){var n=e._content[t];if(null!=n)for(var r=0,i=n.length;r<i;r++)n[r][o]()},e._content={},e}();o.default=n,window.ObjectPool=n,cc._RF.pop()},{}],PauseUI:[function(e,t,o){"use strict";cc._RF.push(t,"c88491r0vVDop68GmZr/XSB","PauseUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../utils/DebugUtils"),l=e("../gameConst/GameUIConst"),p=e("../../sound/MusicConst"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.Fixed,a.UIFormShowMode.HideOther,a.UIFormLucenyType.Translucence),t.soundOnBtn=null,t.soundOffBtn=null,t}return n(t,e),t.prototype.onShow=function(){e.prototype.onShow.call(this),u.log("onshow"),this.soundOffBtn.active=!c.default.SoundManager.pauseFlag,this.soundOnBtn.active=c.default.SoundManager.pauseFlag,c.default.PlatformManager.gamePause(),c.default.PlatformManager.showInsertAd()},t.prototype.openSound=function(){c.default.SoundManager.playEffect(p.MusicConst.button),this.soundOnBtn.active=!0,this.soundOffBtn.active=!1,c.default.SoundManager.setPauseFlag(!0)},t.prototype.closeSound=function(){c.default.SoundManager.playEffect(p.MusicConst.button),this.soundOnBtn.active=!1,this.soundOffBtn.active=!0,c.default.SoundManager.setPauseFlag(!1)},t.prototype.resume=function(){c.default.SoundManager.playEffect(p.MusicConst.button),this.closeUIForm(),c.default.PlatformManager.gameResume()},t.prototype.restart=function(){c.default.SoundManager.playEffect(p.MusicConst.button),c.default.UIManager.showUIFormWithLoading(l.default.RestartUI)},t.prototype.exit=function(){c.default.SoundManager.playEffect(p.MusicConst.button),c.default.UIManager.showUIFormWithLoading(l.default.QuitUI)},t.prototype.onDestroy=function(){},r([h(cc.Node)],t.prototype,"soundOnBtn",void 0),r([h(cc.Node)],t.prototype,"soundOffBtn",void 0),t=r([f],t)}(i.default);o.default=y,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/GameUIConst":"GameUIConst"}],PlatformManager:[function(e,t,o){"use strict";cc._RF.push(t,"daefbWJupBNJLUU1wlnGKsC","PlatformManager");var n=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Watch_Type=void 0;var i=e("../App"),a=e("./InterFaceManager"),s=e("./MXAd"),c=e("../game/gameConst/GameUIConst"),u=e("./MXInsertAd"),l=function(){function e(){this.score=0,this.propNum=0,this.usePropNum=0,this.clearNum=0,this.touchNum=0,this.touchTimes=0,this.putDownNum=0,this.goodNum=0,this.awesomeNum=0,this.excellentNum=0,this.fantasticNum=0,this.addMaxScore=0,this.watchNum=0,this._bestScore=0}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(e){i.default.DeviceUtils.init(e),i.default.DeviceUtils.IsTaktakGame&&i.default.TaktakReport.start()},Object.defineProperty(e.prototype,"bestScore",{get:function(){return i.default.DeviceUtils.IsMXGame?this._bestScore=a.highest_num:this._bestScore=Number(cc.sys.localStorage.getItem("BlockPuzzle_BestScore"))||0,this._bestScore},set:function(e){this._bestScore=e,i.default.DeviceUtils.IsMXGame?a.setHighScore(e):localStorage.setItem("BlockPuzzle_BestScore",e.toString())},enumerable:!1,configurable:!0}),e.prototype.start=function(){i.default.DeviceUtils.IsMXGame?(a.onGameStart(),a.getGameSettings(),a.onGameInit(),a.getAdSeting(),a.onGameStartTrack("newGame")):i.default.DeviceUtils.IsTaktakGame?i.default.TaktakReport.gamePlayEnter():i.default.DeviceUtils.IsTelegramGame&&i.default.TelegramManager.start()},e.prototype.continueGame=function(){i.default.DeviceUtils.IsMXGame||i.default.DeviceUtils.IsAndroid?(a.addRevice(),a.onGameStartTrack("restart")):i.default.DeviceUtils.IsTaktakGame},e.prototype.clickRestart=function(){i.default.DeviceUtils.IsMXGame?a.onGameStartTrack("restart"):i.default.DeviceUtils.IsTaktakGame?i.default.TaktakReport.playAgain():i.default.DeviceUtils.IsTelegramGame?(i.default.TelegramManager.game_start_time=Date.now(),i.default.TelegramManager.share_count=0):(a.setRevive(0),this.watchNum=0)},e.prototype.gameEnd=function(){return n(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return i.default.DeviceUtils.IsMXGame?(a.onGameExit(this.score,i.default.BlockManager.level,"over"),a.onGameOver(this.score,this.score),a.finalAccheived(this.score),a.gamePlayTime(),[3,5]):[3,1];case 1:return i.default.DeviceUtils.IsTaktakGame?[3,5]:[3,2];case 2:return i.default.DeviceUtils.IsTelegramGame?[4,i.default.TelegramManager.upLoadScore(this.score)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.default.UIManager.showUIFormWithLoading(c.default.GameOverUI),e.label=5;case 5:return[2]}})})},e.prototype.gameAddScoreEnd=function(){if(i.default.DeviceUtils.IsMXGame){var e=Math.floor(this.score*a.add_score_number);a.onGameExit(e,i.default.BlockManager.level,"over"),a.onGameOver(e,this.score),a.finalAccheived(e),a.gamePlayTime()}else i.default.DeviceUtils.IsTaktakGame},e.prototype.gameExit=function(){i.default.DeviceUtils.IsMXGame?(a.onGameExit(this.score,i.default.BlockManager.level,"exit"),a.onGameOver(this.score,this.score),a.finalAccheived(this.score),a.gamePlayTime()):i.default.DeviceUtils.IsTaktakGame?i.default.TaktakReport.gameOver():i.default.UIManager.showUIFormWithLoading(c.default.GameOverUI)},e.prototype.startGame=function(){i.default.DeviceUtils.IsMXGame||i.default.DeviceUtils.IsAndroid?i.default.UIManager.showUIFormWithLoading(c.default.GameView):(i.default.DeviceUtils.IsTaktakGame,i.default.UIManager.showUIFormWithLoading(c.default.GameView))},e.prototype.gameOver=function(){return n(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return i.default.DeviceUtils.IsMXGame||i.default.DeviceUtils.IsAndroid?(e=i.default.RandomUtils.limitInteger(0,100),e<a.ads_end_chance&&a.ifRevive()?this.checkAd(o.Watch_Type.Revive,function(){i.default.UIManager.showUIFormWithLoading(c.default.RewardUI)},this,this.gameEnd,this):this.gameEnd(),[3,5]):[3,1];case 1:return i.default.DeviceUtils.IsTaktakGame?(i.default.TaktakReport.gameExit(),i.default.UIManager.showUIFormWithLoading(c.default.GameOverUI),[3,5]):[3,2];case 2:return i.default.DeviceUtils.IsTelegramGame?[4,this.gameEnd()]:[3,4];case 3:return t.sent(),i.default.UIManager.showUIForm(c.default.TelegramCommonUI,"GameOver-"+this.score),[3,5];case 4:i.default.UIManager.showUIFormWithLoading(c.default.GameOverUI),t.label=5;case 5:return[2]}})})},e.prototype.showAd=function(e,t,o,a,c,u){return n(this,void 0,void 0,function(){return r(this,function(n){return i.default.DeviceUtils.IsMXGame?s.default.instance.show(e,t,o,a,c,u):(i.default.DeviceUtils.IsTaktakGame,t.apply(o)),[2]})})},e.prototype.checkAd=function(e,t,o,a,c){return n(this,void 0,void 0,function(){return r(this,function(n){return i.default.DeviceUtils.IsMXGame?s.default.instance.checkAd(e,t,o,a,c):(i.default.DeviceUtils.IsTaktakGame,t.apply(o)),[2]})})},e.prototype.showInsertAd=function(){var e=this;i.default.DeviceUtils.IsMXGame&&(u.default.instance.isNewApi?u.default.instance.checkAd("insertAd",function(){console.log("showInsertAd  ------- \u5c55\u793a\u5e7f\u544a"),u.default.instance.show("insertAd",function(){console.log("showInsertAd  ------- \u5c55\u793a\u6210\u529f")},e,function(){console.log("showInsertAd  ------- \u5c55\u793a\u5931\u8d25")},e)},this,function(){console.log("showInsertAd  ------- \u68c0\u6d4b\u5931\u8d25")},this):console.log("showInsertAd ------ \u4e0d\u652f\u6301Api"))},e.prototype.initBannerAd=function(){var e=this;i.default.DeviceUtils.IsTaktakGame?(console.log("showBanner initBannerAd"),1==a.stickyBannersEnabled&&void 0!==window.MXGame&&void 0!==window.MXGame.stickyAds&&(console.log("showBanner initBannerAd222222"),window.MXGame.stickyAds.initialize(function(t){console.log("showBanner initBannerAd33333"),t.adLoaded?(console.log("showBanner success"),window.MXGame.stickyAds.setStickyAd("bottom"),e.showBannerAd()):console.log("showBanner fail")}))):i.default.DeviceUtils.IsMXGame&&this.showBannerAd()},e.prototype.showBannerAd=function(){i.default.DeviceUtils.IsTaktakGame?1==a.stickyBannersEnabled&&void 0!==window.MXGame&&void 0!==window.MXGame.stickyAds&&window.MXGame.stickyAds.displayStickyAd():i.default.DeviceUtils.IsMXGame&&(console.log("showBanner"),console.log(a.stickyBannersEnabled,"stickyBannersEnabledstickyBannersEnabledstickyBannersEnabled"),cc.game.off("adShown"),cc.game.off("adNotShown"),a.stickyBannersEnabled&&(cc.game.on("adShown",function(){console.log("adShown")}),cc.game.on("adNotShown",function(){console.log("adNotShown")}),window.gameManager.showStickyAds("bottom")))},e.prototype.gameResume=function(){i.default.DeviceUtils.IsMXGame?a.gameResume():i.default.DeviceUtils.IsTaktakGame},e.prototype.gamePause=function(){i.default.DeviceUtils.IsMXGame?a.gamePause():i.default.DeviceUtils.IsTaktakGame},e.prototype.onToolUsed=function(e){void 0===e&&(e="rotate"),i.default.DeviceUtils.IsMXGame?a.onToolUsed(e):i.default.DeviceUtils.IsTaktakGame},e}();o.default=l,o.Watch_Type={Start:"start",Rotate:"rotate",Revive:"revive",Addrevice:"addrevice"},cc._RF.pop()},{"../App":"App","../game/gameConst/GameUIConst":"GameUIConst","./InterFaceManager":"InterFaceManager","./MXAd":"MXAd","./MXInsertAd":"MXInsertAd"}],PowerUpUI:[function(e,t,o){"use strict";cc._RF.push(t,"68db9psUtVBNb6hcQCDKFn5","PowerUpUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../utils/DebugUtils"),l=e("../gameConst/GameUIConst"),p=e("../../MXInterFace/PlatformManager"),d=e("../../MXInterFace/InterFaceManager"),f=e("../../sound/MusicConst"),h=cc._decorator,y=h.ccclass,m=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.PopUp,a.UIFormShowMode.HideOther,a.UIFormLucenyType.Translucence),t.numLabel=null,t.timeLabel=null,t._time=3,t}return n(t,e),t.prototype.onLoad=function(){this.setLabel(this.numLabel,"x"+d.ads_start_tools_numb)},t.prototype.onShow=function(){d.startBounsShown(),this.time=3,c.default.TimerManager.doTimer(1500,3,this.updateTime,this,this.watchAd,this)},Object.defineProperty(t.prototype,"time",{get:function(){return this._time},set:function(e){this._time=e,this.timeLabel.string=e.toString(),cc.tween(this.timeLabel.node).to(.1,{scale:1.1}).to(.1,{scale:1}).start()},enumerable:!1,configurable:!0}),t.prototype.updateTime=function(){this.time--,this.time<=0&&(this.time=0)},t.prototype.resume=function(e){void 0===e&&(e="quit"),c.default.SoundManager.playEffect(f.MusicConst.button),this.close(),d.startBounsCliked(e)},t.prototype.close=function(){this.closeUIForm(),c.default.UIManager.showUIFormWithLoading(l.default.GameView),c.default.TimerManager.remove(this.updateTime,this)},t.prototype.watchAd=function(){c.default.SoundManager.playEffect(f.MusicConst.button),u.log("\u770b\u5e7f\u544a"),c.default.PlatformManager.showAd(p.Watch_Type.Start,this.addProp,this,this.close,this,!0),d.startBounsCliked("click")},t.prototype.addProp=function(){u.log("addProp"),c.default.PlatformManager.propNum+=d.ads_start_tools_numb,this.close()},r([m(cc.Label)],t.prototype,"numLabel",void 0),r([m(cc.Label)],t.prototype,"timeLabel",void 0),t=r([y],t)}(i.default);o.default=g,cc._RF.pop()},{"../../App":"App","../../MXInterFace/InterFaceManager":"InterFaceManager","../../MXInterFace/PlatformManager":"PlatformManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/GameUIConst":"GameUIConst"}],PrioritiyQueue:[function(e,t,o){"use strict";cc._RF.push(t,"544a89hatZCpo7NUgSw8Ymn","PrioritiyQueue"),Object.defineProperty(o,"__esModule",{value:!0}),o.PrioritiyQueue=void 0;var n=function(){function e(e){void 0===e&&(e=10),this.front=0,this.rear=0,this.size=0,this.length=0,this.queue=new Array(e),this.length=e}return e.prototype.enqueue=function(e){if(this.size>=this.length)return!1;for(var t=this.rear,o=this.front;o<this.rear;o=(o+1)%this.length)if(e.priority<this.queue[o].priority){t=o;break}for(o=t;o<this.rear;o=(o+1)%this.length)this.queue[(o+1)%this.length]=this.queue[o];return this.queue[t]=e,this.size++,this.rear=(this.rear+1)%this.length,!0},e.prototype.dequeue=function(){if(0===this.size)return null;this.size--;var e=this.queue[this.front];return this.front=(this.front+1)%this.length,e},e.prototype.getSize=function(){return this.size},e.prototype.isEmpty=function(){return 0===this.size},e.prototype.walkAllItem=function(e){for(var t=0,o=this.front;o<this.rear&&e(t++,this.queue[o]);o=(o+1)%this.length);},e}();o.PrioritiyQueue=n,cc._RF.pop()},{}],PropUI:[function(e,t,o){"use strict";cc._RF.push(t,"c0905hxmJJJLKlibNHBPTkA","PropUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../utils/DebugUtils"),l=e("../../MXInterFace/PlatformManager"),p=e("../../sound/MusicConst"),d=e("../gameConst/EventConst"),f=e("../../MXInterFace/InterFaceManager"),h=cc._decorator,y=h.ccclass,m=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.PopUp,a.UIFormShowMode.HideOther,a.UIFormLucenyType.Translucence),t.numLabel=null,t.watchLabel=null,t.allLabel=null,t.watchBtn=null,t}return n(t,e),t.prototype.onLoad=function(){this.setLabel(this.numLabel,""+f.ad_tool_number_1)},t.prototype.onShow=function(){this.watchBtn.active=c.default.PlatformManager.watchNum<f.ad_tool_limit_number_1,this.setLabel(this.watchLabel,""+(f.ad_tool_limit_number_1-c.default.PlatformManager.watchNum)),this.setLabel(this.allLabel,""+f.ad_tool_limit_number_1),u.log("\u89c2\u770b\u6b21\u6570",c.default.PlatformManager.watchNum+"/"+f.ad_tool_limit_number_1)},t.prototype.resume=function(e){void 0===e&&(e="quit"),c.default.SoundManager.playEffect(p.MusicConst.button),this.closeUIForm()},t.prototype.watchAd=function(){var e=this;c.default.SoundManager.playEffect(p.MusicConst.button),u.log("\u770b\u5e7f\u544a"),c.default.PlatformManager.checkAd(l.Watch_Type.Rotate,function(){e.closeUIForm(),c.default.PlatformManager.showAd(l.Watch_Type.Rotate,e.addProp,e,e.closeUIForm,e,!0)},this,function(){u.log("\u6ca1\u6709\u68c0\u6d4b\u5230\u5e7f\u544a"),e.closeUIForm(),c.default.MessageCenter.dispatch(d.default.ShowAdTip)},this)},t.prototype.addProp=function(){c.default.PlatformManager.propNum+=f.ad_tool_number_1,c.default.PlatformManager.watchNum++,c.default.MessageCenter.dispatch(d.default.UpdateProp)},r([m(cc.Label)],t.prototype,"numLabel",void 0),r([m(cc.Label)],t.prototype,"watchLabel",void 0),r([m(cc.Label)],t.prototype,"allLabel",void 0),r([m(cc.Node)],t.prototype,"watchBtn",void 0),t=r([y],t)}(i.default);o.default=g,cc._RF.pop()},{"../../App":"App","../../MXInterFace/InterFaceManager":"InterFaceManager","../../MXInterFace/PlatformManager":"PlatformManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],QueueExecutor:[function(e,t,o){"use strict";cc._RF.push(t,"c82d1NgNY9EeZV+IdwIvW6p","QueueExecutor"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this._functions=new Array}return e.prototype.setCallBack=function(e,t){this._callBack=e,this._callBackTarget=t},e.prototype.regist=function(e,t){this._functions.push([e,t])},e.prototype.start=function(){this.next()},e.prototype.next=function(){if(this._functions)if(0==this._functions.length)this._callBack&&this._callBack.call(this._callBackTarget),this._callBack=null,this._callBackTarget=null,this._functions=null;else{var e=this._functions.shift();e[0].call(e[1])}},e}();o.default=n,cc._RF.pop()},{}],Queue:[function(e,t,o){"use strict";cc._RF.push(t,"27a40pUrZJACJHFnL98WD82","Queue"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.count=0,this.lowestCount=0,this.items={}}return e.prototype.enqueue=function(e){this.items[this.count]=e,this.count++},e.prototype.dequeue=function(){if(!this.isEmpty()){var e=this.items[this.lowestCount];return delete this.items[this.lowestCount],this.lowestCount++,e}},e.prototype.peek=function(){if(!this.isEmpty())return this.items[this.lowestCount]},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this.items={},this.count=0,this.lowestCount=0},e.prototype.size=function(){return this.count-this.lowestCount},e.prototype.toString=function(){if(this.isEmpty())return"";for(var e=""+this.items[this.lowestCount],t=this.lowestCount+1;t<this.count;t++)e=e+","+this.items[t];return e},e}();o.default=n,cc._RF.pop()},{}],QuitUI:[function(e,t,o){"use strict";cc._RF.push(t,"d3731dbH7JGco76voYzzzFV","QuitUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../sound/MusicConst"),l=cc._decorator,p=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.PopUp,a.UIFormShowMode.HideOther,a.UIFormLucenyType.Translucence),t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.resume=function(){c.default.SoundManager.playEffect(u.MusicConst.button),this.closeUIForm()},t.prototype.exit=function(){c.default.SoundManager.playEffect(u.MusicConst.button),c.default.PlatformManager.gameExit()},t.prototype.onDestroy=function(){},t=r([p],t)}(i.default));o.default=d,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst"}],RandomUtils:[function(e,t,o){"use strict";cc._RF.push(t,"c8109gz6eFO1JbcVYjJ0TAR","RandomUtils");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.limit=function(e,t){e=Math.min(e,t);var o=(t=Math.max(e,t))-e;return e+Math.random()*o},t.prototype.limitInteger=function(e,t){return Math.floor(this.limit(e,t+1))},t.prototype.randomArray=function(e){return e?e[Math.floor(Math.random()*e.length)]:null},t.prototype.shuffle=function(e){for(var t,o=e.length,n=Array(o),r=0;r<o;r++)(t=~~(Math.random()*(r+1)))!==r&&(n[r]=n[t]),n[t]=e[r];return n},t}(e("../base/SingtonClass").default);o.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],ResManager:[function(e,t,o){"use strict";cc._RF.push(t,"916432YLLBG8YrQouVQlFrB","ResManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.loadPrefab=function(){},e}();o.default=n,cc._RF.pop()},{}],Resources:[function(e,t,o){"use strict";cc._RF.push(t,"64f0c1/4YVCnIKqCr4JPart","Resources");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabs=[],t.textures=[],t.audioClips=[],t}return n(t,e),t.prototype.start=function(){},r([s([cc.Prefab])],t.prototype,"prefabs",void 0),r([s({type:[cc.Texture2D]})],t.prototype,"textures",void 0),r([s({type:[cc.AudioClip]})],t.prototype,"audioClips",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],RestartUI:[function(e,t,o){"use strict";cc._RF.push(t,"854c3PvpxlAMbLEMZf4iolK","RestartUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../App"),p=e("../gameConst/EventConst"),d=e("../../utils/DebugUtils"),f=e("../../sound/MusicConst"),h=cc._decorator,y=h.ccclass,m=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.PopUp,c.UIFormShowMode.HideOther,c.UIFormLucenyType.Translucence),t}return n(t,e),t.prototype.init=function(e){},t.prototype.load=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return[2]})})},t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.resume=function(){l.default.SoundManager.playEffect(f.MusicConst.button),this.closeUIForm()},t.prototype.restart=function(){d.log("\u91cd\u65b0\u5f00\u59cb"),l.default.SoundManager.playEffect(f.MusicConst.button),l.default.MessageCenter.dispatch(p.default.RestartGame),this.closeUIForm(),l.default.PlatformManager.clickRestart()},t=r([y],t)}(s.default));o.default=m,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],RewardUI:[function(e,t,o){"use strict";cc._RF.push(t,"2c0acQI3+VPTLLBbbDpSDV0","RewardUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../UIFrame/BaseUIForm"),a=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../gameConst/EventConst"),l=e("../../utils/DebugUtils"),p=e("../../MXInterFace/PlatformManager"),d=e("../../sound/MusicConst"),f=cc._decorator,h=f.ccclass,y=f.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(a.UIFormType.PopUp,a.UIFormShowMode.HideOther,a.UIFormLucenyType.Translucence),t.timeLabel=null,t._time=3,t}return n(t,e),t.prototype.onShow=function(){this.time=3,c.default.TimerManager.doTimer(1500,3,this.updateTime,this,this.watchAd,this)},Object.defineProperty(t.prototype,"time",{get:function(){return this._time},set:function(e){this._time=e,this.timeLabel.string=e.toString(),cc.tween(this.timeLabel.node).to(.1,{scale:1.1}).to(.1,{scale:1}).start()},enumerable:!1,configurable:!0}),t.prototype.updateTime=function(){this.time--,this.time<=0&&(this.time=0)},t.prototype.watchAd=function(e){var t=this;void 0===e&&(e=!0),c.default.TimerManager.remove(this.updateTime,this),c.default.SoundManager.playEffect(d.MusicConst.button),c.default.PlatformManager.showAd(p.Watch_Type.Revive,function(){l.log("\u590d\u6d3b"),t.closeUIForm(),c.default.PlatformManager.continueGame(),c.default.MessageCenter.dispatch(u.default.ContinueGame)},this,this.close,this,e)},t.prototype.close=function(){c.default.SoundManager.playEffect(d.MusicConst.button),l.log("\u8df3\u8fc7\u5e7f\u544a"),this.closeUIForm(),c.default.PlatformManager.gameEnd(),c.default.TimerManager.remove(this.updateTime,this)},r([y(cc.Label)],t.prototype,"timeLabel",void 0),t=r([h],t)}(i.default);o.default=m,cc._RF.pop()},{"../../App":"App","../../MXInterFace/PlatformManager":"PlatformManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],SingtonClass:[function(e,t,o){"use strict";cc._RF.push(t,"82a9ag0czRGrIJ4t+H8obDz","SingtonClass");var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<o;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.getSingtonInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._instance||(this._instance=new(this.bind.apply(this,n([void 0],e)))),this._instance},e}();o.default=r,cc._RF.pop()},{}],SoundManager:[function(e,t,o){"use strict";cc._RF.push(t,"f75dedHjS1H368/JON+Pc9T","SoundManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.MusicType=void 0;var r,i=e("../base/SingtonClass"),a=e("./BaseSound"),s=e("./MusicConst");(function(e){e[e.SOUND=0]="SOUND",e[e.MUSIC=1]="MUSIC",e[e.LOOP_SOUND=2]="LOOP_SOUND"})(r=o.MusicType||(o.MusicType={}));var c=function(e){function t(){var t=e.call(this)||this;return t._musicPool=new Map,t._soundPool=new Map,t._loopSoundPool=new Map,t._curSound="",t._lastSoundTime=0,t._pauseFlag=!1,t._level=0,cc.game.on(cc.game.EVENT_HIDE,function(){0==t.pauseFlag&&(t.pauseMusic(),t.pauseLoopEffects())}),cc.game.on("eventMusicPausedCall",function(){0==t.pauseFlag&&(t.pauseMusic(),t.pauseLoopEffects())}),cc.game.on(cc.game.EVENT_SHOW,function(){0==t.pauseFlag&&(t.resumeMusic(),t.resumeLoopEffects())}),cc.game.on("eventMusicResumeCall",function(){0==t.pauseFlag&&(t.resumeMusic(),t.resumeLoopEffects())}),t}return n(t,e),Object.defineProperty(t.prototype,"pauseFlag",{get:function(){return this._pauseFlag},enumerable:!1,configurable:!0}),t.prototype.playEffect=function(e){if(!this._pauseFlag){var t=(new Date).getTime();if(e===this._curSound)if(t-this._lastSoundTime<50)return;this._curSound=e,this._lastSoundTime=t;var o=this.getEffectFromPool(e);o?o.play(!1):(o=new a.default(e,r.SOUND),this.addEffectToPool(e,o),o.play(!1))}},t.prototype.stopEffect=function(){this._soundPool.forEach(function(e,t,o){if(e)for(var n=0,r=e;n<r.length;n++){r[n].stop()}})},t.prototype.playLoopEffect=function(e){if(!this._pauseFlag){var t=this._loopSoundPool.get(e);t||(t=new a.default(e,r.LOOP_SOUND),this._loopSoundPool.set(e,t),t.play(!0))}},t.prototype.stopLoopEffect=function(e){var t=this._loopSoundPool.get(e);t&&(t.destroy(),this._loopSoundPool.delete(e))},t.prototype.playMusic=function(e){if(!this._pauseFlag){this._curMusic&&this._curMusic.stop();var t=this._musicPool.get(e);t?t.play(!0):(t=new a.default(e,r.MUSIC),this._musicPool.set(e,t),t.play(!0)),this._curMusic=t}},t.prototype.stopMusic=function(){this._curMusic&&this._curMusic.stop()},t.prototype.pauseMusic=function(){this._curMusic&&this._curMusic.pause()},t.prototype.resumeMusic=function(){this._curMusic&&this._curMusic.resume()},t.prototype.getEffectFromPool=function(e){var t=this._soundPool.get(e);if(t)for(var o=0,n=t;o<n.length;o++){var r=n[o];if(!r.isPlaying())return r}return null},t.prototype.addEffectToPool=function(e,t){var o=this._soundPool.get(e);o?o.push(t):((o=[]).push(t),this._soundPool.set(e,o))},t.prototype.setPauseFlag=function(e,t){void 0===t&&(t=0),this._level=t,this._pauseFlag=e,e?(this._curMusic&&this._curMusic.pause(),this.pauseLoopEffects()):(this._curMusic?this._curMusic.resume():this.playMusic(s.MusicConst.bg5),this.resumeLoopEffects())},t.prototype.pauseLoopEffects=function(){this._loopSoundPool.forEach(function(e,t){e.pause()})},t.prototype.resumeLoopEffects=function(){this._loopSoundPool.forEach(function(e,t){e.resume()})},t}(i.default);o.default=c,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass","./BaseSound":"BaseSound","./MusicConst":"MusicConst"}],StringUtils:[function(e,t,o){"use strict";cc._RF.push(t,"212bfdieoVE0qAU8Fi7ZqJu","StringUtils");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.trimSpace=function(e){return e.replace(/^\s*(.*?)[\s\n]*$/g,"$1")},t.prototype.getStringLength=function(e){for(var t=e.split(""),o=0,n=0;n<t.length;n++){var r=t[n];this.isChinese(r)?o+=2:o+=1}return o},t.prototype.isChinese=function(e){return/^.*[\u4E00-\u9FA5]+.*$/.test(e)},t.prototype.format=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var n=0,r=t.length;n<r;n++){var i=new RegExp("({)"+n+"(})","g");e=e.replace(i,t[n])}return e},t}(e("../base/SingtonClass").default);o.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],SysDefine:[function(e,t,o){"use strict";cc._RF.push(t,"7f8ffNRvZxCz4zNi1L6dBHr","SysDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.SysDefine=o.UIFormLucenyType=o.UIFormShowMode=o.UIFormType=void 0,function(e){e[e.Normal=0]="Normal",e[e.Fixed=1]="Fixed",e[e.PopUp=2]="PopUp",e[e.Independent=3]="Independent"}(o.UIFormType||(o.UIFormType={})),function(e){e[e.Normal=0]="Normal",e[e.ReverseChange=1]="ReverseChange",e[e.HideOther=2]="HideOther",e[e.Independent=3]="Independent"}(o.UIFormShowMode||(o.UIFormShowMode={})),function(e){e[e.Lucency=0]="Lucency",e[e.Translucence=1]="Translucence",e[e.ImPenetrable=2]="ImPenetrable",e[e.Pentrate=3]="Pentrate"}(o.UIFormLucenyType||(o.UIFormLucenyType={}));var n=function(){function e(){}return e.SYS_PATH_CANVAS="Canvas",e.SYS_PATH_UIFORMS_CONFIG_INFO="UIFormsConfigInfo",e.SYS_PATH_CONFIG_INFO="SysConfigInfo",e.SYS_UIROOT_NAME="Canvas/UIROOT",e.SYS_UIMASK_NAME="Canvas/UIROOT/UIMaskScript",e.SYS_UIAdaptation_NAME="Canvas/UIROOT/UIAdaptationScript",e.SYS_NORMAL_NODE="Normal",e.SYS_FIXED_NODE="Fixed",e.SYS_POPUP_NODE="PopUp",e.SYS_INDEPENDENT_NODE="Independent",e.SYS_TIPS_NODE="Tips",e.SYS_STANDARD_Prefix="_",e.SYS_STANDARD_Separator="$",e.SYS_STANDARD_End="#",e.SeparatorMap={_Node:"cc.Node",_Label:"cc.Label",_Button:"cc.Button",_Sprite:"cc.Sprite",_RichText:"cc.RichText",_Mask:"cc.Mask",_MotionStreak:"cc.MotionStreak",_TiledMap:"cc.TiledMap",_TiledTile:"cc.TiledTile",_Spine:"sp.Spine",_Graphics:"cc.Graphics",_Animation:"cc.Animation",_WebView:"cc.WebView",_EditBox:"cc.EditBox",_ScrollView:"cc.ScrollView",_VideoPlayer:"cc.VideoPlayer",_ProgressBar:"cc.ProgressBar",_PageView:"cc.PageView",_Slider:"cc.Slider",_Toggle:"cc.Toggle"},e}();o.SysDefine=n,cc._RF.pop()},{}],TaktakReport:[function(e,t,o){"use strict";cc._RF.push(t,"5e179Qj+RlAlqBtuHJ6gFmS","TaktakReport");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.TaktakReport=void 0;var r=e("../App"),i=e("../base/SingtonClass"),a=e("../utils/DebugUtils"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_Dot=!1,t.play_again_time=0,t.game_start_time=0,t.game_round=1,t.game_id="",t.user_id="",t.game_name="",t}return n(t,e),t.prototype.start=function(){this.is_Dot=void 0!=window.mxgame&&void 0!=window.mxgame.track,this.getGameInfo(),this.play_again_time=this.getCurrentTime()},t.prototype.playAgain=function(){this.play_again_time=this.getCurrentTime(),this.game_round++},t.prototype.gameOver=function(e){void 0===e&&(e=""),this.gamePlayTime(),this.is_Dot&&window.mxgame.gameOver(e)},t.prototype.onTrack=function(e,t){a.log("onTrack---"+e+"---"+t),this.is_Dot&&window.mxgame.track(e,t)},t.prototype.getGameInfo=function(){if(this.game_start_time=this.getCurrentTime(),this.is_Dot){var e=window.mxgame.gameInfo(),t=JSON.parse(e);this.game_id=t.game_id,this.game_name=t.game_name,this.user_id=t.userid,this.game_start_time=t.start_time}},t.prototype.getCurrentTime=function(){return this.is_Dot?window.mxgame.currentTime():Date.now()},t.prototype.gamePlayEnter=function(){var e=this.getCurrentTime()-this.game_start_time,t={gameID:this.game_id,gameName:this.game_name,loadingTime:e};this.onTrack("gamePlayEnter",JSON.stringify(t)),this.onGameStart()},t.prototype.gameExit=function(){var e=Math.floor((this.getCurrentTime()-this.play_again_time)/1e3),t={gameID:this.game_id,gameName:this.game_name,currentScore:r.default.PlatformManager.score,highscore:r.default.PlatformManager.bestScore,playtime:e};this.onTrack("gameExit",JSON.stringify(t))},t.prototype.gamePlayTime=function(){var e=Math.floor((this.getCurrentTime()-this.game_start_time)/1e3),t={gameID:this.game_id,gameName:this.game_name,playtime:e,round:this.game_round};this.onTrack("gamePlayTime",JSON.stringify(t))},t.prototype.onGameStart=function(){this.is_Dot&&window.mxgame.gameStart()},t}(i.default);o.TaktakReport=s,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass","../utils/DebugUtils":"DebugUtils"}],TaskQueue:[function(e,t,o){"use strict";cc._RF.push(t,"24a28jXt2dOmLTCmDK00JnZ","TaskQueue"),Object.defineProperty(o,"__esModule",{value:!0}),o.Command=o.CommandType=void 0,o.CommandType||(o.CommandType={});var n=function(){return function(e,t,o){void 0===o&&(o=10),this.commandType=e,this.data=t,this.prioritiy}}();o.Command=n;var r=function(){function e(){this.currCommand=null,this.commands=[],this.historyCommands=[]}return e.prototype.pushCommand=function(e){this.commands.push(e)},e}();o.default=r,cc._RF.pop()},{}],TelegramCommonUI:[function(e,t,o){"use strict";cc._RF.push(t,"f28a7CtbDFKU4d9wEqlQkNw","TelegramCommonUI");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../App"),p=e("../gameConst/EventConst"),d=e("../../utils/DebugUtils"),f=e("../gameConst/GameUIConst"),h=e("../../sound/MusicConst"),y=e("../telegram/TelegramPlayerItem"),m=e("../../Telegram/AdsterraAD"),g=cc._decorator,_=g.ccclass,v=g.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.Independent,c.UIFormShowMode.Independent,c.UIFormLucenyType.Translucence),t.soundOnBtn=null,t.soundOffBtn=null,t.loadingGroup=null,t.loadingBar=null,t.loadingText=null,t.playerItemNode=null,t.playerItemContent=null,t.rankItemNode=null,t.rankScrollViewContent=null,t.rank_loading=null,t.title=null,t.rankLabel1=null,t.rankLabel=null,t.TelegramCommonUI=null,t._uiType="Loading",t.rankPosY=0,t.percent=0,t}return n(t,e),t.prototype.init=function(e){this._uiType=e},t.prototype.load=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return[2]})})},t.prototype.onShow=function(){if(e.prototype.onShow.call(this),this.TelegramCommonUI.getChildByName("PlayBtn").active=!1,"Loading"!==this._uiType&&(this.node.setPosition(0,-2360),this.node.active=!0,cc.tween(this.node).to(.4,{position:cc.v3(0,0)},cc.easeElasticOut(3)).call(function(){m.AdsterraAD.show_UpBannerAD()}).start()),this.soundOffBtn.active=l.default.SoundManager.pauseFlag,this.soundOnBtn.active=!l.default.SoundManager.pauseFlag,"Loading"===this._uiType){this.title.getComponent(cc.Label).string="Block Puzzle",this.TelegramCommonUI.getChildByName("Loading").active=!0,this.TelegramCommonUI.getChildByName("ContinueBtn").active=!1,this.TelegramCommonUI.getChildByName("PlayAgainBtn").active=!1,l.default.PlatformManager.start(),this.showLoadingBar(!0),this.loadingWidth=this.loadingBar.parent.width,this.loadingBar.width=0;var t=document.getElementById("loading");t&&t.parentElement.removeChild(t),this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%"),this.loadingBar.width=0,this.loadGame(),this.refreshData()}else"Pause"===this._uiType?(this.title.getComponent(cc.Label).string="Pause",this.TelegramCommonUI.getChildByName("Loading").active=!1,this.TelegramCommonUI.getChildByName("ContinueBtn").active=!0,this.TelegramCommonUI.getChildByName("PlayAgainBtn").active=!1,console.log(l.default.SoundManager.pauseFlag,"App.SoundManager.pauseFlag"),l.default.PlatformManager.gamePause(),m.AdsterraAD.hide_BottomBannerAD()):-1!==this._uiType.indexOf("GameOver")&&(this.refreshData(),this.title.getComponent(cc.Label).string=""+this._uiType.split("-")[1],this.TelegramCommonUI.getChildByName("Loading").active=!1,this.TelegramCommonUI.getChildByName("ContinueBtn").active=!1,this.TelegramCommonUI.getChildByName("PlayAgainBtn").active=!0,m.AdsterraAD.hide_BottomBannerAD())},t.prototype.refreshData=function(){var e=this;l.default.TelegramManager.getHighScores().then(function(t){if(t){-1===t.me.score?e.rankLabel1.string="-":e.rankLabel1.string=t.me.score.toString();for(var o=!1,n=0;n<t.rank.length;n++){var r=t.rank[n];if(r.me){t.rank.splice(n,1),t.rank.unshift(r),o=!0;break}}o||t.rank.unshift({rank:-1,user:{first_name:"You",last_name:""},score:t.me.score,me:!0}),t.rank.reverse(),e.playerItemContent.children.forEach(function(e){e.active&&"sendGameBtn"!==e.name&&e.destroy()}),t.rank.forEach(function(t){var o=cc.instantiate(e.playerItemNode);o.active=!0,o.y=0,e.playerItemContent.addChild(o),o.setSiblingIndex(cc.macro.MIN_ZINDEX),o.getComponent(y.default).setData(e.getRankPosName(t.rank),t.me?"You":t.user.first_name+" "+t.user.last_name,t.score)})}})},t.prototype.onLoad=function(){var e=this;this.TelegramCommonUI.getChildByName("PlayBtn").active=!1,this.node.getChildByName("TelegramRankLayer").setPosition(cc.v3(0,-this.node.height/2)),this.node.getChildByName("TelegramRankLayer").height=.9*this.node.height,this.node.getChildByName("TelegramRankLayer").width=this.node.width,this.scheduleOnce(function(){e.node.getChildByName("TelegramRankLayer").getComponent(cc.Widget).updateAlignment(),e.node.getChildByName("TelegramRankLayer").active=!1,e.rankPosY=e.node.getChildByName("TelegramRankLayer").position.y,d.log(e.rankPosY," this.rankPosY"),e.node.getChildByName("TelegramRankLayer").getComponent(cc.Widget).enabled=!1,e.node.getChildByName("TelegramRankLayer").setPosition(0,e.rankPosY-2360)}),this.loadingBar.parent.width=.9*this.node.width,this.loadingBar.x=-this.loadingBar.parent.width/2,l.default.MessageCenter.addListener(p.default.Loading,this.loading,this),this.addClick(this.soundOffBtn,this.openSound),this.addClick(this.soundOnBtn,this.closeSound),this.node.getChildByName("TelegramCommonUI").getComponent(cc.Widget).updateAlignment(),this.node.getChildByName("TelegramCommonUI").getChildByName("bottomContent").getComponent(cc.Widget).updateAlignment(),m.AdsterraAD.upBannerConfig.top=this.node.getChildByName("TelegramCommonUI").getChildByName("upContent").height+(this.node.height-this.node.getChildByName("TelegramCommonUI").getChildByName("upContent").height-(this.node.getChildByName("TelegramCommonUI").getChildByName("bottomContent").getComponent(cc.Widget).bottom+this.node.getChildByName("TelegramCommonUI").getChildByName("bottomContent").height))/2,m.AdsterraAD.upBannerConfig.top*=cc.view.getDesignResolutionSize().width/1080,m.AdsterraAD.upBannerConfig.top-=m.AdsterraAD.upBannerConfig.height*(cc.view.getDesignResolutionSize().width/window.innerWidth)/2},t.prototype.start=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return m.AdsterraAD.show_UpBannerAD(),[2]})})},t.prototype.telegramShare=function(){l.default.TelegramManager.share()},t.prototype.getRankPosName=function(e){return-1===e?"-":e.toString()},t.prototype.updateRedPoint=function(){},t.prototype.showLoadingBar=function(e){this.loadingGroup.active=e},t.prototype.loadGame=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return this.loadingGroup.active=!0,e=[f.default.GameView],[4,l.default.UIManager.loadUIForms(e)];case 1:return t.sent(),this.loadingGroup.active=!1,this.TelegramCommonUI.getChildByName("PlayBtn").active=!0,this.addClick(this.TelegramCommonUI.getChildByName("PlayBtn"),this.openGame),[2]}})})},t.prototype.openGame=function(){l.default.SoundManager.playEffect(h.MusicConst.button),this.closeUIForm(),l.default.PlatformManager.startGame(),l.default.TelegramManager.game_start_time=Date.now(),m.AdsterraAD.hide_UpBannerAD(),m.AdsterraAD.show_BottomBannerAD()},t.prototype.loading=function(e,t,o){this.percent=e/t,this.loadingBar.width=this.loadingWidth*this.percent,this.percent=Math.floor(100*this.percent),this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%")},t.prototype.openSound=function(){d.log("openSound"),l.default.SoundManager.playEffect(h.MusicConst.button);this.soundOnBtn.active=!0,this.soundOffBtn.active=!1,l.default.SoundManager.setPauseFlag(!1)},t.prototype.closeSound=function(){d.log("closeSound"),l.default.SoundManager.playEffect(h.MusicConst.button);this.soundOnBtn.active=!1,this.soundOffBtn.active=!0,l.default.SoundManager.setPauseFlag(!0)},t.prototype.onDestroy=function(){},t.prototype.onOpenTelegramRank=function(){return i(this,void 0,void 0,function(){var e,t=this;return a(this,function(o){switch(o.label){case 0:return m.AdsterraAD.hide_UpBannerAD(),this.node.getChildByName("TelegramCommonUI").active=!1,cc.Tween.stopAllByTarget(this.node.getChildByName("TelegramRankLayer")),this.node.getChildByName("TelegramRankLayer").setPosition(0,this.rankPosY-2360),this.node.getChildByName("TelegramRankLayer").active=!0,cc.tween(this.node.getChildByName("TelegramRankLayer")).to(.3,{position:cc.v3(0,this.rankPosY)},cc.easeCircleActionOut()).start(),this.rankScrollViewContent.children.forEach(function(e){e.active&&e.destroy()}),this._showRankLoading(),[4,l.default.TelegramManager.getHighScores()];case 1:return(e=o.sent())?(-1===e.me.score?this.rankLabel.string="-":this.rankLabel.string=e.me.score.toString(),e.rank.forEach(function(e){var o=cc.instantiate(t.rankItemNode);o.active=!0,t.rankScrollViewContent.addChild(o),o.getComponent(y.default).setData(t.getRankPosName(e.rank),e.user.first_name+" "+e.user.last_name,e.score,e.me)}),this._hideRankLoading(),[2]):(this._hideRankLoading(),[2])}})})},t.prototype.onCloseTelegramRank=function(){var e=this;this.node.getChildByName("TelegramCommonUI").active=!0,cc.Tween.stopAllByTarget(this.node.getChildByName("TelegramRankLayer")),this._hideRankLoading(),cc.tween(this.node.getChildByName("TelegramRankLayer")).to(.3,{position:cc.v3(0,this.rankPosY-2360)},cc.easeQuadraticActionOut()).call(function(){e.node.getChildByName("TelegramRankLayer").active=!1,m.AdsterraAD.show_UpBannerAD()}).start()},t.prototype.resume=function(){l.default.SoundManager.playEffect(h.MusicConst.button),this.closeUIForm(),l.default.PlatformManager.gameResume(),m.AdsterraAD.show_BottomBannerAD(),m.AdsterraAD.hide_UpBannerAD()},t.prototype.restart=function(){l.default.SoundManager.playEffect(h.MusicConst.button),l.default.MessageCenter.dispatch(p.default.RestartGame),this.closeUIForm(),l.default.PlatformManager.clickRestart(),m.AdsterraAD.show_BottomBannerAD(),m.AdsterraAD.hide_UpBannerAD()},t.prototype._showRankLoading=function(){cc.Tween.stopAllByTarget(this.rank_loading),this.rank_loading.active=!0,cc.tween(this.rank_loading).by(1,{angle:360}).repeatForever().start()},t.prototype._hideRankLoading=function(){this.rank_loading.angle=0,this.rank_loading.active=!1,cc.Tween.stopAllByTarget(this.rank_loading)},r([v(cc.Node)],t.prototype,"soundOnBtn",void 0),r([v(cc.Node)],t.prototype,"soundOffBtn",void 0),r([v(cc.Node)],t.prototype,"loadingGroup",void 0),r([v(cc.Node)],t.prototype,"loadingBar",void 0),r([v(cc.Label)],t.prototype,"loadingText",void 0),r([v(cc.Node)],t.prototype,"playerItemNode",void 0),r([v(cc.Node)],t.prototype,"playerItemContent",void 0),r([v(cc.Node)],t.prototype,"rankItemNode",void 0),r([v(cc.Node)],t.prototype,"rankScrollViewContent",void 0),r([v(cc.Node)],t.prototype,"rank_loading",void 0),r([v(cc.Node)],t.prototype,"title",void 0),r([v(cc.Label)],t.prototype,"rankLabel1",void 0),r([v(cc.Label)],t.prototype,"rankLabel",void 0),r([v(cc.Node)],t.prototype,"TelegramCommonUI",void 0),t=r([_],t)}(s.default);o.default=b,cc._RF.pop()},{"../../App":"App","../../Telegram/AdsterraAD":"AdsterraAD","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst","../telegram/TelegramPlayerItem":"TelegramPlayerItem"}],TelegramManager:[function(e,t,o){"use strict";cc._RF.push(t,"0db95eGzLZIyJlouQYbXFkJ","TelegramManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SingtonClass"),i=e("./GoogleAdsManager"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_start_time=0,t.share_count=0,t}return n(t,e),t.prototype.start=function(){1},t.prototype.showAd=function(e,t,o,n,r,a){i.Google_Ima_Ad.showAds(e,t,o,n,r,a)},t.prototype.share=function(){window.TelegramGameProxy.shareScore(),this.share_count++},t.prototype.upLoadScore=function(e){var t=this;return new Promise(function(o){var n={score:e,playtime:Date.now()-t.game_start_time,sharecount:t.share_count},r=new window.XMLHttpRequest;r.open("POST","/api/game/match/upload/blockpuzzle",!0),r.responseType="text",r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),r.send(JSON.stringify(n)),r.onreadystatechange=function(){if(4===r.readyState&&r.status>=200&&r.status<400){var e=r.response,t=JSON.parse(e);return 0===t.errno&&console.log("telegram \u4e0a\u62a5\u6e38\u620f\u6253\u70b9\u6210\u529f"),void o(t)}o(null)}})},t.prototype.getHighScores=function(){return new Promise(function(e){var t=new window.XMLHttpRequest;t.open("GET","/api/game/match/rank/blockpuzzle",!0),t.responseType="text",t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.send(),t.onreadystatechange=function(){if(4===t.readyState&&t.status>=200&&t.status<400){var o=t.response,n=JSON.parse(o);0===n.errno?e(n.result):e(null)}}})},t}(r.default);o.default=a,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass","./GoogleAdsManager":"GoogleAdsManager"}],TelegramPlayerItem:[function(e,t,o){"use strict";cc._RF.push(t,"6a72cr5/xxM87XWUfnHvtGy","TelegramPlayerItem");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=null,t.nickName=null,t.score=null,t.yellowPeopleSF=null,t.bluePeopleSF=null,t.yellowCircleSF=null,t.blueCircleSF=null,t.isRank=!1,t}return n(t,e),t.prototype.start=function(){},t.prototype.setData=function(e,t,o,n){void 0===n&&(n=!1),this.position.string=e,this.nickName.string=t,this.score.string=-1===o?"-":o.toString(),this.node.getChildByName("avatar").getChildByName("whiteCircle").active="-"!==e;var r=null,i=null;switch(e){case"1":case"2":case"3":r=this.yellowPeopleSF,this.yellowCircleSF,new cc.Color(160,103,66),i=new cc.Color(237,152,85);break;default:r=this.bluePeopleSF,this.blueCircleSF,new cc.Color(66,92,160),i=new cc.Color(68,155,250)}this.node.getChildByName("avatar").getComponent(cc.Sprite).spriteFrame=r,this.node.getChildByName("avatar").getChildByName("whiteCircle").color=i,this.isRank&&(this.node.getComponent(cc.Sprite).enabled=Number(e)%2==0)},r([s(cc.Label)],t.prototype,"position",void 0),r([s(cc.Label)],t.prototype,"nickName",void 0),r([s(cc.Label)],t.prototype,"score",void 0),r([s(cc.SpriteFrame)],t.prototype,"yellowPeopleSF",void 0),r([s(cc.SpriteFrame)],t.prototype,"bluePeopleSF",void 0),r([s(cc.SpriteFrame)],t.prototype,"yellowCircleSF",void 0),r([s(cc.SpriteFrame)],t.prototype,"blueCircleSF",void 0),r([s(cc.Boolean)],t.prototype,"isRank",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],Tile:[function(e,t,o){"use strict";cc._RF.push(t,"1e065iC7XhFeoAA7Bz9X+n7","Tile");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../gameConst/BlockData"),a=e("../../utils/DebugUtils"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteAtlas=null,t.img=null,t.ani=null,t.isColorTile=!0,t.colorOpacity=150,t.waitTime=.05,t.colorType=0,t}return n(t,e),t.prototype.onLoad=function(){this.setEmpty()},t.prototype.start=function(){var e=this;this.ani.setCompleteListener(function(){e.ani.node.active=!1})},t.prototype.setSprite=function(e){this.img.spriteFrame=this.spriteAtlas.getSpriteFrame(e)},t.prototype.setColor=function(e){a.log("setcolor",e),this.colorType=e,this.img.node.active=!0,this.node.opacity=255,this.setSprite("block0"+e)},t.prototype.changeColor=function(e){e!=i.BlockColor.Null&&this.setSprite("block0"+e)},t.prototype.resetColor=function(){this.colorType!=i.BlockColor.Null&&this.setSprite("block0"+this.colorType)},t.prototype.showTip=function(e){this.img.node.active=!0,this.isColorTile&&e?(this.node.opacity=this.colorOpacity,this.setSprite("block0"+e)):(this.node.opacity=255,this.setSprite("block00"))},t.prototype.setEmpty=function(){this.img.node.active=!1,this.colorType=i.BlockColor.Null},t.prototype.showGray=function(){this.img.node.color=cc.Color.GRAY},t.prototype.showNormal=function(){this.img.node.color=cc.Color.WHITE},t.prototype.playClear=function(e){var t=this;a.log("\u64ad\u653e\u6d88\u9664"),cc.tween(this.node).delay(e*this.waitTime).call(function(){t.setEmpty(),t.ani.node.active=!0,t.ani.setAnimation(0,"newAnimation",!1)}).start()},r([u(cc.SpriteAtlas)],t.prototype,"spriteAtlas",void 0),r([u(cc.Sprite)],t.prototype,"img",void 0),r([u(sp.Skeleton)],t.prototype,"ani",void 0),r([u({tooltip:"\u662f\u5426\u662f\u5e26\u989c\u8272\u7684\u63d0\u793a"})],t.prototype,"isColorTile",void 0),r([u({tooltip:"\u63d0\u793a\u900f\u660e\u5ea6"})],t.prototype,"colorOpacity",void 0),r([u({tooltip:"\u6d88\u9664\u52a8\u753b\u95f4\u9694"})],t.prototype,"waitTime",void 0),t=r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/DebugUtils":"DebugUtils","../gameConst/BlockData":"BlockData"}],TimerHandle:[function(e,t,o){"use strict";cc._RF.push(t,"c614bg/d5JBaL8+PKU1hOYV","TimerHandle");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TimerHandle=void 0;var r=cc._decorator.ccclass,i=function(){function e(){this.delay=0,this.repeatCount=0,this.exeTime=0,this.dealTime=0}return e.prototype.clear=function(){this.method=null,this.methodObj=null,this.complateMethod=null,this.complateMethodObj=null},e=n([r("TimerHandle")],e)}();o.TimerHandle=i,cc._RF.pop()},{}],TimerManager:[function(e,t,o){"use strict";cc._RF.push(t,"f9bad1B5rpASKqwOt5RAP5y","TimerManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/SingtonClass"),i=e("../App"),a=e("./ObjectPool"),s=e("./Log"),c=function(e){function t(){var t=e.call(this)||this;return t._handlers=new Array,t._delHandlers=new Array,t._currTime=cc.director.getTotalTime(),t._currFrame=0,t._count=0,t._timeScale=1,cc.director.getScheduler().enableForTarget(t),cc.director.getScheduler().schedule(t.onEnterFrame,t,0,cc.macro.REPEAT_FOREVER,0,!1),t}return n(t,e),t.prototype.setTimeScale=function(e){this._timeScale=e},t.prototype.onEnterFrame=function(){if(!this._isPause){for(this._currFrame++,this._currTime=cc.director.getTotalTime(),i.default.DebugUtils.start("TimerManager:");this._delHandlers.length;)this.removeHandle(this._delHandlers.pop());for(var e=0;e<this._count;e++){var t=this._handlers[e];if(-1==this._delHandlers.indexOf(t))(t.userFrame?this._currFrame:this._currTime)>=t.exeTime&&(i.default.DebugUtils.start(t.method.toString()),t.method.call(t.methodObj,(this._currTime-t.dealTime)*this._timeScale),i.default.DebugUtils.stop(t.method.toString()),t.dealTime=this._currTime,t.exeTime+=t.delay,t.repeat||(t.repeatCount>1?t.repeatCount--:(t.complateMethod&&t.complateMethod.apply(t.complateMethodObj),-1==this._delHandlers.indexOf(t)&&this._delHandlers.push(t))))}i.default.DebugUtils.stop("TimerManager:")}},t.prototype.removeHandle=function(e){var t=this._handlers.indexOf(e);-1!=t?(this._handlers.splice(t,1),a.default.push(e),this._count--):s.default.warn("what????")},t.prototype.create=function(e,t,o,n,r,i,s){if(!(t<0||o<0||null==n)){this.remove(n,r);var c=a.default.pop("TimerHandle");c.userFrame=e,c.repeat=0==o,c.repeatCount=o,c.delay=t,c.method=n,c.methodObj=r,c.complateMethod=i,c.complateMethodObj=s,c.exeTime=t+(e?this._currFrame:this._currTime),c.dealTime=this._currTime,this._handlers.push(c),this._count++}},t.prototype.setTimeOut=function(e,t,o){this.doTimer(e,1,t,o)},t.prototype.setFrameOut=function(e,t,o){this.doFrame(e,1,t,o)},t.prototype.doTimer=function(e,t,o,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.create(!1,e,t,o,n,r,i)},t.prototype.doFrame=function(e,t,o,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.create(!0,e,t,o,n,r,i)},Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),t.prototype.remove=function(e,t){for(var o=0;o<this._count;o++){var n=this._handlers[o];if(n.method==e&&n.methodObj==t&&-1==this._delHandlers.indexOf(n)){this._delHandlers.push(n);break}}},t.prototype.removeAll=function(e){for(var t=0;t<this._count;t++){var o=this._handlers[t];o.methodObj==e&&-1==this._delHandlers.indexOf(o)&&this._delHandlers.push(o)}},t.prototype.isExists=function(e,t){for(var o=0;o<this._count;o++){var n=this._handlers[o];if(n.method==e&&n.methodObj==t&&-1==this._delHandlers.indexOf(n))return!0}return!1},t.prototype.pause=function(){this._isPause||(this._isPause=!0,this._pauseTime=cc.director.getTotalTime())},t.prototype.resume=function(){if(this._isPause){this._isPause=!1,this._currTime=cc.director.getTotalTime();for(var e=this._currTime-this._pauseTime,t=0;t<this._count;t++){var o=this._handlers[t];o.dealTime+=e,o.userFrame||(o.exeTime+=e)}}},t}(r.default);o.default=c,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass","./Log":"Log","./ObjectPool":"ObjectPool"}],TipsForm:[function(e,t,o){"use strict";cc._RF.push(t,"58ab8XpoRtLK54RafIHR3KV","TipsForm");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../CocosHelper"),c=e("../UIManager"),u=cc._decorator,l=u.ccclass,p=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tips=null,t}var o;return n(t,e),o=t,t.popUp=function(e,t){return i(this,void 0,void 0,function(){var n,r,i;return a(this,function(a){switch(a.label){case 0:return[4,s.default.loadRes(e,cc.Prefab)];case 1:return(n=a.sent())?(r=cc.instantiate(n),(i=r.getComponent(o)).tips.string=t,c.default.getInstance().addTips(r),[4,i.exitAnim()]):[2];case 2:return a.sent(),[2]}})})},t.prototype.start=function(){},t.prototype.exitAnim=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,s.default.runSyncAction(this.node,cc.moveBy(1.2,0,30))];case 1:return e.sent(),this.node.removeFromParent(),this.node.destroy(),[2]}})})},r([p(cc.Label)],t.prototype,"tips",void 0),t=o=r([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../CocosHelper":"CocosHelper","../UIManager":"UIManager"}],TouchPlus:[function(e,t,o){"use strict";cc._RF.push(t,"b1a73ASfNJPE5RHXhCWQA65","TouchPlus");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=15,t.isTouch=!1,t.isClick=!0,t}return n(t,e),t.prototype.addEvent=function(e,t){this.clickEvent=e,this.slideEvent=t},t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},t.prototype.touchStart=function(e){this.isTouch=!0,this.startPosition=e.getLocation()},t.prototype.touchMove=function(e){this.isTouch&&(e.getLocation().sub(this.startPosition).mag()>this.offset&&(this.isClick=!1,this.slideEvent&&this.slideEvent(e)))},t.prototype.touchEnd=function(e){this.isTouch&&(this.isTouch=!1,this.isClick&&this.clickEvent&&this.clickEvent(e),this.isClick=!0)},t.prototype.touchCancel=function(e){this.isTouch&&(this.isTouch=!1,this.isClick=!0)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},t=r([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],UIHelper:[function(e,t,o){"use strict";cc._RF.push(t,"6344d3kagJNpJmP1iZjX58S","UIHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./CocosHelper"),r=e("./config/SysDefine"),i=function(){function e(){}return e.getInstance=function(){return null===this.instance&&(this.instance=new e),this.instance},e.prototype.bindComponent=function(e){this.bindNode(e.node,e)},e.prototype.bindNode=function(e,t){t.$collector!==e.uuid?(t.$collector=e.uuid,this._bindSubNode(e,t)):cc.warn("\u91cd\u590d\u7ed1\u5b9a\u9000\u51fa."+e.name)},e.prototype._bindSubNode=function(e,t){var o=this,i=e.name;if(n.default.checkBindChildren(i)){if(n.default.checkNodePrefix(i)){var a=n.default.getPrefixNames(i);if(null===a||2!==a.length||!r.SysDefine.SeparatorMap[a[0]])return void cc.log(i+" \u547d\u4ee4\u4e0d\u89c4\u8303, \u8bf7\u4f7f\u7528_lab$xxx\u7684\u683c\u5f0f!");t[a[0]+"s"]||(cc.log(i[0]+"s\u6ca1\u6709\u5728BaseUIForm\u4e2d\u5b9a\u4e49, \u5e76\u4e0d\u4f1a\u5f71\u54cd\u8fd0\u884c"),t[a[0]+"s"]={}),t[a[0]+"s"][a[1]]&&cc.log(i+" \u5df2\u7ecf\u88ab\u7ed1\u5b9a\u4e86, \u8bf7\u68c0\u67e5\u60a8\u662f\u5426\u51fa\u73b0\u4e86\u91cd\u540d\u7684\u60c5\u51b5!"),"cc.Node"===r.SysDefine.SeparatorMap[a[0]]?t[a[0]+"s"][a[1]]=e:t[a[0]+"s"][a[1]]=e.getComponent(r.SysDefine.SeparatorMap[a[0]])}e.children.forEach(function(e){o._bindSubNode(e,t)})}},e.instance=null,e}();o.default=i,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./config/SysDefine":"SysDefine"}],UIIndependentManager:[function(e,t,o){"use strict";cc._RF.push(t,"c2580keFPRPubhqZDTLO71z","UIIndependentManager");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./UIManager"),s=cc._decorator,c=s.ccclass,u=(s.property,function(){function e(){}var t;return t=e,e.getInstance=function(){return null==this.Instance&&(this.Instance=new t),this.Instance},e.prototype.setLoadingForm=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.loadingFormName=e,[4,a.default.getInstance().loadUIForms(this.loadingFormName)];case 1:return t.sent(),[2]}})})},e.prototype.showLoadingForm=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.default.getInstance().showUIForm(this.loadingFormName)];case 1:return e.sent(),[2]}})})},e.prototype.hideLoadingForm=function(){a.default.getInstance().closeUIForm(this.loadingFormName)},e.Instance=null,e=t=n([c],e)}());o.default=u,cc._RF.pop()},{"./UIManager":"UIManager"}],UILoader:[function(e,t,o){"use strict";cc._RF.push(t,"55707VX9S9Az5YCwj6a3k1F","UILoader");var n=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./CocosHelper"),a=e("../App"),s=e("../game/gameConst/EventConst"),c=function(){function e(){this.staticDepends=cc.js.createMap(),this.dynamicDepends=cc.js.createMap(),this.tmpStaticDepends=[]}return e.getInstance=function(){return null===this.instance&&(this.instance=new e),this.instance},e.prototype._addTmpStaticDepends=function(e,t,o){this.tmpStaticDepends[this.tmpStaticDepends.length]=o.url,this.staticDepends[o.url]?this.staticDepends[o.url]++:this.staticDepends[o.url]=1,0!=t&&a.default.MessageCenter.dispatch(s.default.Loading,e,t,o)},e.prototype._clearTmpStaticDepends=function(){for(var e=0,t=this.tmpStaticDepends;e<t.length;e++){var o=t[e];this.staticDepends[o]&&0!==this.staticDepends[o]&&(this.staticDepends[o]--,0===this.staticDepends[o]&&delete this.staticDepends[o])}this.tmpStaticDepends=[]},e.prototype.loadForm=function(e){return n(this,void 0,void 0,function(){var t,o;return r(this,function(n){switch(n.label){case 0:return[4,i.default.loadRes(e,cc.Prefab,this._addTmpStaticDepends.bind(this))];case 1:return t=n.sent(),this._clearTmpStaticDepends(),o=cc.loader.getDependsRecursively(e),this.addStaticDepends(o),[2,t]}})})},e.prototype.loadForms=function(e){return n(this,void 0,void 0,function(){var t,o=this;return r(this,function(n){switch(n.label){case 0:return[4,i.default.loadResArray(e,cc.Prefab,this._addTmpStaticDepends.bind(this))];case 1:return t=n.sent(),e.forEach(function(e){o._clearTmpStaticDepends();var t=cc.loader.getDependsRecursively(e);o.addStaticDepends(t)}),[2,t]}})})},e.prototype.destoryForm=function(e){if(e){var t=cc.loader.getDependsRecursively(e.UIFormName);this.removeStaticDepends(t),e.node.destroy(),cc.loader.releaseRes(e.UIFormName)}else cc.log("\u53ea\u652f\u6301\u9500\u6bc1\u7ee7\u627f\u4e86BaseUIForm\u7684\u7a97\u4f53!")},e.prototype.addStaticDepends=function(e){for(var t=0,o=e;t<o.length;t++){var n=o[t];this.staticDepends[n]?this.staticDepends[n]+=1:this.staticDepends[n]=1}},e.prototype.removeStaticDepends=function(e){for(var t=0,o=e;t<o.length;t++){var n=o[t];this.staticDepends[n]&&0!==this.staticDepends[n]&&(this.staticDepends[n]--,0===this.staticDepends[n]&&(cc.loader.release(n),delete this.staticDepends[n]))}},e.prototype.loadDynamicRes=function(e,t,o){return n(this,void 0,void 0,function(){var n;return r(this,function(r){switch(r.label){case 0:return[4,i.default.loadRes(e,t)];case 1:return n=r.sent(),o||(o=e),this.dynamicDepends[o]||(this.dynamicDepends[o]=[]),this.dynamicDepends[o].push(e),[2,n]}})})},e.prototype.destoryDynamicRes=function(e){if(!this.dynamicDepends[e])return!1;for(var t in this.dynamicDepends)cc.loader.release(this.dynamicDepends[t]);return!0},e.instance=null,e}();o.default=c,cc._RF.pop()},{"../App":"App","../game/gameConst/EventConst":"EventConst","./CocosHelper":"CocosHelper"}],UIManager:[function(e,t,o){"use strict";cc._RF.push(t,"f18581vC/JBkoXNDtnFIDo4","UIManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./BaseUIForm"),c=e("./config/SysDefine"),u=e("./UIIndependentManager"),l=e("./UILoader"),p=cc._decorator,d=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._NoNormal=null,t._NoFixed=null,t._NoPopUp=null,t._NoIndependent=null,t._NoTips=null,t._StaCurrentUIForms=[],t._MapAllUIForms=cc.js.createMap(),t._MapCurrentShowUIForms=cc.js.createMap(),t._MapIndependentForms=cc.js.createMap(),t._LoadingForm=cc.js.createMap(),t}var o;return n(t,e),o=t,t.getInstance=function(){var e=this;return null==this._Instance&&(this._Instance=cc.find(c.SysDefine.SYS_UIROOT_NAME).addComponent(this),cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){e._Instance=null})),this._Instance},t.prototype.onLoad=function(){this._NoNormal=this.node.getChildByName(c.SysDefine.SYS_NORMAL_NODE),this._NoFixed=this.node.getChildByName(c.SysDefine.SYS_FIXED_NODE),this._NoPopUp=this.node.getChildByName(c.SysDefine.SYS_POPUP_NODE),this._NoIndependent=this.node.getChildByName(c.SysDefine.SYS_INDEPENDENT_NODE),this._NoTips=this.node.getChildByName(c.SysDefine.SYS_TIPS_NODE)},t.prototype.start=function(){},t.prototype.getUIForm=function(e){return this._MapAllUIForms[e]},t.prototype.addTips=function(e,t){this._NoTips.addChild(e,t)},t.prototype.loadUIForms=function(e){return i(this,void 0,void 0,function(){var t,o,n;return a(this,function(r){switch(r.label){case 0:return"string"!=typeof e?[3,2]:[4,this.loadFormsToAllUIFormsCatch(e)];case 1:return r.sent(),[3,7];case 2:return[4,l.default.getInstance().loadForms(e)];case 3:r.sent(),t=0,o=e,r.label=4;case 4:return t<o.length?(n=o[t],[4,this.loadFormsToAllUIFormsCatch(n)]):[3,7];case 5:r.sent(),r.label=6;case 6:return t++,[3,4];case 7:return[2]}})})},t.prototype.showUIFormWithLoading=function(e,t){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,u.default.getInstance().showLoadingForm()];case 1:return t.sent(),[4,o.getInstance().showUIForm(e)];case 2:return t.sent(),[2]}})})},t.prototype.checkUIFormIsShowing=function(e){var t=this._MapAllUIForms[e];return null!=t&&t.node.active},t.prototype.showUIForm=function(e,t){return i(this,void 0,void 0,function(){var o;return a(this,function(n){switch(n.label){case 0:return""===e||null==e?[2]:this.checkUIFormIsShowing(e)?(cc.log(e+"\u7a97\u4f53\u5df2\u7ecf\u5728\u663e\u793a"),[2]):[4,this.loadFormsToAllUIFormsCatch(e)];case 1:if(null==(o=n.sent()))return cc.log(e+"\u53ef\u80fd\u6b63\u5728\u52a0\u8f7d\u4e2d"),[2];switch(o.UIFormName=e,o.UIType.IsClearStack&&this.clearStackArray(),o.UIType.UIForms_ShowMode){case c.UIFormShowMode.Normal:this.loadUIToCurrentCache(e,t);break;case c.UIFormShowMode.ReverseChange:this.pushUIFormToStack(e,t);break;case c.UIFormShowMode.HideOther:this.enterUIFormsAndHideOther(e,t);break;case c.UIFormShowMode.Independent:this.loadUIFormsToIndependent(e,t)}return[2,o]}})})},t.prototype.closeUIForm=function(e){if(""!=e&&null!=e){var t=this._MapAllUIForms[e];if(null!=t){switch(t.UIType.UIForms_ShowMode){case c.UIFormShowMode.Normal:this.exitUIForms(e);break;case c.UIFormShowMode.ReverseChange:this.popUIForm();break;case c.UIFormShowMode.HideOther:this.exitUIFormsAndDisplayOther(e);break;case c.UIFormShowMode.Independent:this.exitIndependentForms(e)}t.CloseAndDestory&&this.destoryForm(t,e)}}},t.prototype.loadFormsToAllUIFormsCatch=function(e){return i(this,void 0,void 0,function(){var t;return a(this,function(o){switch(o.label){case 0:return null!=(t=this._MapAllUIForms[e])||this._LoadingForm[e]?[3,2]:(this._LoadingForm[e]=!0,[4,this.loadUIForm(e)]);case 1:t=o.sent(),this._LoadingForm[e]=!1,delete this._LoadingForm[e],o.label=2;case 2:return[2,t]}})})},t.prototype.loadUIForm=function(e){return i(this,void 0,void 0,function(){var t,n,r;return a(this,function(i){switch(i.label){case 0:return""==e||null==e?[2]:[4,l.default.getInstance().loadForm(e)];case 1:if(t=i.sent(),n=cc.instantiate(t),null==(r=n.getComponent(s.default)))return[2];switch(n.active=!1,r.UIType.UIForms_Type){case c.UIFormType.Normal:o.getInstance()._NoNormal.addChild(n);break;case c.UIFormType.Fixed:o.getInstance()._NoFixed.addChild(n);break;case c.UIFormType.PopUp:o.getInstance()._NoPopUp.addChild(n);break;case c.UIFormType.Independent:o.getInstance()._NoIndependent.addChild(n)}return this._MapAllUIForms[e]=r,[2,r]}})})},t.prototype.clearStackArray=function(){return null!=this._StaCurrentUIForms&&this._StaCurrentUIForms.length>=1&&(this._StaCurrentUIForms=[],!0)},t.prototype.closeStackTopUIForm=function(){if(null!=this._StaCurrentUIForms&&this._StaCurrentUIForms.length>=1){var e=this._StaCurrentUIForms[this._StaCurrentUIForms.length-1];e.MaskType.ClickMaskClose&&e.closeUIForm()}},t.prototype.loadUIToCurrentCache=function(e,t){return i(this,void 0,void 0,function(){var o;return a(this,function(n){switch(n.label){case 0:return null,o=null,null!=this._MapCurrentShowUIForms[e]?[2]:null==(o=this._MapAllUIForms[e])?[3,2]:[4,o.__preInit(t)];case 1:n.sent(),this._MapCurrentShowUIForms[e]=o,o.disPlay(),n.label=2;case 2:return[2]}})})},t.prototype.pushUIFormToStack=function(e,t){return i(this,void 0,void 0,function(){var o;return a(this,function(n){switch(n.label){case 0:return this._StaCurrentUIForms.length>0&&this._StaCurrentUIForms[this._StaCurrentUIForms.length-1].freeze(),null==(o=this._MapAllUIForms[e])?[2]:[4,o.__preInit(t)];case 1:return n.sent(),this._StaCurrentUIForms.push(o),o.node.zIndex=this._StaCurrentUIForms.length,o.disPlay(),[2]}})})},t.prototype.enterUIFormsAndHideOther=function(e,t){return i(this,void 0,void 0,function(){var o,n,r=this;return a(this,function(i){switch(i.label){case 0:if(null!=this._MapCurrentShowUIForms[e])return[2];for(o in this._MapCurrentShowUIForms)this._MapCurrentShowUIForms[o].hide(),this._MapCurrentShowUIForms[o]=null,delete this._MapCurrentShowUIForms[o];return this._StaCurrentUIForms.forEach(function(e){e.hide(),r._MapCurrentShowUIForms[e.UIFormName]=null,delete r._MapCurrentShowUIForms[e.UIFormName]}),null==(n=this._MapAllUIForms[e])?[2]:[4,n.__preInit(t)];case 1:return i.sent(),this._MapCurrentShowUIForms[e]=n,n.disPlay(),[2]}})})},t.prototype.loadUIFormsToIndependent=function(e,t){return i(this,void 0,void 0,function(){var o;return a(this,function(n){switch(n.label){case 0:return null==(o=this._MapAllUIForms[e])?[2]:[4,o.__preInit(t)];case 1:return n.sent(),this._MapIndependentForms[e]=o,o.disPlay(),[2]}})})},t.prototype.exitUIForms=function(e){var t=this._MapAllUIForms[e];null!=t&&(t.hide(),this._MapCurrentShowUIForms[e]=null,delete this._MapCurrentShowUIForms[e])},t.prototype.popUIForm=function(){if(this._StaCurrentUIForms.length>=2)this._StaCurrentUIForms.pop().hide(),this._StaCurrentUIForms[this._StaCurrentUIForms.length-1].reDisPlay();else if(this._StaCurrentUIForms.length>=1){this._StaCurrentUIForms.pop().hide()}},t.prototype.exitUIFormsAndDisplayOther=function(e){if(""!=e&&null!=e){var t=this._MapCurrentShowUIForms[e];null!=t&&(t.hide(),this._MapCurrentShowUIForms[e]=null,delete this._MapCurrentShowUIForms[e])}},t.prototype.exitIndependentForms=function(e){var t=this._MapAllUIForms[e];null!=t&&(t.hide(),this._MapIndependentForms[e]=null,delete this._MapIndependentForms[e])},t.prototype.destoryForm=function(e,t){l.default.getInstance().destoryForm(e),this._MapAllUIForms[t]=null,delete this._MapAllUIForms[t]},t._Instance=null,t=o=r([d],t)}(cc.Component));o.default=f,cc._RF.pop()},{"./BaseUIForm":"BaseUIForm","./UIIndependentManager":"UIIndependentManager","./UILoader":"UILoader","./config/SysDefine":"SysDefine"}],UIMaskManager:[function(e,t,o){"use strict";cc._RF.push(t,"e17d0mmNLxJFJw4BTaEbArI","UIMaskManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MaskNodePool=void 0;var i=e("./config/SysDefine"),a=e("./UIMaskScript"),s=e("./BaseUIForm"),c=cc._decorator,u=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiMaskScript=null,t.maskTexture=null,t}return n(t,e),t.getInstance=function(){return null==this.instance&&(this.instance=cc.find(i.SysDefine.SYS_UIMASK_NAME).addComponent(this)),this.instance},t.prototype.addMaskWindow=function(e){!e.getChildByName("UIMaskNode")&&e.getComponent(s.default)&&(this.uiMaskScript=p.getInstance().get(e))},t.prototype.showMask=function(e,t,o){this.uiMaskScript.showMaskUI(e,o,t)},t.prototype.removeMaskWindow=function(e){p.getInstance().put(e)},t.instance=null,t=r([u],t)}(cc.Component));o.default=l;var p=function(){function e(){this.pool=[]}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.init=function(){for(var e=0;e<3;e++){var t=new cc.Node("UIMaskNode").addComponent(a.default);t.init(),this.pool.push(t)}},e.prototype.get=function(e){this.pool.length<=0&&this.init();var t=this.pool.pop();return t.reUse(e.getComponent(s.default).UIFormName),e.addChild(t.node,-1),t},e.prototype.put=function(e){var t=e.getChildByName("UIMaskNode");if(!t||!t.getComponent(a.default))return cc.log("\u4e0d\u662f\u5bf9\u5e94\u7c7b\u578b\u7684\u7ed3\u70b9, \u65e0\u6cd5\u56de\u6536!"),!1;t.removeFromParent();var o=t.getComponent(a.default);return o.unUse(),this.pool.push(o),!0},e.prototype.clear=function(){for(var e=0,t=this.pool;e<t.length;e++){t[e].unUse()}this.pool=[]},e.instance=null,e}();o.MaskNodePool=p,cc._RF.pop()},{"./BaseUIForm":"BaseUIForm","./UIMaskScript":"UIMaskScript","./config/SysDefine":"SysDefine"}],UIMaskScript:[function(e,t,o){"use strict";cc._RF.push(t,"75bb8n+eo1EP79Ina/3JlKx","UIMaskScript");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./UIManager"),c=e("./config/SysDefine"),u=cc._decorator,l=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._texture=null,t}return n(t,e),t.prototype.getSingleTexture=function(){if(this._texture)return this._texture;for(var e=new Uint8Array(16),t=0;t<2;t++)for(var o=0;o<2;o++)e[2*t*4+4*o+0]=255,e[2*t*4+4*o+1]=255,e[2*t*4+4*o+2]=255,e[2*t*4+4*o+3]=255;var n=new cc.Texture2D;return n.initWithData(e,cc.Texture2D.PixelFormat.RGBA8888,2,2),n.handleLoadedTexture(),this._texture=n,this._texture},t.prototype.init=function(){return i(this,void 0,void 0,function(){var e,t,o;return a(this,function(n){return e=this.getSingleTexture(),this.node.addComponent(cc.Button),this.node.on("click",this._clickMaskWindow,this),(t=this.node.addComponent(cc.Sprite)).sizeMode=cc.Sprite.SizeMode.CUSTOM,t.spriteFrame=new cc.SpriteFrame(e),this.node.color=new cc.Color(0,0,0),this.node.opacity=0,this.node.active=!0,(o=this.node.addComponent(cc.Widget)).isAlignLeft=!0,o.isAlignTop=!0,o.isAlignRight=!0,o.isAlignBottom=!0,o.left=0,o.top=0,o.right=0,o.bottom=0,[2]})})},t.prototype.reUse=function(e){this.UIFormName=e},t.prototype.unUse=function(){this.UIFormName="",this.node.opacity=0,this.node.active=!0,cc.tween(this.node).stop()},t.prototype.showMaskUI=function(e,t,o){void 0===t&&(t=.6),void 0===o&&(o=!0);var n=0;switch(e){case c.UIFormLucenyType.Lucency:n=0;break;case c.UIFormLucenyType.ImPenetrable:n=63;break;case c.UIFormLucenyType.Translucence:n=126;break;case c.UIFormLucenyType.Pentrate:this.node.active=!1}o?cc.tween(this.node).to(t,{opacity:n}).start():this.node.opacity=n},t.prototype._clickMaskWindow=function(){s.default.getInstance().closeStackTopUIForm()},t=r([l],t)}(cc.Component));o.default=p,cc._RF.pop()},{"./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],encryption_1:[function(e,t,o){"use strict";cc._RF.push(t,"d3422KvISVPla4SBflX85II","encryption_1");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.lkdsjgd=o.fdsfdsfnb=o.encryption=o.dfdsfds=o.sdhkas=o.ehfjkeshfkds=o.hgsdg=o.jkldjs=o.fdsjfhw=o.sdfdsgd=o.etygdg=o.thrthfgh=o.dfger=o.dfdsfew=o.khdfkjsdhfk=o.kgigi=o.greger=o.gdfsr3t=o.ijlhfew=o.beryerw=o.hjkdnfds=o.uertdfh=o.dsgreger=o.kghty=o.yrw6yery=o.getInfo=o.jghity=o.hduy=o.sdrfyer=o.euwhsdn=o.ikuyiyt=o.sdfyery=o.utertyur=o.ewtrey5er=o.klilot=o.wqterwt=o.qoiwhdksh=o.ioeks=o.iuyi567=o.j=o.dsgwer=o.kuyto=o.sedryerw=o.mnkdshfo=o.rqewrqwe=o.kryr=o.eijwuioewj=o.d=o.eryewry=o.dsafger=o.hiosdhfoe=o.outyou=void 0;var i=cc._decorator,a=i.ccclass;i.property;o.outyou=function(e){return e+100},o.hiosdhfoe=function(e){return e+79156},o.dsafger=function(e){return 2*e},o.eryewry=function(e){return e-50},o.d=function(e){return 4*e},o.eijwuioewj=function(e){return e+3681},o.kryr=function(e){return e+2},o.rqewrqwe=function(e){return e-3},o.mnkdshfo=function(e){return e-46218},o.sedryerw=function(e){return 2*e},o.kuyto=function(e){return e+15},o.dsgwer=function(e){return e-6},o.j=function(e){return e-9},o.iuyi567=function(e){return e-100},o.ioeks=function(e){return e+91},o.qoiwhdksh=function(e){return e-7613},o.wqterwt=function(e){return e+1575},o.klilot=function(e){return e-325},o.ewtrey5er=function(e){return e-3481},o.utertyur=function(e){return e+6848},o.sdfyery=function(e){return e-45},o.ikuyiyt=function(e){return e+26},o.euwhsdn=function(e){return e-81},o.sdrfyer=function(e){return 3*e},o.hduy=function(e){return e+5},o.jghity=function(e){return e-6515},o.getInfo=function(e,t,n){o.dfdsfds();var r=o.fdsfdsfnb(e),i=o.lkdsjgd();o.dfdsfds();var a=o.fdsfdsfnb(t),s=o.lkdsjgd();return o.dfdsfds(),{number_0:1,number_1:r,number_2:a,number_3:o.fdsfdsfnb(n),number_4:i,number_5:s,number_6:o.lkdsjgd()}},o.yrw6yery=function(e){return e+1231},o.kghty=function(e){return e-45356},o.dsgreger=function(e){return e+35648},o.uertdfh=function(e){return e-3549},o.hjkdnfds=function(e){return e-985},o.beryerw=function(e){return e+8481},o.ijlhfew=function(e){return e+874},o.gdfsr3t=function(e){return e-9895},o.greger=function(e){return 2*e},o.kgigi=function(e){return e+17},o.khdfkjsdhfk=function(e){return e+28},o.dfdsfew=function(e){return e+17},o.dfger=function(e){return e+14},o.thrthfgh=function(e){return e+8},o.etygdg=function(e){return e+13},o.sdfdsgd=function(){var e=o.kgigi(0);return e=o.khdfkjsdhfk(e),e=o.dfdsfew(e),e=o.dfger(e),e=o.thrthfgh(e),e=o.etygdg(e)},o.fdsjfhw=function(e,t){var o=t-e,n=Math.random();return e+Math.round(n*o)},o.jkldjs=new Array,o.hgsdg=new Array,o.ehfjkeshfkds=function(e,t){return 1==t?o.hduy(e):2==t?o.ioeks(e):3==t?o.ijlhfew(e):4==t?o.eijwuioewj(e):5==t?o.hiosdhfoe(e):6==t?o.euwhsdn(e):7==t?o.hjkdnfds(e):8==t?o.qoiwhdksh(e):9==t?o.mnkdshfo(e):void 0},o.sdhkas=function(){o.jkldjs.push({}),o.jkldjs.push(o.hduy),o.jkldjs.push(o.ioeks),o.jkldjs.push(o.ijlhfew),o.jkldjs.push(o.eijwuioewj),o.jkldjs.push(o.hiosdhfoe),o.jkldjs.push(o.euwhsdn),o.jkldjs.push(o.hjkdnfds),o.jkldjs.push(o.qoiwhdksh),o.jkldjs.push(o.mnkdshfo)},o.dfdsfds=function(){o.hgsdg=new Array,o.hgsdg.push("1");for(var e=1;e<10;e++){var t=o.fdsjfhw(1,9);o.hgsdg.push(t+"")}},o.encryption=function(e){return e},o.fdsfdsfnb=function(e){for(var t=1;t<10;t++){var n=parseInt(o.hgsdg[t]);e=o.ehfjkeshfkds(e,n)}return e*o.sdfdsgd()},o.lkdsjgd=function(){for(var e="",t=9;t>0;t--)e+=o.hgsdg[t];return parseInt(e)};var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){},t=r([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],"sticky-ads":[function(e,t,o){"use strict";function n(){var e={initialize:function(e){var t=this.getAdConfig();if(this.canInitializeAds(t)){var o=t.adWidth||320,n=t.adHeight||50,r=".mx-ad-bar { position: fixed; height: "+n+"px; width: "+o+"px; left: 50%; background-color: #000; color: #fff; box-sizing: border-box; transition: 0.5s transform; padding: 0px; font-size: 14px; display: none;} .mx-ad-bar-top { top: 0px; transform: translateX(-50%) translateY(-"+n+"px); display: block; } .mx-ad-bar-bottom {bottom: 0px; transform: translate(-50%, "+n+"px); display: block; } .mx-ad-bar-open { transform: translate(-50%, 0px); }",i=document.querySelectorAll("head")[0],a=document.createElement("style");i.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),this.attachEventListener(e),this.adBar=this.createAdDiv();var s=this.getQueryString(t),c=this.createAdIframe(s,o,n);this.adBar.appendChild(c),document.querySelectorAll("body")[0].appendChild(this.adBar)}},attachEventListener:function(e){window.addEventListener("message",function(t){!t||"AdLoadSuccess"!==t.data&&"AdLoadSuccess"!==t.message?!t||"AdLoadFailed"!==t.data&&"AdLoadFailed"!==t.message||e({adLoaded:!1}):e({adLoaded:!0})},!1)},getQueryString:function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},setStickyAd:function(e){this.adBarPosition=e,"top"===this.adBarPosition?this.adBar.classList.add("mx-ad-bar-top"):this.adBar.classList.add("mx-ad-bar-bottom")},createAdDiv:function(){var e=document.createElement("div");return e.id="mx-ad-container",e.classList.add("mx-ad-bar"),e},createAdIframe:function(e,t,o){var n=document.createElement("iframe");return n.id="mx-ad-iframe",n.src="https://www.mxplayer.in/banner-ad?"+e,n.width=t+"px",n.height=o+"px",n.frameBorder="0px",n},displayStickyAd:function(){this.adBar.classList.add("mx-ad-bar-open")},hideStickyAd:function(){this.adBar.classList.remove("mx-ad-bar-open")},getAdConfig:function(){if("undefined"==typeof gameManager)return{adUnit:"/21723553151/Test/Test_MXplayer_Local_Native_Banner2",adHeight:50,adWidth:320,adRefreshDuration:30};try{var e=gameManager.getGameSettings();return JSON.parse(e).stickyAds}catch(e){return}},isNetworkCallAllowed:function(){if("undefined"==typeof gameManager||!gameManager.invokeSync)return!0;var e=gameManager.invokeSync("check","allowNetworkUrl",{}),t=JSON.parse(e);return!(0!==t.status||!t.result.allowNetworkUrl)},isAppVersionSupported:function(){if("undefined"==typeof gameManager)return!0;var e=gameManager.onGameInit();if(e){var t=(e=JSON.parse(e)).appVersion;if(t=(t=t&&t.toString()||"").slice(t.length-4),(t=Number(t)||0)>=1243)return!0}return!1},canInitializeAds:function(e){var t=this.isNetworkCallAllowed(),o=this.isAppVersionSupported();return!!("undefined"!=typeof document&&!document.getElementById("mx-ad-container")&&e&&e.adUnit&&t&&o)}};"undefined"!=typeof window&&(window.MXGame.stickyAds=e)}cc._RF.push(t,"01187IdUgxFrJdulPEqrnGU","sticky-ads"),document.onload=void("undefined"!=typeof window&&(window.MXGame={},n())),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t,o){"use strict";cc._RF.push(t,"06a50gPqAtBB4kFpWvjFrpD","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["App","InterFaceManager","MXAd","MXInsertAd","PlatformManager","encryption_1","sticky-ads","BackgroundAdapter","ContentAdapter","MultiResoultionCompat","TaktakReport","AdsterraAD","CircleAvatar","GoogleAdsManager","TelegramManager","AdaptationManager","BaseUIBinder","BaseUIForm","BaseUIView","CocosHelper","FormType","GEventManager","CWebSocket","NetInterface","NetManager","NetTest","ResManager","TaskQueue","UIHelper","UIIndependentManager","UILoader","UIManager","UIMaskManager","UIMaskScript","PrioritiyQueue","Queue","Resources","TipsForm","TouchPlus","SysDefine","SingtonClass","BlockManager","GameManager","GuideManager","BlockData","EventConst","GameUIConst","Block","GameView","Tile","LoadIcon","LoadingUI","AddScoreUI","GameOverUI","PauseUI","PowerUpUI","PropUI","QuitUI","RestartUI","RewardUI","ALabelFixed","TelegramCommonUI","TelegramPlayerItem","BaseSound","MusicConst","SoundManager","AverageUtils","CommonUtils","DateUtils","DebugUtils","DelayOptManager","DeviceUtils","KeyboardUtils","Log","MathUtils","MessageCenter","MessageVo","ObjectPool","QueueExecutor","RandomUtils","StringUtils","TimerHandle","TimerManager","use_v2.1-2.2.1_cc.Toggle_event"]);