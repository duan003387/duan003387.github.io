System.register("chunks:///_virtual/AgentComp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,e=t.Component}],execute:function(){var c;o._RF.push({},"95709d+wsVGG41ZTo/lkZvG","AgentComp",void 0);var s=r.ccclass;r.property,t("AgentComp",s("AgentComp")(c=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).MatComp=[],n}n(o,t);var r=o.prototype;return r.start=function(){},r.onHurt=function(t,n,o){},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/aiPlayerAstar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMapUI.ts","./Vector2.ts"],(function(t){"use strict";var e,s,i,n;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy},function(t){i=t.mapTableData2},function(t){n=t.Vector2}],execute:function(){s._RF.push({},"55982CwqnBFeKGLFbnO+gSe","aiPlayerAstar",void 0);var o=0,r=1,h=t("AStartStep",function(){function t(t){this.g=0,this.h=0,this.pos=new n,this.last=null,this.pos=t}return t.prototype.equalTo=function(e){if(e instanceof t)return this.pos.x===e.pos.x&&this.pos.y===e.pos.y},e(t,[{key:"f",get:function(){return this.g+this.h},set:function(t){this._f=t}}]),t}());t("aiPlayerAstar",function(){function t(){this._moveDirection=o,this.findeIndexOfStepList=function(t,e){for(var s=0;s<e.length;s++)if(t.x===e[s].pos.x&&t.y===e[s].pos.y)return s;return-1},this._openList=[],this._closeList=[]}var e=t.prototype;return e.insetStepToOpen=function(t){for(var e=0;e<this._openList.length&&!(t.f<=this._openList[e].f);++e);this._openList.splice(e,0,t)},e.changeDeriction=function(){this._moveDirection=this._moveDirection===r?o:r},e._costToMoveStep=function(t,e){return t.x!==e.x&&t.y!==e.y?14:10},e._getH=function(t,e){return 10*(Math.abs(t.x-e.x)+Math.abs(t.y-e.y))},e._getNextCanMovePos=function(t){var e=function(t,e){0===i[t.x][t.y].isObs&&e.push(t)},s=[],o=new n(t.x-1,t.y);if(o.x>=0&&(e(o,s),this._moveDirection===r)){var h=new n(t.x-1,t.y+1);h.y<i.length&&e(h,s);var a=new n(t.x-1,t.y-1);a.y>=0&&e(a,s)}var p=new n(t.x+1,t.y);if(p.x<i[0].length&&(e(p,s),this._moveDirection===r)){var c=new n(t.x+1,t.y+1);c.y<i.length&&e(c,s);var u=new n(t.x+1,t.y-1);u.y>=0&&e(u,s)}var f=new n(t.x,t.y+1);f.y<i.length&&e(f,s);var l=new n(t.x,t.y-1);return l.y>=0&&e(l,s),s},e.findePaths=function(t,e){this._openList=[],this._closeList=[];var s=[],i=[];this._openList.push(new h(t));var n=!1;do{var o=this._openList.shift();if(this._closeList.push(o),o.pos.x===e.x&&o.pos.y===e.y){n=!0;do{i.unshift(o.pos),o=o.last}while(null!==o);break}for(var r=this._getNextCanMovePos(o.pos),a=0;a<r.length;++a){var p=r[a];if(-1==this.findeIndexOfStepList(p,this._closeList)){var c=new h(p),u=this._costToMoveStep(p,o.pos),f=this.findeIndexOfStepList(p,this._openList);if(-1===f)c.last=o,c.g=o.g+u,c.h=this._getH(p,e),this.insetStepToOpen(c),s.push([o.pos.x,o.pos.y]);else{var l=this._openList[f];o.g+u<l.g&&(l.g=o.g+u,l.last=o,this._openList.splice(f,1),this.insetStepToOpen(l))}}else r.splice(a,1),a--}}while(this._openList.length>0);return[n,i,s,this._closeList]},e.findPos=function(t){},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Astar.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"230bdjA4zBJmI+Lc/kAEifu","Astar",void 0);t("AStar",(function(){}));c._RF.pop()}}}));

System.register("chunks:///_virtual/BaseCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.find,a=e.Camera,s=e.Component}],execute:function(){var i;o._RF.push({},"1cae7zYNC1AmZUG1WvZ6ZdA","BaseCamera",void 0);var c=n.ccclass;n.property,e("BaseCamera",c("BaseCamera")(i=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onLoad=function(){var e=r("UI2DCamera").getComponent(a),t=e.orthoHeight,o=e.node.position;this.getComponent(a).orthoHeight=t,this.node.setPosition(o.clone())},o}(s))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseTank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MessageManager.ts","./Utils.ts","./eMath.ts","./SoundManager.ts","./ConstValue.ts","./MatComp.ts"],(function(t){"use strict";var e,a,n,r,i,o,l,s,_,c,h,u,d,m,k,p,b,g,y,f,C,v,T,M,P,w,I,B,N,A,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator},function(t){o=t.cclegacy,l=t._decorator,s=t.Node,_=t.Label,c=t.Material,h=t.Vec3,u=t.v3,d=t.director,m=t.Camera,k=t.tween,p=t.quat,b=t.Quat,g=t.misc,y=t.color,f=t.MeshRenderer,C=t.Component,v=t.v2,T=t.Tween},function(t){M=t.default,P=t.EventType},function(t){w=t.default},function(t){I=t.eMath},function(t){B=t.SoundManager,N=t.AudioClipRes},function(t){A=t.ConstValue},function(t){R=t.MatComp}],execute:function(){var S,U,x,D,L,F,q,z,W,E,O,Q,X;t({CMDType:void 0,Status:void 0,TankType:void 0}),o._RF.push({},"9f9f9zmTw9HEYOK+PoPpnWq","BaseTank",void 0);var V,Z,H,j=l.ccclass,G=l.property;!function(t){t[t.Player=0]="Player",t[t.Ai=1]="Ai"}(V||(V=t("TankType",{}))),function(t){t[t.Move=0]="Move",t[t.RotateBarrel=1]="RotateBarrel",t[t.Fire=2]="Fire"}(Z||(Z=t("CMDType",{}))),function(t){t[t.Normal=0]="Normal",t[t.Dead=1]="Dead",t[t.Wudi=2]="Wudi"}(H||(H=t("Status",{})));var K=t("TweenPool",function(){function t(){this._tweens=[]}var e=t.prototype;return e.add=function(t){this._tweens.push(t)},e.clear=function(){var t;null==(t=this._tweens)||t.forEach((function(t){return t.stop()})),this._tweens=[]},t}());t("default",(S=j("BaseTank"),U=G(s),x=G(s),D=G(_),L=G(c),F=G(c),S((W=e((z=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,n(e,"aidLine",W,r(e)),n(e,"shield_icon",E,r(e)),n(e,"armo_label",O,r(e)),e.normalBodyMaterial=null,e.outlinelBodyMaterial=null,n(e,"normalTrackMaterial",Q,r(e)),n(e,"outlinelTrackMaterial",X,r(e)),e._moveSpeed=150,e.tank_body=null,e.tank_barrel=null,e._last_tank_body_Angle=0,e._last_tank_barrel_Angle=0,e.playerId="",e.isSelf=!1,e._tweens=new K,e._targetPos=new h,e._isDead=!1,e.tilingOffsetZ=0,e.logicPos=null,e.adLineStartPosX=0,e.UI2DCamera=null,e.tank_info=null,e.track_material_instance=null,e.tank_common_barrel=null,e.tank_common_barrel_pos=null,e.m_TargetPos=u(),e.m_Offset=u(),e.delta=.2,e.modify=u(),e.isFireTweenIng=!1,e}a(e,t);var o=e.prototype;return o.onLoad=function(){this.tank_body=this.node.getChildByName("tank_body"),this.tank_barrel=this.node.getChildByName("tank_barrel"),this.tank_body.getChildByName("tank_body").eulerAngles=u(-90,180,0),this.tank_barrel.getChildByName("tank_barrel").eulerAngles=u(-90,180,0),this.tank_body.eulerAngles=u(-45,0,0),this.tank_barrel.eulerAngles=u(-45,0,0),this._tank_body_quat=this.tank_body.getRotation().clone(),this._tank_barrel_quat=this.tank_barrel.getRotation().clone(),this.tankType===V.Player&&(this.adLineStartPosX=this.aidLine.getChildByName("ad_line1").position.x),this.UI2DCamera=d.getScene().getChildByName("UI2DCamera").getComponent(m),this.armo_label.spacingX=-2},o.onDestroy=function(){},o.init=function(t,e){this.tankType===V.Player?this.tank_common_barrel=this.tank_barrel.getChildByName("tank_barrel").getChildByName("tank_player_common_barrel").getChildByName("tank_barrel"):this.tank_common_barrel=this.tank_barrel.getChildByName("tank_barrel").getChildByName("barrel"),this.tank_common_barrel_pos=this.tank_common_barrel.position.clone()},o._resetState=function(t,e){var a=this;this._targetPos.set(t.pos.x,t.pos.y,0),this.node.position.equals(this._targetPos)||this.node.setPosition(this._targetPos);var n=this._last_tank_body_Angle-t.tank_body_angle,r=this._rotateQuat(n,this.tank_body.getRotation());if(this.tank_body.setRotation(r),this._last_tank_body_Angle=t.tank_body_angle,this.isFireTweenIng)this.aidLine.active=!1;else{var i=this._last_tank_barrel_Angle-t.tank_barrel_angle,o=this._rotateQuat(i,this.tank_barrel.getRotation());if(this.tank_barrel.setRotation(o),this._last_tank_barrel_Angle=t.tank_barrel_angle,t.isPrcisionIng){this.aidLine.active=!0;var l=this.tank_common_barrel.children[0].getWorldPosition().clone(),s=this.UI2DCamera.convertToUINode(l,this.node.parent),_=1;200001===t.barrelId?_=-25:200002===t.barrelId?_=-90:200003===t.barrelId&&(_=-60);var c=this.UI2DCamera.convertToUINode(l.clone().add(this.tank_common_barrel.up.clone().multiplyScalar(_)),this.node.parent).subtract(s),h=I.atan2(c.y,c.x)-90,u=this.UI2DCamera.convertToUINode(l.clone().add(this.tank_common_barrel.up.clone().multiplyScalar(_)),this.node);this.aidLine.setPosition(u),this.aidLine.angle=h+90,this.node.getChildByName("SpriteSplash").setPosition(this.UI2DCamera.convertToUINode(l,this.node)),this.node.getChildByName("SpriteSplash").angle=h+90,this.aidLine.children.forEach((function(t){t.position.set(t.position.x+1),t.position.x>=160&&t.position.set(a.adLineStartPosX-38)}))}else this.aidLine.active=!1}},o._tweenState=function(t,e){var a=new h(t.pos.x,t.pos.y,0);if(!this._targetPos.equals(a)){this._tweens.clear(),this.node.setPosition(this._targetPos);var n=this._last_tank_body_Angle-t.tank_body_angle;this._tank_body_quat=this._rotateQuat(n,this._tank_body_quat),this._last_tank_body_Angle=t.tank_body_angle,this._targetPos.set(a),this._tweens.add(k(this.node).to(A.ClientFrameTime/1e3,{position:this._targetPos}).start())}if(this.logicPos=new h(t.pos.x,t.pos.y,0),!this.isFireTweenIng){var r=this._last_tank_barrel_Angle-t.tank_barrel_angle;this._tank_barrel_quat=this._rotateQuat(r,this._tank_barrel_quat),this._last_tank_barrel_Angle=t.tank_barrel_angle}},o._rotateQuat=function(t,e){var a=u(0,1,1),n=-t,r=p();return b.rotateAround(r,e.clone(),a.normalize(),g.degreesToRadians(n))},o.update=function(t){this.isSelf&&this.tankType!==V.Ai||(this.tank_body.setRotation(this.tank_body.rotation.slerp(this._tank_body_quat,t*(A.ClientFrameTime/4))),this.isFireTweenIng||this.tank_barrel.setRotation(this.tank_barrel.rotation.slerp(this._tank_barrel_quat,t*(A.ClientFrameTime/4))))},o.getFireInfo=function(){var t=i(regeneratorRuntime.mark((function t(e){var a,n,r,i,o,l,s,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.tank_common_barrel.children[0].getWorldPosition().clone(),n=this.UI2DCamera.convertToUINode(a,this.node.parent),r=0,i=1,200001===this.state.barrelId?(i=-25,r=480):200002===this.state.barrelId?(i=-70,r=490):200003===this.state.barrelId&&(i=-60,r=480),o=this.UI2DCamera.convertToUINode(a.clone().add(this.tank_common_barrel.up.multiplyScalar(i)),this.node.parent),l=o.clone().subtract(n).normalize(),s=this.getRandom(-10,10),_=v(l.x,l.y),e||_.rotate(g.degreesToRadians(s)),t.abrupt("return",{pos:{x:o.x,y:o.y},moveDir:{x:_.x,y:_.y},dis:r});case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.fireTween=function(){var t=i(regeneratorRuntime.mark((function t(e,a){var n,r,i,o,l,s,_,c,h,d=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a&&(a=!0),a&&(this.isFireTweenIng=!0,this.tank_barrel.eulerAngles=u(-45,0,0),n=0-e,this._tank_barrel_quat=this._rotateQuat(n,this.tank_barrel.getRotation()),this.tank_barrel.setRotation(this._tank_barrel_quat),this._last_tank_barrel_Angle=e),this.isSelf&&B.instance.playSound(N.Shoot,1),r=this.tankType===V.Player?this.tank_common_barrel:this.tank_barrel.getChildByName("tank_barrel").getChildByName("barrel"),i=r.children[0].getWorldPosition().clone(),o=this.UI2DCamera.convertToUINode(i,this.node.parent),l=this.UI2DCamera.convertToUINode(i.clone().add(r.up.multiplyScalar(-100)),this.node.parent),s=l.subtract(o).normalize().multiplyScalar(1),_=this.UI2DCamera.convertToUINode(i.clone().add(r.up.multiplyScalar(-70)),this.node.parent),M.instance.emit(P.MUZZLE_FLAME,_,I.atan2(s.y,s.x)-90),a){t.next=12;break}return t.abrupt("return");case 12:return T.stopAllByTarget(this.tank_common_barrel),T.stopAllByTarget(this.tank_barrel.getChildByName("tank_barrel")),this.tank_common_barrel.setPosition(this.tank_common_barrel_pos.clone()),this.tank_barrel.getChildByName("tank_barrel").setPosition(u()),c=u(),this.tank_common_barrel.getRotation().getEulerAngles(c),h=u(this.tank_common_barrel_pos.x,this.tank_common_barrel_pos.y+.15*Math.cos(g.degreesToRadians(c.x)),this.tank_common_barrel_pos.z+.15*Math.sin(g.degreesToRadians(c.x))),k(this.tank_common_barrel).to(.15,{position:h},{easing:"backOut"}).to(.25,{position:this.tank_common_barrel_pos}).start(),t.next=22,w.delay(.02);case 22:return t.next=24,new Promise((function(t){k(d.tank_barrel.getChildByName("tank_barrel")).to(.15,{position:u(0,-.06,0)},{easing:"backOut"}).to(.25,{position:u(0,0,0)}).call((function(){d.tank_common_barrel.setPosition(d.tank_common_barrel_pos),t()})).start()}));case 24:this.isFireTweenIng=!1;case 25:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}(),o.getRandom=function(t,e){if(t>e){var a=t;t=e,e=a}return Math.round(t+Math.random()*(e-t))},o.flashWhite=function(){var t=this;this.track_material_instance=null;var e={name:"闪白叠加",prop:"emissive",color:y(125,125,125,0),dura:-1,lineWidth:0};this.node.walk((function(a){if(a.getComponent(f)){var n=a.getComponent(R);n||(n=a.addComponent(R)),"tank_track"!==a.name?n.setProp(e,t.outlinelBodyMaterial):n.setProp(e,t.outlinelTrackMaterial)}})),this.unscheduleAllCallbacks(),this.scheduleOnce((function(){t.node.walk((function(e){if(e.getComponent(f)){var a=e.getComponent(R);a&&("tank_track"!==e.name?a.resetMat(t.normalBodyMaterial):a.resetMat(t.normalTrackMaterial))}})),t.track_material_instance=t.tank_body.getChildByName("tank_body").getChildByName("tank_track").getComponent(f).material}),.1)},o.outLine=function(){var t=this;this.track_material_instance=null;var e={name:"描边高亮",prop:"baseColor",color:y(255,255,0,255),dura:-1,lineWidth:45};this.node.walk((function(a){if(a.getComponent(f)){var n=a.getComponent(R);n||(n=a.addComponent(R)),"tank_track"!==a.name?n.setProp(e,t.outlinelBodyMaterial):n.setProp(e,t.outlinelTrackMaterial)}})),this.unscheduleAllCallbacks(),this.scheduleOnce((function(){t.node.walk((function(e){if(e.getComponent(f)){var a=e.getComponent(R);"tank_track"!==e.name?a&&a.resetMat(t.normalBodyMaterial):a&&a.resetMat(t.normalTrackMaterial)}})),t.track_material_instance=t.tank_body.getChildByName("tank_body").getChildByName("tank_track").getComponent(f).material}),1)},o.setMeshMaterial=function(){},e}(C)).prototype,"aidLine",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(z.prototype,"shield_icon",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(z.prototype,"armo_label",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(z.prototype,"normalTrackMaterial",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(z.prototype,"outlinelTrackMaterial",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=z))||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./MessageManager.ts"],(function(e){"use strict";var t,o,n,i,a,r,s,p,c,l,u,m,f,h,d,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,p=e.Node,c=e.v3,l=e.tween,u=e.isValid,m=e.resources,f=e.js,h=e.Component},function(e){d=e.GameConfig},function(e){P=e.default}],execute:function(){var y,T,_,g,v,I,w,x,C;e({EnHidePopType:void 0,EnShowPopType:void 0,LayerType:void 0}),r._RF.push({},"7c2ceuh7aZK+Ipxw1j8ilyU","BaseUI",void 0),function(e){e[e.upToCenter=0]="upToCenter",e[e.leftToCenter=1]="leftToCenter",e[e.max=2]="max"}(w||(w=e("EnShowPopType",{}))),function(e){e[e.centerToUp=0]="centerToUp",e[e.cneterToLeft=1]="cneterToLeft",e[e.max=2]="max"}(x||(x=e("EnHidePopType",{}))),function(e){e[e.normal=0]="normal",e[e.popup=1]="popup",e[e.topMost=2]="topMost",e[e.max=3]="max"}(C||(C=e("LayerType",{})));var M=s.ccclass,U=s.property;e("BaseUI",(y=M("BaseUI"),T=U(p),y(((I=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"m_PopPart",v,i(t)),t.m_layerType=C.normal,t.m_ShowPopType=w.max,t.m_HidePopType=x.max,t.resMap=new Map,t}o(t,e),t.getUrl=function(){return d.PREFAB_UI_DIR+this.className};var r=t.prototype;return r.onDestroy=function(){P.instance.removeAll(this),this.resMap.forEach((function(e){e.decRef(),e=null}))},r.OnMsg=function(e,t){},r.onShow=function(){this.node.active=!0,this.node.setSiblingIndex(1e4),null!=this.m_PopPart&&this.m_ShowPopType!=w.max&&(this.m_ShowPopType==w.upToCenter&&(this.m_PopPart.position=c(0,1080),l(this.m_PopPart).to(.35,{position:c(0,0,0)},{easing:"backOut"}).start()),this.m_ShowPopType==w.leftToCenter&&(this.m_PopPart.setPosition(c(-1400,0,0)),l(this.m_PopPart).to(.3,{position:c(0,0,0)},{easing:"fade"}).start()))},r.onHide=function(e){var t=this;return void 0===e&&(e=!1),new Promise((function(o){null!=t.m_PopPart&&t.m_HidePopType!=x.max?(t.m_HidePopType==x.centerToUp&&l(t.m_PopPart).to(.3,{position:c(0,1080)},{easing:"backIn"}).call((function(){t.hideImp(e),o()})).start(),t.m_HidePopType==x.cneterToLeft&&l(t.m_PopPart).to(.3,{position:c(-1400,0,0)},{easing:"fade"}).call((function(){t.hideImp(e),o()})).start()):(t.hideImp(e),o())}))},r.hideImp=function(e){e?this.node&&u(this.node)&&this.node.destroy():this.node.active=!1},r.loadRes=function(e,t,o){var n=this;m.load(e,t,(function(i,a){n.resMap.has(e+f.getClassName(t))||(n.resMap.set(e+f.getClassName(t),a),a.addRef()),o(i,a)}))},a(t,[{key:"layerType",get:function(){return this.m_layerType}}]),t}(h)).className="BaseUI",v=t((g=I).prototype,"m_PopPart",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vector2.ts"],(function(t){"use strict";var e,s,i,o,n,r,a,u;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy,o=t._decorator,n=t.v3,r=t.ParticleSystem2D,a=t.Component},function(t){u=t.Vector2}],execute:function(){var c,h;t("BulletLevel",void 0),i._RF.push({},"61005aUhVFKM6bgjLgmFlYL","Bullet",void 0),function(t){t[t.Level1=1]="Level1",t[t.Level2=2]="Level2"}(h||(h=t("BulletLevel",{})));var l=o.ccclass;o.property,t("Bullet",l("Bullet")(c=function(t){function i(){for(var e,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).attackDistance=1e3,e._speed=40,e._is_dead=!1,e._is_hit=!1,e.owner_user_id="",e._startPos=n(),e._targetPos=new u,e}e(i,t);var o=i.prototype;return o.init=function(t,e,s){this.id=t.id,this.state=t,this._startPos.set(t.pos.x,t.pos.y),this.moveDir=new u(e.x,e.y),this.node.setPosition(n(t.pos.x,t.pos.y,0)),this._targetPos.x=t.pos.x,this._targetPos.y=t.pos.y,this.node.angle=new u(0,1).signAngle(this.moveDir)},o.updateState=function(t,e){this.state=t,this._targetPos.x=t.pos.x,this._targetPos.y=t.pos.y},o.update=function(t){this.node.setPosition(n(this.node.position.x+this.moveDir.x*t*1e3*this.state.speed,this.node.position.y+this.moveDir.y*t*1e3*this.state.speed,0)),this.node.position.clone().subtract(n(this._startPos.x,this._startPos.y)).length()>=this.state.dis&&this.node.getComponent(r).stopSystem()},s(i,[{key:"isDead",get:function(){return this._is_dead}},{key:"isHit",get:function(){return this._is_hit}},{key:"UserID",get:function(){return this.owner_user_id}}]),i}(a))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionManager.ts",["cc","./eMath.ts","./Vector2.ts"],(function(t){"use strict";var e,r,n;return{setters:[function(t){e=t.cclegacy},function(t){r=t.eMath},function(t){n=t.Vector2}],execute:function(){e._RF.push({},"a4f29mau2xHNbZNGlpKYmC0","CollisionManager",void 0);var o=t("Scale",1e4),a=t("CollisionManager",function(){function t(){}var e=t.prototype;return e.rectCircleCollision=function(t,e){var r=e.centerPoint.clone().subtractSelf(new n(t.centerPoint.x,t.centerPoint.y)).rotate(-t.rotation).addSelf(t.centerPoint),o=new n(Math.floor(1e3*t.width)/2e3,Math.floor(1e3*t.height)/2e3),a=t.centerPoint.clone(),i=r.clone().subtract(a).clampf(o.clone().negative(),o),c=a.add(i).clone().subtract(r.clone());if(Math.floor(c.lengthSqr())<e.radius*e.radius){var s=c.clone().subtract(c.clone().normalizeSelf().multiplyScalarSelf(e.radius));return r.clone().addSelf(s).subtractSelf(a).rotate(t.rotation).addSelf(a)}return e.centerPoint},e.rectCircleTrigger=function(t,e){var r=e.centerPoint.clone().subtractSelf(new n(t.centerPoint.x,t.centerPoint.y)).rotate(-t.rotation).addSelf(t.centerPoint),o=new n(Math.floor(1e3*t.width)/2e3,Math.floor(1e3*t.height)/2e3),a=t.centerPoint.clone(),i=r.clone().subtract(a).clampf(o.clone().negative(),o),c=a.add(i).clone().subtract(r.clone());return Math.floor(c.lengthSqr())<e.radius*e.radius},e.rectTrigger=function(t,e){var r=t.centerPoint.subtract(e.centerPoint),n=t.axes[0];if(Math.floor(Math.floor(1e3*t.getProjectionRadius(n))+Math.floor(1e3*e.getProjectionRadius(n)))<=Math.floor(1e3*Math.abs(r.dot(n))))return!1;var o=t.axes[1];if(Math.floor(Math.floor(1e3*t.getProjectionRadius(o))+Math.floor(1e3*e.getProjectionRadius(o)))<=Math.floor(1e3*Math.abs(r.dot(o))))return!1;var a=e.axes[0];if(Math.floor(Math.floor(1e3*t.getProjectionRadius(a))+Math.floor(1e3*e.getProjectionRadius(a)))<=Math.floor(1e3*Math.abs(r.dot(a))))return!1;var i=e.axes[1];return!(Math.floor(Math.floor(1e3*t.getProjectionRadius(i))+Math.floor(1e3*e.getProjectionRadius(i)))<=Math.floor(1e3*Math.abs(r.dot(i))))},e.circleCollision=function(t,e){var r=Math.pow(Math.floor(1e3*t.centerPoint.y)-Math.floor(1e3*e.centerPoint.y),2)+Math.pow(Math.floor(1e3*t.centerPoint.x)-Math.floor(1e3*e.centerPoint.x),2);return(Math.floor(1e3*t.radius)+Math.floor(1e3*e.radius))*(Math.floor(1e3*t.radius)+Math.floor(1e3*e.radius))>r},e.noCross=function(t,e){var n=r.parseInt(e.centerPoint.x*o)-r.parseInt(t.centerPoint.x*o),a=n*n/(o*o),i=r.parseInt(e.centerPoint.y*o)-r.parseInt(t.centerPoint.y*o),c=i*i/(o*o),s=r.parseInt(Math.sqrt((r.parseInt(a*o)+r.parseInt(c*o))/o));if(r.parseInt(t.radius*o)+r.parseInt(e.radius*o)>r.parseInt(s*o)){var l=(r.parseInt(t.radius*o)+r.parseInt(e.radius*o)-r.parseInt(s*o))/r.parseInt(2*o),f=r.atan2((r.parseInt(e.centerPoint.y*o)-r.parseInt(t.centerPoint.y*o))/o,(r.parseInt(e.centerPoint.x*o)-r.parseInt(t.centerPoint.x*o))/o),u=r.parseInt(r.cos(f)*o)*r.parseInt(l*o)/(o*o),h=r.parseInt(r.sin(f)*o)*r.parseInt(l*o)/(o*o),p=r.parseInt(r.parseInt(u*o)*r.parseInt(1.05*o)/o),M=r.parseInt(r.parseInt(h*o)*r.parseInt(1.05*o)/o);t.centerPoint.x=(r.parseInt(t.centerPoint.x*o)-p)/o,t.centerPoint.y=(r.parseInt(t.centerPoint.y*o)-M)/o,e.centerPoint.x=(r.parseInt(e.centerPoint.x*o)+p)/o,e.centerPoint.y=(r.parseInt(e.centerPoint.y*o)+M)/o}},t}());a.instance=new a,e._RF.pop()}}}));

System.register("chunks:///_virtual/ConstValue.ts",["cc"],(function(a){"use strict";var t;return{setters:[function(a){t=a.cclegacy}],execute:function(){var e,p;a("ConstValue",void 0),t._RF.push({},"93ed23jxdJK86ZLbngM/eU+","ConstValue",void 0),(p=e||(e=a("ConstValue",{}))).ClientFrameTime=66,p.testUserMap=new Map([["player0",{name:"Tony",avatar:"https://img2.baidu.com/it/u=3391549559,561735817&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"}],["player1",{name:"Timmy",avatar:"https://img0.baidu.com/it/u=1942253063,3807598283&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"}],["player2",{name:"Drew",avatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Ftupian.qqjay.com%2Ftou2%2F2019%2F0919%2Fc4efab81e2da50242a58ecd665bdeea6.jpg&refer=http%3A%2F%2Ftupian.qqjay.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1654688004&t=3399fb738a06aca9b7e656d01743a850"}],["player3",{name:"Edward",avatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fup.enterdesk.com%2Fedpic%2F34%2F06%2F02%2F34060280461dac760313c6edf37998e6.jpg&refer=http%3A%2F%2Fup.enterdesk.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1654688016&t=62c6875b61aaacdbadecf857e5ae0eb7"}],["player4",{name:"Trump",avatar:"https://img1.baidu.com/it/u=194801324,3941016336&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=502"}],["player5",{name:"Ben",avatar:"https://img1.baidu.com/it/u=4045335619,3481933639&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400"}]]),t._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerTank.ts","./Utils.ts","./NetWorkManager.ts","./PlatformManager.ts"],(function(t){"use strict";var n,e,i,a,r,s,o;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator},function(t){i=t.cclegacy},function(t){a=t.TankFittingConfig},function(t){r=t.default},function(t){s=t.default},function(t){o=t.default}],execute:function(){var u;t({WinType:void 0,conditionId:void 0,itemType:void 0}),i._RF.push({},"610833MGrBJPJgadFuDo9Aa","DataManager",void 0),function(t){t[t.LOSE=0]="LOSE",t[t.WIN=1]="WIN",t[t.DRAW=2]="DRAW"}(u||(u=t("WinType",{})));var c,p;t("PlayerInfo",(function(t,n,e){this.id=null,this.nickName=null,this.avatar=null,this.id=t,this.nickName=n,this.avatar=e}));t("default",function(){function t(){this.isAI=!0,this.isMatchEnd=!1,this.propMap={},this.userDataMap=new Map,this.userTankFittingMap=new Map,this.selfTankFitting=new a,this.playerInfoMap=new Map,this.game_count_down=90,this.playerBaseDestroyerId="",this.stageWidth=0,this.stageHeight=0,this.isPlayReadyGo=!1}var i=t.prototype;return i.initData=function(){var t=e(regeneratorRuntime.mark((function t(){var n,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.instance.isLogin){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s.instance.getProps();case 4:return t.sent.resources.forEach((function(t){t.conditionId==p.SystemGift&&(t.redeemed=1),e.propMap[t.itemId]=t})),t.next=8,s.instance.getUserData();case 8:this.userData=t.sent,(n=this.userData.data[p.UseSkin])&&""!==n&&-1===n.indexOf("{")&&r.skinStringConvertToObj(n);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.getPropItemByID=function(t){return this.propMap[t]||console.error(t,"不存在"),this.propMap[t]},i.getPostData=function(){return[{id:Number(p.UseSkin),conditionType:2,conditionValue:r.skinObjConvertToString()}]},n(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,function(t){t[t.Turret=1]="Turret",t[t.Barrel=2]="Barrel",t[t.Accessory=3]="Accessory"}(c||(c=t("itemType",{}))),function(t){t.SystemGift="999",t.OnlyCoin="888",t.UseSkin="777"}(p||(p=t("conditionId",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/Decimal.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"469e6WoDTZFlqkTsaa1EK63","Decimal",void 0);var e=Math.pow(10,3),s=new(t("Decimal",function(){function t(){this.sign=1,this.v1=0,this.v2=0;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(3!==i.length){if(0!==i.length&&1===i.length)if("number"==typeof i[0]){if(-1!==i[0].toString().indexOf("."))throw new Error("Decimal need an int number -- "+i[0]);i[0]>=0?(this.sign=1,this.v1=i[0]):(this.sign=-1,this.v1=-i[0])}else{if(0===i[0].length)return;var s=i[0].split(".");this.sign="-"===s[0][0]?-1:1,this.v1=parseInt(s[0]),-1===this.sign&&(this.v1=-this.v1),s[1]&&(this.v2=parseInt(r(s[1]))),0===this.v1&&0===this.v2&&(this.sign=1)}}else{if(this.sign=i[0],this.v1=i[1],this.v2=i[2],this.v2>=e)throw new Error("Decimal v2 too big -- "+this.v2);0===this.v1&&0===this.v2&&(this.sign=1)}}var n=t.prototype;return n.toNumber=function(){return this.sign*(this.v1+this.v2/e)},n.toString=function(){return 1===this.sign?this.v1.toString()+"."+"0".repeat(3-this.v2.toString().length)+this.v2:"-"+this.v1.toString()+"."+"0".repeat(3-this.v2.toString().length)+this.v2},n.getHugeValue=function(){return this.sign*(this.v1*e+this.v2)},n.clone=function(){return new t(this.sign,this.v1,this.v2)},n.floor=function(){return this.sign*this.v1},n.ceil=function(){return this.sign*(this.v1+(this.v2>0?1:0))},n.round=function(){return this.sign*(this.v1+(this.v2>e>>1?1:0))},n.reverse=function(){return new t(-this.sign,this.v1,this.v2)},n.add=function(i){var n=this.getHugeValue()+i.getHugeValue(),s=1;n<0&&(s=-1,n=-n);var r=u(n,e);return new t(s,r.shang,r.yu)},n.addSelf=function(t){var i=this.add(t);return this.sign=i.sign,this.v1=i.v1,this.v2=i.v2,this},n.sub=function(t){return this.add(t.reverse())},n.subSelf=function(t){var i=this.sub(t);return this.sign=i.sign,this.v1=i.v1,this.v2=i.v2,this},n.mul=function(i){var n=this.v1*i.v1,s=u(this.v1*i.v2,e),r=u(this.v2*i.v1,e),h=u(this.v2*i.v2,e),v=new t(1,n,0).addSelf(new t(1,s.shang,s.yu)).addSelf(new t(1,r.shang,r.yu)).addSelf(new t(1,0,h.shang));return new t(this.sign===i.sign?1:-1,v.v1,v.v2)},n.mulSelf=function(t){var i=this.mul(t);return this.sign=i.sign,this.v1=i.v1,this.v2=i.v2,this},n.div=function(i){var n=i.v1*e+i.v2;if(0===n)throw new Error("Decimal div has a zero number");var s=u(this.v1*e+this.v2,n),r=u(s.yu*e,n);return new t(this.sign===i.sign?1:-1,s.shang,r.shang)},n.divSelf=function(t){var i=this.div(t);return this.sign=i.sign,this.v1=i.v1,this.v2=i.v2,this},n.LT=function(t){return this.getHugeValue()<t.getHugeValue()},n.LE=function(t){return this.getHugeValue()<=t.getHugeValue()},n.EQ=function(t){return this.getHugeValue()===t.getHugeValue()},n.NE=function(t){return this.getHugeValue()!==t.getHugeValue()},n.GT=function(t){return this.getHugeValue()>t.getHugeValue()},n.GE=function(t){return this.getHugeValue()>=t.getHugeValue()},n.max=function(t){return this.GT(t)?this:t},n.min=function(t){return this.LT(t)?this:t},i(t,null,[{key:"ZERO",get:function(){return new t}},{key:"ZERO_R",get:function(){return s}}]),t}()));function r(t,i){void 0===i&&(i=3);var n=t.length;return n===i?t:n>i?t.substr(0,i):t+"0".repeat(i-n)}function u(t,i){if(t<i)return{shang:0,yu:t};if(t===i)return{shang:1,yu:0};var n=Math.floor(t/i)-1;for(t-=i*n;t>=i;)n+=1,t-=i;return{shang:n,yu:t}}n._RF.pop()}}}));

System.register("chunks:///_virtual/eMath.ts",["cc","./SocketManager.ts"],(function(t){"use strict";var r,e;return{setters:[function(t){r=t.cclegacy},function(t){e=t.default}],execute:function(){r._RF.push({},"fc50a9f4u1OsLVbPh/eCMYW","eMath",void 0);t("ACCURACY_SIN_ERROR",1e-16),t("ACCURACY_COS_ERROR",1e-16),t("ACCURACY_TAN_ERROR",1e-16);var i=t("DEG",57.29577951308232),n=t("RAD",.017453292519943295),a=t("exactMath",function(){function t(){this.PI=3.141592653589793,this.E=2.718281828459045,this.LN2=.6931471805599453,this.LN10=2.302585092994046,this.LOG2E=1.4426950408889634,this.LOG10E=.4342944819032518,this.SQRT1_2=.7071067811865476,this.SQRT2=1.4142135623730951,this.chain=null,this.sinArr=[0,17,35,52,70,87,105,122,139,156,174,191,208,225,242,259,276,292,309,326,342,358,375,391,407,423,438,454,469,485,500,515,530,545,559,574,588,602,616,629,643,656,669,682,695,707,719,731,743,755,766,777,788,799,809,819,829,839,848,857,866,875,883,891,899,906,914,921,927,934,940,946,951,956,961,966,970,974,978,982,985,988,990,993,995,996,998,999,999,1e3,1e3,1e3,999,999,998,996,995,993,990,988,985,982,978,974,970,966,961,956,951,946,940,934,927,921,914,906,899,891,883,875,866,857,848,839,829,819,809,799,788,777,766,755,743,731,719,707,695,682,669,656,643,629,616,602,588,574,559,545,530,515,500,485,469,454,438,423,407,391,375,358,342,326,309,292,276,259,242,225,208,191,174,156,139,122,105,87,70,52,35,17,0,-17,-35,-52,-70,-87,-105,-122,-139,-156,-174,-191,-208,-225,-242,-259,-276,-292,-309,-326,-342,-358,-375,-391,-407,-423,-438,-454,-469,-485,-500,-515,-530,-545,-559,-574,-588,-602,-616,-629,-643,-656,-669,-682,-695,-707,-719,-731,-743,-755,-766,-777,-788,-799,-809,-819,-829,-839,-848,-857,-866,-875,-883,-891,-899,-906,-914,-921,-927,-934,-940,-946,-951,-956,-961,-966,-970,-974,-978,-982,-985,-988,-990,-993,-995,-996,-998,-999,-999,-1e3,-1e3,-1e3,-999,-999,-998,-996,-995,-993,-990,-988,-985,-982,-978,-974,-970,-966,-961,-956,-951,-946,-940,-934,-927,-921,-914,-906,-899,-891,-883,-875,-866,-857,-848,-839,-829,-819,-809,-799,-788,-777,-766,-755,-743,-731,-719,-707,-695,-682,-669,-656,-643,-629,-616,-602,-588,-574,-559,-545,-530,-515,-500,-485,-469,-454,-438,-423,-407,-391,-375,-358,-342,-326,-309,-292,-276,-259,-242,-225,-208,-191,-174,-156,-139,-122,-105,-87,-70,-52,-35,-17],this.cosArr=[1e3,1e3,999,999,998,996,995,993,990,988,985,982,978,974,970,966,961,956,951,946,940,934,927,921,914,906,899,891,883,875,866,857,848,839,829,819,809,799,788,777,766,755,743,731,719,707,695,682,669,656,643,629,616,602,588,574,559,545,530,515,500,485,469,454,438,423,407,391,375,358,342,326,309,292,276,259,242,225,208,191,174,156,139,122,105,87,70,52,35,17,0,-17,-35,-52,-70,-87,-105,-122,-139,-156,-174,-191,-208,-225,-242,-259,-276,-292,-309,-326,-342,-358,-375,-391,-407,-423,-438,-454,-469,-485,-500,-515,-530,-545,-559,-574,-588,-602,-616,-629,-643,-656,-669,-682,-695,-707,-719,-731,-743,-755,-766,-777,-788,-799,-809,-819,-829,-839,-848,-857,-866,-875,-883,-891,-899,-906,-914,-921,-927,-934,-940,-946,-951,-956,-961,-966,-970,-974,-978,-982,-985,-988,-990,-993,-995,-996,-998,-999,-999,-1e3,-1e3,-1e3,-999,-999,-998,-996,-995,-993,-990,-988,-985,-982,-978,-974,-970,-966,-961,-956,-951,-946,-940,-934,-927,-921,-914,-906,-899,-891,-883,-875,-866,-857,-848,-839,-829,-819,-809,-799,-788,-777,-766,-755,-743,-731,-719,-707,-695,-682,-669,-656,-643,-629,-616,-602,-588,-574,-559,-545,-530,-515,-500,-485,-469,-454,-438,-423,-407,-391,-375,-358,-342,-326,-309,-292,-276,-259,-242,-225,-208,-191,-174,-156,-139,-122,-105,-87,-70,-52,-35,-17,0,17,35,52,70,87,105,122,139,156,174,191,208,225,242,259,276,292,309,326,342,358,375,391,407,423,438,454,469,485,500,515,530,545,559,574,588,602,616,629,643,656,669,682,695,707,719,731,743,755,766,777,788,799,809,819,829,839,848,857,866,875,883,891,899,906,914,921,927,934,940,946,951,956,961,966,970,974,978,982,985,988,990,993,995,996,998,999,999,1e3],this.tanArr=[0,17,35,52,70,87,105,123,141,158,176,194,213,231,249,268,287,306,325,344,364,384,404,424,445,466,488,510,532,554,577,601,625,649,675,700,727,754,781,810,839,869,900,933,966,1e3,1036,1072,1111,1150,1192,1235,1280,1327,1376,1428,1483,1540,1600,1664,1732,1804,1881,1963,2050,2145,2246,2356,2475,2605,2747,2904,3078,3271,3487,3732,4011,4331,4705,5145,5671,6314,7115,8144,9514,11430,14301,19081,28636,57290,1/0],this.randomSeed=this.getSeed(1),this.initSinCos()}var r=t.prototype;return r.value=function(r){var e=this;if(!this.chain){this.chain={value:0,valueOf:function(){return this.value},toString:function(){return String(this.value)}};var i=function(r){"value"!==r&&"function"==typeof t[r]&&(e.chain[r]=function(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return this.value=(e=t[r]).call.apply(e,[t,this.value].concat(n)),this})};for(var n in t)i(n)}return this.chain.value=r,this.chain},r.parseInt=function(t){return Math.floor(t)},r.getDecimalPlace=function(t){if(t&&t!==Math.floor(t)){for(var r=1,e=10,i=0;r<20;r+=1,e*=10)if((i=t*e)==Math.floor(i))return r;return 20}return 0},r.toFixed=function(t,r){if(void 0===r&&(r=1),0==r)return Math.round(t);var e=Math.pow(10,r);return Math.round(t*(10*e)/10)/e},r.abs=function(t){return Math.abs(t)},r.round=function(t){return Math.round(t)},r.ceil=function(t){return Math.ceil(t)},r.floor=function(t){return Math.floor(t)},r.min=function(){return Math.min.apply(Math,arguments)},r.max=function(){return Math.max.apply(Math,arguments)},r.add=function(){for(var t=this,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];if(2===e.length){var n=e[0],a=e[1],o=Math.pow(10,Math.max(this.getDecimalPlace(n),this.getDecimalPlace(a)));return(this.toFixed(n*o)+this.toFixed(a*o))/o}return e.reduce((function(r,e){return t.add(r,e)}))},r.sub=function(){for(var t=this,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];if(2===e.length){var n=e[0],a=e[1],o=Math.pow(10,Math.max(this.getDecimalPlace(n),this.getDecimalPlace(a)));return(this.toFixed(n*o)-this.toFixed(a*o))/o}return e.reduce((function(r,e){return t.sub(r,e)}))},r.mul=function(){for(var t=this,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];if(2===e.length){var n=e[0],a=e[1],o=this.getDecimalPlace(n),h=this.getDecimalPlace(a),u=Math.pow(10,h);a=u/this.toFixed(a*u),u=Math.pow(10,Math.max(o,this.getDecimalPlace(a))),u=this.toFixed(n*u)/this.toFixed(a*u);var s=Math.min(this.getDecimalPlace(u),o+h);return this.toFixed(u,s)}return e.reduce((function(r,e){return t.mul(r,e)}))},r.div=function(){for(var t=this,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];if(2===e.length){var n=e[0],a=e[1],o=Math.pow(10,Math.max(this.getDecimalPlace(n),this.getDecimalPlace(a)));return this.toFixed(n*o)/this.toFixed(a*o)}return e.reduce((function(r,e){return t.div(r,e)}))},r.rem=function(){for(var t=this,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];if(2===e.length){var n=e[0],a=e[1],o=Math.pow(10,Math.max(this.getDecimalPlace(n),this.getDecimalPlace(a)));return this.toFixed(n*o)%this.toFixed(a*o)/o}return e.reduce((function(r,e){return t.rem(r,e)}))},r.pow=function(t,r){if(0==t&&0==r)return 1;if(0==t&&r>0)return 0;if(0==t&&r<0)return 1/0;if(t<0&&r<0&&Math.round(r)!=r)return NaN;if(Math.round(r)!=r)throw new Error("n must be an integer");var e=1;if(r>0)for(var i=0;i<r;i++)e=this.mul(e,t);else if(r<0)for(var n=0,a=Math.abs(r);n<a;n++)e=this.div(e,t);return e},r.sqrt=function(t){if(t<0)return NaN;if(0===t)return 0;if(1===t)return 1;if(t===1/0)return 1/0;for(var r=0,e=1,i=50;e!=r&&--i>=0;)r=e,e=this.div(this.add(e,this.div(t,e)),2);return e},r.getSeed=function(t){return t=isNaN(t)?Math.floor(233280*Math.random()):Math.floor(t%233280)},r.setSeed=function(t){t=e.instance.randomSeed+123*t+98765,this.randomSeed=this.getSeed(t)},r.getRandomSeed=function(){return this.randomSeed},r.random=function(){return this.randomSeed=(9301*this.randomSeed+49297)%233280,this.randomSeed/233280},r.getRandom=function(t,r){if(t>r){var e=t;t=r,r=e}return Math.round(t+Math.floor(1e4*this.random())*Math.floor(1e4*(r-t))/1e8)},r.randomBySeed=function(t){return(t=(9301*(t=this.getSeed(t))+49297)%233280)/233280},r.getRandomBySeed=function(t,r,e){var i=(t=(9301*(t=this.getSeed(t))+49297)%233280)/233280;if(r>e){var n=r;r=e,e=n}return Math.round(r+Math.floor(1e4*i)*Math.floor(1e4*(e-r))/1e8)},r.radiansToDegrees=function(t){return this.div(t,n)},r.degreesToRadians=function(t){return this.div(t,i)},r.get0To360Angle=function(t){return 0===t?0:t<0?this.add(this.rem(t,360),360):this.rem(t,360)},r.initSinCos=function(){for(var t=0;t<this.sinArr.length;t++)this.sinArr[t]=this.div(this.sinArr[t],1e3);for(var r=0;r<this.cosArr.length;r++)this.cosArr[r]=this.div(this.cosArr[r],1e3)},r.sin=function(t){return t=this.floor(t),(t%=360)<0&&(t+=360),this.sinArr[t]},r.cos=function(t){return t=this.floor(t),(t%=360)<0&&(t+=360),this.cosArr[t]},r.atan2=function(t,r){if(0===r)return t>0?90:-90;var e=this.floor(this.mul(this.div(t,r),1e3));e<0&&(e=-e);for(var i=0,n=this.tanArr;e>n[i];)i++;return t>=0?r<=0&&(i=180-i):r<=0?i+=180:i=360-i,i>=180?i-=360:i<=-180&&(i+=360),i},r.acos=function(t){for(var r=this.floor(1e3*t),e=0,i=this.cosArr;r<1e3*i[e];)e++;return e},t}());t("eMath",new a);r._RF.pop()}}}));

System.register("chunks:///_virtual/FollowCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCtrl.ts","./DataManager.ts","./BaseCamera.ts"],(function(o){"use strict";var t,i,e,n,s,a,r,c,p,h,u;return{setters:[function(o){t=o.inheritsLoose},function(o){i=o.cclegacy,e=o._decorator,n=o.UITransform,s=o.tween,a=o.v3,r=o.Tween,c=o.Vec3},function(o){p=o.default},function(o){h=o.default},function(o){u=o.BaseCamera}],execute:function(){var d;i._RF.push({},"effcfWLhlNBm6239UavXLMO","FollowCamera",void 0);var l=e.ccclass;e.property,o("FollowCamera",l(d=function(o){function i(){for(var t,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(t=o.call.apply(o,[this].concat(e))||this).focusTarget=null,t.speedFactor=.05,t._tempVec3=new c,t.isTweenMove=!1,t._isShake=!1,t}t(i,o);var e=i.prototype;return e.update=function(){if(this.focusTarget&&h.instance.isPlayReadyGo){if(this.isTweenMove)return;var o;if(o=this.focusTarget.parent.getComponent(n).convertToWorldSpaceAR(this.focusTarget.position)){this._tempVec3.set(o.x,o.y,this.node.position.z);var t=this._tempVec3.subtract(this.node.position);t&&t.lengthSqr()>.01&&(this.node.position.add(t.multiplyScalar(this.speedFactor)),this.node.setPosition(this.node.position))}}},e.tweenMove=function(o,t,i){var e=this;return void 0===t&&(t=1),void 0===i&&(i=!0),this.isTweenMove=!0,new Promise((function(n){s(e.node).to(t,{position:a(o.x,o.y,e.node.position.z)},i?{easing:"fade"}:null).call(n).start()}))},e.UpMove=function(){this.node.setPosition(this.node.position.x,this.node.position.y+100)},e.DownMove=function(){this.node.setPosition(this.node.position.x,this.node.position.y-100)},e.LeftMove=function(){this.node.setPosition(this.node.position.x-100,this.node.position.y)},e.RightMove=function(){this.node.setPosition(this.node.position.x+100,this.node.position.y)},e.stopTweenMove=function(){this.isTweenMove=!1,r.stopAllByTarget(this.node)},e.shakeEffect=function(o){var t=this;if(!this._isShake&&p.instance.IS_FOLLOW_CAMERA){this._isShake=!0;var i=this.node.position.clone();s(this.node).repeatForever(s().to(.01,{position:a(i.x+5,i.y+7,i.z)}).to(.01,{position:a(i.x-6,i.y+7,i.z)}).to(.01,{position:a(i.x-13,i.y+3,i.z)}).to(.01,{position:a(i.x+3,i.y-6,i.z)}).to(.01,{position:a(i.x-5,i.y+5,i.z)}).to(.01,{position:a(i.x+2,i.y-8,i.z)}).to(.01,{position:a(i.x-8,i.y-10,i.z)}).to(.01,{position:a(i.x+3,i.y+10,i.z)}).to(.01,{position:a(i.x+0,i.y+0,i.z)})).start(),setTimeout((function(){r.stopAllByTarget(t.node),t.node.setPosition(i),t._isShake=!1}),1e3*o)}},i}(u))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc","./GameState.ts"],(function(e){"use strict";var i,t;return{setters:[function(e){i=e.cclegacy},function(e){t=e.PropType}],execute:function(){var r;i._RF.push({},"45fc1fozUpD2orbqQ/rAZUO","GameConfig",void 0);var a=e("GameConfig",(function(){}));a.bgType=1,a.CONFIG_FILE_DIR="config/",a.PREFAB_UI_DIR="prefab/ui/",a.AUDIO_DIR="sound/",a.SCREEN_HEIGHT=2160,a.SCREEN_WIDTH=1080,a.GUIDE_BLOCK_STR="1043356055132222441035014",a.GUIDE_TARGET_STR="005122441",a.Normal_Shoot_Interval_Time=.5,a.Prcision_Shoot_Interval_Time=.75,a.AI_Shoot_Interval_Time=1e3,a.GridSize=132,a.syncRate=10,a.moveSpeed=10,a.bullet_width=30,a.bullet_height=30,a.tank_radius=65,a.relive_time=2e3,a.wudi_time=1e3,a.create_prop_time=1e4,a.baseUpgradeTime=12e3,a.bullet_flying_distance=500,a.createAiTankTime=5e3,a.aiChangeDirTime=5e3,a.playerBaseWidth=200,a.playerBaseHeight=283,a.PropConfig=((r={})[t.Clock]={width:115,height:115,angle:0,resUrl:"propSprites/Clock/spriteFrame"},r[t.Shield]={width:120,height:115,angle:0,resUrl:"propSprites/Shields/spriteFrame"},r[t.Star]={width:110,height:105,angle:0,resUrl:"propSprites/Star/spriteFrame"},r),i._RF.pop()}}}));

System.register("chunks:///_virtual/GameCountdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./MessageManager.ts"],(function(t){"use strict";var n,e,o,i,a,r,c,s,_,l,g,u,m,h,d,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Font,s=t.Node,_=t.Label,l=t.tween,g=t.UIOpacity,u=t.Tween,m=t.Component},function(t){h=t.default},function(t){d=t.default,w=t.EventType}],execute:function(){var p,f,T,C,v,y,b,B,D,M,G;a._RF.push({},"d00dam150pB+otUZqtp3jnE","GameCountdown",void 0);var A=r.ccclass,O=r.property;t("GameCountdown",(p=A("GameCountdown"),f=O(c),T=O(c),C=O(s),v=O(s),p((B=n((b=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,o(n,"game_time_down_blue_font",B,i(n)),o(n,"game_time_down_red_font",D,i(n)),o(n,"game_time_down_clock",M,i(n)),o(n,"warningBg",G,i(n)),n}e(n,t);var a=n.prototype;return a.onLoad=function(){d.instance.on(w.GAME_TIME_COUNT_DOWN,this._setTime,this),d.instance.on(w.START_GAME_TIME_COUNT_DOWN,this.onStartGameCountDown,this),d.instance.on(w.STOP_GAME_TIME_COUNT_DOWN,this.onStopGameCountDown,this),this.node.active=!1,this.warningBg.active=!1,this.game_time_down_clock.active=!1},a.onDestroy=function(){d.instance.off(w.GAME_TIME_COUNT_DOWN,this._setTime,this),d.instance.off(w.START_GAME_TIME_COUNT_DOWN,this.onStartGameCountDown,this),d.instance.off(w.STOP_GAME_TIME_COUNT_DOWN,this.onStopGameCountDown,this)},a.start=function(){},a.onStartGameCountDown=function(){this.node.active=!0,this.node.getComponent(_).string=h.instance.game_count_down.toString()},a._setTime=function(t){var n=Math.floor(h.instance.game_count_down-t/1e3);this.node.getComponent(_).string=n.toString(),n>=11?(this.node.getComponent(_).font=this.game_time_down_blue_font,this.game_time_down_clock.active&&(this.game_time_down_clock.active=!1),this.warningBg.active&&(this.warningBg.active=!1)):(this.node.getComponent(_).font=this.game_time_down_red_font,this.game_time_down_clock.active||(this.game_time_down_clock.active=!0),this.warningBg.active||(this.warningBg.active=!0),l(this.game_time_down_clock).to(.05,{angle:-10}).to(.1,{angle:10}).to(.1,{angle:-10}).to(.05,{angle:0}).start(),l(this.warningBg.getComponent(g)).delay(.9).to(.25,{opacity:150}).to(.25,{opacity:0}).start()),n<=0&&(u.stopAllByTarget(this.warningBg.getComponent(g)),u.stopAllByTarget(this.game_time_down_clock),this.unscheduleAllCallbacks(),this.node.active=!1,this.warningBg.active=!1)},a.onStopGameCountDown=function(){u.stopAllByTarget(this.warningBg.getComponent(g)),u.stopAllByTarget(this.game_time_down_clock),this.unscheduleAllCallbacks(),this.node.active=!1,this.warningBg.active=!1},n}(m)).prototype,"game_time_down_blue_font",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(b.prototype,"game_time_down_red_font",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(b.prototype,"game_time_down_clock",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(b.prototype,"warningBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FollowCamera.ts","./GameConfig.ts","./GuideManager.ts","./MessageManager.ts","./SocketManager.ts","./SoundManager.ts","./Grid.ts","./MXBattle.ts","./GameMapUI.ts","./LeftJoyStick.ts","./RightJoyStick.ts","./eMath.ts","./Utils.ts","./Bullet.ts","./Prop.ts","./GameManager.ts","./WallExplode.ts","./GameState.ts","./BaseTank.ts","./PlayerTank.ts","./DataManager.ts","./proto.mjs_cjs=&original=.js","./MultipleScoreItem.ts","./proto.js"],(function(e){"use strict";var t,n,i,a,o,r,s,l,c,d,u,p,h,m,f,y,g,_,C,v,b,S,w,I,k,M,N,P,R,T,E,B,G,D,A,x,L,z,F,U,O,W,J,H,V,Y,j,K,Z,X,q,Q,$,ee,te,ne,ie,ae,oe,re,se,le,ce,de,ue,pe;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator},function(e){s=e.cclegacy,l=e._decorator,c=e.Prefab,d=e.Node,u=e.AudioClip,p=e.SpriteFrame,h=e.NodePool,m=e.Vec3,f=e.UITransform,y=e.Widget,g=e.Sprite,_=e.Layout,C=e.instantiate,v=e.Layers,b=e.v3,S=e.ParticleSystem2D,w=e.find,I=e.input,k=e.Input,M=e.Label,N=e.ParticleSystem,P=e.UIOpacity,R=e.Camera,T=e.view,E=e.Color,B=e.tween,G=e.resources,D=e.JsonAsset,A=e.KeyCode,x=e.Component,L=e.Graphics},function(e){z=e.FollowCamera},function(e){F=e.GameConfig},function(e){U=e.GuideManager,O=e.GuideStep},function(e){W=e.default,J=e.EventType},function(e){H=e.default},function(e){V=e.SoundManager,Y=e.AudioClipRes},function(e){j=e.Grid},function(e){K=e.mxBattle},function(e){Z=e.GameMapUI,X=e.GridType},function(e){q=e.Joystick},function(e){Q=e.RightJoyStick},function(e){$=e.eMath},function(e){ee=e.default},function(e){te=e.Bullet},function(e){ne=e.Prop},function(e){ie=e.GameManager},function(e){ae=e.WallExplode},function(e){oe=e.GameStatus,re=e.PropType,se=e.ShootType},function(e){le=e.Status},function(e){ce=e.PlayerTank},function(e){de=e.default},null,function(e){ue=e.MultipleScoreItem},function(e){pe=e.default}],execute:function(){var he,me,fe,ye,ge,_e,Ce,ve,be,Se,we,Ie,ke,Me,Ne,Pe,Re,Te,Ee,Be,Ge,De,Ae,xe,Le,ze,Fe,Ue,Oe,We,Je,He,Ve,Ye,je,Ke,Ze,Xe,qe,Qe,$e,et,tt,nt,it,at,ot,rt,st,lt,ct,dt;s._RF.push({},"43ba6mDHJlCbafRKojFL64y","GameCtrl",void 0);var ut=l.ccclass,pt=l.property;e("default",(he=ut("GameCtrl"),me=pt(c),fe=pt(d),ye=pt(d),ge=pt(d),_e=pt(Z),Ce=pt(q),ve=pt(Q),be=pt(c),Se=pt(d),we=pt(c),Ie=pt(c),ke=pt(c),Me=pt(c),Ne=pt(c),Pe=pt(c),Re=pt(c),Te=pt(d),Ee=pt(u),Be=pt(d),Ge=pt(d),De=pt(p),Ae=pt(p),xe=pt(d),Le=pt(d),he(((dt=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"playerTankPrefab",Ue,a(t)),i(t,"mapContent",Oe,a(t)),i(t,"map_tank_layer",We,a(t)),i(t,"map_bullet_layer",Je,a(t)),i(t,"map",He,a(t)),i(t,"leftJoystick",Ve,a(t)),i(t,"rightJoystick",Ye,a(t)),i(t,"bulletPrefab",je,a(t)),i(t,"reliveTimeDown",Ke,a(t)),i(t,"propPrefab",Ze,a(t)),i(t,"tank_explode_prefab",Xe,a(t)),i(t,"base_explode_prefab",qe,a(t)),i(t,"muzzle_flame_prefab",Qe,a(t)),i(t,"get_star_particle_prefab",$e,a(t)),i(t,"get_other_particle_prefab",et,a(t)),i(t,"obsExplode",tt,a(t)),i(t,"IceSmokeNode",nt,a(t)),i(t,"readyGoClip",it,a(t)),i(t,"MultiScoreRank",at,a(t)),i(t,"multiple_score_item",ot,a(t)),i(t,"upArrowSpriteFrame",rt,a(t)),i(t,"downArrowSpriteFrame",st,a(t)),i(t,"doubleScoreNode",lt,a(t)),i(t,"tripleScoreNode",ct,a(t)),t._follow_camera_list=[],t.playerInstanceMap=new Map,t.bulletInstanceMap=new Map,t.propInstanceMap=new Map,t.player_tankPool=new h,t.bulletNodePool=new h,t.tankExplodeNodePool=new h,t.muzzleFlameNodePool=new h,t._followCameraInitPos=null,t.IS_FOLLOW_CAMERA=!0,t.sendFrameInterval=.033,t.lastSendframeTime=0,t.frameInterval=.099,t.curFrameTime=0,t.selfTankState=null,t._updateScoreInterval=.1,t._curUpdateScoreTime=0,t._dir=new m,t.guideShootNeutralEffective=!1,t.lastNormalShootTime=Date.now(),t.lastPrcisionShootTime=Date.now(),t}n(t,e);var s=t.prototype;return s.reset=function(){this.MultiScoreRank.getChildByName("content").destroyAllChildren(),de.instance.isPlayReadyGo=!1,this.node.getChildByName("ReadyGo").active=!1,this.node.getChildByName("closeBtn").active=!1,this.node.getChildByName("emojiContent").active=!1,ie.instance.init();for(var e=0;e<this._follow_camera_list.length;e++)this._follow_camera_list[e].focusTarget=null,this._follow_camera_list[e].stopTweenMove(),this._follow_camera_list[e].node.setPosition(this._followCameraInitPos);this.playerInstanceMap.forEach((function(e,t){e.node.isValid&&e.node.destroy()})),this.playerInstanceMap.clear(),this.bulletInstanceMap.forEach((function(e,t){e.node.isValid&&e.node.destroy()})),this.bulletInstanceMap.clear(),this.propInstanceMap.forEach((function(e,t){e.node.isValid&&e.node.destroy()})),this.propInstanceMap.clear(),this.reliveTimeDown.active=!1,this.node.getChildByName("ReadyGo").active=!1,this.node.getChildByName("ReadyGo").getChildByName("READY").active=!1,this.map.obstacleNodeMap.clear(),this.map.grassNodeList.length=0;for(var t=0;t<this.map.gridNodeList.length;t++)for(var n=0;n<this.map.gridNodeList[t].length;n++)this.map.gridNodeList[t][n].getComponent(j).reset(),this.map.gridNodeList[t][n].active=!0;this.map.reset(),this.leftJoystick.node.active=this.rightJoystick.node.active=!0,this.mapContent.getChildByName("tank_info_layer").destroyAllChildren(),this.node.getChildByName("testButton1").active=!0,this.node.getChildByName("testButton2").active=!0,this.unscheduleAllCallbacks(),ie.instance.selfPlayerId="",de.instance.game_count_down=120},s.closeMultiScoreRank=function(){this.MultiScoreRank.getChildByName("content").children.length&&this.MultiScoreRank.getChildByName("content").children.forEach((function(e,t){e.active=0===t})),this.MultiScoreRank.getChildByName("content").children.length?this.MultiScoreRank.getComponent(f).height=118:this.MultiScoreRank.getComponent(f).height=70,this.MultiScoreRank.getChildByName("Arrows").getComponent(y).updateAlignment(),this.MultiScoreRank.getChildByName("Arrows").getComponent(g).spriteFrame=this.downArrowSpriteFrame},s.openMultiScoreRank=function(){this.MultiScoreRank.getChildByName("content").children.length&&this.MultiScoreRank.getChildByName("content").children.forEach((function(e,t){e.active=!0})),this.MultiScoreRank.getChildByName("content").getComponent(_).updateLayout(),this.MultiScoreRank.getComponent(f).height=this.MultiScoreRank.getChildByName("content").getComponent(f).height+65,this.MultiScoreRank.getChildByName("Arrows").getComponent(y).updateAlignment(),this.MultiScoreRank.getChildByName("Arrows").getComponent(g).spriteFrame=this.upArrowSpriteFrame},s.onTouchMultiScoreRank=function(){K.Is_Guide||0!==this.MultiScoreRank.getChildByName("content").children.length&&(this.MultiScoreRank.getChildByName("content").children[this.MultiScoreRank.getChildByName("content").children.length-1].active?this.closeMultiScoreRank():this.openMultiScoreRank())},s.onLoad=function(){var e=this;t.instance=this,this.node.getChildByName("ReadyGo").active=!1,this.node.getChildByName("closeBtn").active=!1,this.node.getChildByName("emojiContent").active=!1,this.MultiScoreRank.active=!1,this.node.getChildByName("ping").active=!1;for(var n=0;n<5;n++){var i=C(this.bulletPrefab);this.bulletNodePool.put(i)}for(var a=0;a<2;a++)this.player_tankPool.put(C(this.playerTankPrefab));for(var o=0;o<3;o++){var r=C(this.tank_explode_prefab);this.tankExplodeNodePool.put(r)}for(var s=0;s<5;s++){var l=C(this.muzzle_flame_prefab);this.muzzleFlameNodePool.put(l)}var c=C(this.tank_explode_prefab);c.layer=v.Enum.UI_3D,this.mapContent.addChild(c),c.setPosition(b(3e3,3e3,0)),c.children[1].getComponent(S).resetSystem(),c.children[1].getComponent(S).scheduleOnce((function(){c.children[1].getComponent(S).stopSystem(),e.tankExplodeNodePool.put(c)}),1),W.instance.on(J.TANK_SHOOT,this._shoot,this),W.instance.on(J.FIRE_TWEEN,this.FireTween,this),W.instance.on(J.PLAYER_EXPLODE,this.playerTankExplode,this),W.instance.on(J.MUZZLE_FLAME,this.createMuzzleFlame,this),W.instance.on(J.PLAYER_BE_HIT,this.playerBeHit,this),W.instance.on(J.WALL_BE_HIT,this.wallBeHit,this),this._follow_camera_list.push(w("GameCamera").getComponent(z)),this._follow_camera_list.push(w("MapCamera").getComponent(z)),this._follow_camera_list.push(w("3DUpCamera").getComponent(z)),this._followCameraInitPos=this._follow_camera_list[0].node.position.clone(),this.reliveTimeDown.active=!1,this.node.getChildByName("ReadyGo").active=!1,this.node.getChildByName("ReadyGo").getChildByName("READY").active=!1,I.on(k.EventType.KEY_PRESSING,this.onKeyDown,this),W.instance.on(J.UPDATE_FRAME_RENDER,this.updateFrameRender,this),W.instance.on(J.UPDATE_GRASS_ENTITYS,this._updateGrass,this),W.instance.on(J.GAME_OVER,this.onGameOver,this),W.instance.on(J.START_GAME,this.playReadyGoAni,this),this.MultiScoreRank.on(d.EventType.TOUCH_END,this.onTouchMultiScoreRank,this)},s.onDestroy=function(){I.off(k.EventType.KEY_PRESSING,this.onKeyDown,this);for(var e=0;e<this._follow_camera_list.length;e++)this._follow_camera_list[e].focusTarget=null;W.instance.off(J.TANK_SHOOT,this._shoot,this),W.instance.off(J.FIRE_TWEEN,this.FireTween,this),W.instance.off(J.PLAYER_EXPLODE,this.playerTankExplode,this),W.instance.off(J.MUZZLE_FLAME,this.createMuzzleFlame,this),W.instance.off(J.PLAYER_BE_HIT,this.playerBeHit,this),W.instance.off(J.WALL_BE_HIT,this.wallBeHit,this),W.instance.off(J.UPDATE_FRAME_RENDER,this.updateFrameRender,this),W.instance.off(J.GAME_OVER,this.onGameOver,this),W.instance.off(J.UPDATE_GRASS_ENTITYS,this._updateGrass,this),W.instance.off(J.START_GAME,this.playReadyGoAni,this)},s.onEnable=function(){this.node.getChildByName("ReadyGo").getChildByName("READY").active=!1,this.node.getChildByName("ReadyGo").getChildByName("go").active=!1},s.start=function(){K.Is_Guide&&(this.node.getChildByName("testButton1").active=!1,this.node.getChildByName("testButton2").active=!1,U.instance.startGuide())},s.update=function(e){if(ie.instance.gameStatus===oe.Ing){if(this._updatePlayers(),this._updateRankScore(e),this.lastSendframeTime+=e,this.lastSendframeTime>=this.sendFrameInterval){this.lastSendframeTime=0;var t=ie.instance.upLoadframeInputArrs;ie.instance.upLoadframeInputArrs=[],t.length&&H.instance.sendFrameData(t)}if(this.leftJoystick.dirVec3){var n=this.leftJoystick.dirVec3.clone().normalize().multiplyScalar(300);ie.instance.sendClientInput({type:pe.GameSystemInput.INPUT_TYPE.PLAYER_MOVE,dir:{x:n.x,y:n.y},dt:1e3*e,playerId:ie.instance.selfPlayerId})}if(this.rightJoystick.isMoving&&this.rightJoystick.dirVec3&&(Date.now()-this.lastPrcisionShootTime)/1e3>F.Prcision_Shoot_Interval_Time){if(!this.playerInstanceMap.get(ie.instance.selfPlayerId))return;if(ie.instance.isShootIng)return;var i=this.rightJoystick.dirVec3;ie.instance.sendClientInput({type:pe.GameSystemInput.INPUT_TYPE.BARREL_ROTATE,dir:{x:1e3*i.x,y:1e3*i.y},playerId:ie.instance.selfPlayerId,dt:1e3*e})}}},s.updateFrameRender=function(){ie.instance.gameStatus===oe.Ing&&(this._updateBullets(),this._updateProps(),this._updateGrass())},s._updateRankScore=function(e){var t=this;if(this._curUpdateScoreTime+=e,this._curUpdateScoreTime>=this._updateScoreInterval){var n=ie.instance.system.multipleScoreMap,i=Array.from(n);i.sort((function(e,t){return t[1]-e[1]})),i.forEach((function(e,n){t.MultiScoreRank.getChildByName("content").children.length>n&&t.MultiScoreRank.getChildByName("content").children[n].getComponent(ue).setData(de.instance.playerInfoMap.get(e[0]).nickName,e[1],e[0]===ie.instance.selfPlayerId)})),this._curUpdateScoreTime=0}},s.createScoreItem=function(){var e=C(this.multiple_score_item);e.active=!0,this.MultiScoreRank.getChildByName("content").addChild(e),e.getComponent(ue).setIndex(this.MultiScoreRank.getChildByName("content").children.length-1),this.MultiScoreRank.getChildByName("Arrows").getComponent(g).spriteFrame!==this.downArrowSpriteFrame?(this.MultiScoreRank.getChildByName("content").getComponent(_).updateLayout(),this.MultiScoreRank.getComponent(f).height=this.MultiScoreRank.getChildByName("content").getComponent(f).height+70):this.closeMultiScoreRank()},s.scoreRankOutline=function(){var e=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.node.getChildByName("blackBg").active=!0,this.MultiScoreRank.getChildByName("content").getComponent(_).updateLayout(),this.MultiScoreRank.getComponent(f).height=this.MultiScoreRank.getChildByName("content").getComponent(f).height+70,e.next=5,ee.delay(.5);case 5:return(t=this.node.getChildByName("MultiScoreRank_Graphics").getComponent(L)).roundRect(-(this.MultiScoreRank.getComponent(f).width+5)/2,-(this.MultiScoreRank.getComponent(f).height+2.5),this.MultiScoreRank.getComponent(f).width+5,this.MultiScoreRank.getComponent(f).height+5,22),t.stroke(),t.fill(),e.next=11,ee.delay(2);case 11:t.node.active=!1,this.node.getChildByName("blackBg").active=!1;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._updatePlayers=function(){for(var e=ie.instance.state.players,t=0;t<e.length;t++){var n=e[t],i=this.playerInstanceMap.get(n.id);if(!i){var a=this.player_tankPool.get();if(a||(a=C(this.playerTankPrefab)),this.map_tank_layer.addChild(a),(i=a.getComponent(ce)).init(n,n.id===ie.instance.selfPlayerId),this.playerInstanceMap.set(n.id,i),n.id===ie.instance.selfPlayerId&&this.IS_FOLLOW_CAMERA)for(var o=0;o<this._follow_camera_list.length;o++)this._follow_camera_list[o].focusTarget=a;this.createScoreItem()}if(n.id===ie.instance.selfPlayerId){n.status===le.Dead?(this.leftJoystick.dirVec3&&this.leftJoystick.setNull(),this.rightJoystick.dirVec3&&this.rightJoystick.setNull(),this.reliveTimeDown.active=!0,this.reliveTimeDown.getChildByName("djs").getChildByName("timeDownlabel").getComponent(M).string=Math.ceil((n.reliveEndTime-ie.instance.state.now)/1e3)+" "):this.reliveTimeDown.active=!1,1!==n.speed?this.IceSmokeNode.children[0].children[0].getComponent(N).isPlaying||(this.IceSmokeNode.walk((function(e){var t=e.getComponent(N);t&&t.play()})),V.instance.playSound(Y.Dongjie)):this.IceSmokeNode.children[0].children[0].getComponent(N).isPlaying&&this.IceSmokeNode.walk((function(e){var t=e.getComponent(N);t&&t.stop()}));var r=(Date.now()-this.lastPrcisionShootTime)/1e3;i.tank_info.getChildByName("Shooting").getComponent(P).opacity=r>=F.Prcision_Shoot_Interval_Time?255:100}i.updateState(n,ie.instance.state.now)}for(var s=ie.instance.system.aiPlayers,l=0;l<s.length;l++){var c=s[l],d=this.playerInstanceMap.get(c.id);if(!d){var u=this.player_tankPool.get();u||(u=C(this.playerTankPrefab)),this.map_tank_layer.addChild(u),d=u.getComponent(ce),this.playerInstanceMap.set(c.id,d),d.init(c,c.id===ie.instance.selfPlayerId),this.createScoreItem()}d.updateState(c,ie.instance.state.now)}},s.IsInView=function(e){var t=this._follow_camera_list[0].node.getWorldPosition(),n=this._follow_camera_list[0].node.getComponent(R).worldToScreen(e);m.normalize(this._dir,e.subtract(t));var i=this._follow_camera_list[0].node.forward,a=m.dot(i,this._dir),o=T.getViewportRect();return a>0&&n.x<=o.width+200&&n.x>=0&&n.y<=o.height+200&&n.y>=0},s._updateBullets=function(){for(var e,t=this,n=ie.instance.system.bullets,i=o(n);!(e=i()).done;){var a=e.value,r=this.bulletInstanceMap.get(a.id);if(!r&&a.effectiveTime-67<ie.instance.state.now){var s=this.bulletNodePool.get();s||(s=C(this.bulletPrefab)),this.map_bullet_layer.addChild(s),r=s.getComponent(te),s.getComponent(S).resetSystem(),this.bulletInstanceMap.set(a.id,r),r.init(a,a.moveDir,ie.instance.state.now)}}for(var l,c=function(){var e=l.value;ie.instance.system.bullets.find((function(t){return t.id===e[0]}))||(e[1].node.getComponent(S).stopSystem(),t.scheduleOnce((function(){t.bulletNodePool.put(e[1].node)}),3),t.bulletInstanceMap.delete(e[0]))},d=o(this.bulletInstanceMap);!(l=d()).done;)c()},s._updateGrass=function(){for(var e=this,t=function(t){var i=e.map.grassNodeList[t];if(ie.instance.system.grasss.find((function(e){return e.id===i.id})))i.updaState(ie.instance.system.grasss.find((function(e){return e.id===i.id})));else{var a=C(e.obsExplode);a.getComponent(ae).setSprite(i.type),a.layer=v.Enum.UI_3D,a.walk((function(e){e.layer=v.Enum.UI_3D})),a.setPosition(i.node.position),e.mapContent.addChild(a),a.children[0].getComponent(S).resetSystem(),a.children[1].getComponent(S).resetSystem(),e.IsInView(i.node.worldPosition.clone())&&(i.type===X.WoodWall?V.instance.playSound(Y.WoodBoom,.1):i.type===X.IronWall&&V.instance.playSound(Y.RockBoom)),i.node.active=!1,i.obstacle1.active=i.obstacle2.active=!1,e.map.grassNodeList.splice(t,1),t--}n=t},n=0;n<this.map.grassNodeList.length;n++)t(n)},s._updateObstacles=function(){for(var e,t=this,n=function(){var n=e.value,i=n[1];if(ie.instance.system.obstacles.find((function(e){return e.id===i.id})))i.updaState(ie.instance.system.obstacles.find((function(e){return e.id===i.id})));else{var a=C(t.obsExplode);a.getComponent(ae).setSprite(i.type),a.layer=v.Enum.UI_3D,a.walk((function(e){e.layer=v.Enum.UI_3D})),a.setPosition(i.node.position),t.mapContent.addChild(a),a.children[0].getComponent(S).resetSystem(),a.children[1].getComponent(S).resetSystem(),t.IsInView(i.node.worldPosition.clone())&&(i.type===X.WoodWall?V.instance.playSound(Y.WoodBoom,.1):i.type===X.IronWall&&V.instance.playSound(Y.RockBoom)),i.node.active=!1,i.obstacle1.active=i.obstacle2.active=!1,t.map.obstacleNodeMap.delete(n[0])}},i=o(this.map.obstacleNodeMap);!(e=i()).done;)n()},s._updateProps=function(){for(var e,t=this,n=ie.instance.system.props,i=o(n);!(e=i()).done;){var a=e.value,r=this.propInstanceMap.get(a.id);if(!r){var s=C(this.propPrefab);s.layer=v.Enum.UI_3D,s.walk((function(e){e.layer=v.Enum.UI_3D})),this.mapContent.getChildByName("under_tank_layer").addChild(s),r=s.getComponent(ne),this.propInstanceMap.set(a.id,r),r.init(a)}}for(var l,c=function(){var e=l.value;if(!ie.instance.system.props.find((function(t){return t.id===e[0]}))){if(e[1].node.getComponent(ne).state.type===re.Star){var n=C(t.get_star_particle_prefab);n.layer=v.Enum.UI_3D,n.setPosition(e[1].node.position),t.mapContent.addChild(n),n.getComponent(S).resetSystem()}else{var i=C(t.get_other_particle_prefab);i.layer=v.Enum.UI_3D,i.setPosition(e[1].node.position),t.mapContent.addChild(i),i.getComponent(S).resetSystem()}e[1].node.destroy(),t.propInstanceMap.delete(e[0])}},d=o(this.propInstanceMap);!(l=d()).done;)c()},s._shoot=function(){var e=r(regeneratorRuntime.mark((function e(t){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ie.instance.state.players.find((function(e){return e.id===ie.instance.selfPlayerId}))){e.next=3;break}return e.abrupt("return");case 3:if(n.status!==le.Dead){e.next=5;break}return e.abrupt("return");case 5:if(!ie.instance.isShootIng){e.next=7;break}return e.abrupt("return");case 7:if(t!==se.Normal){e.next=15;break}if(!((Date.now()-this.lastNormalShootTime)/1e3<n.shoot_interval_time)){e.next=10;break}return e.abrupt("return");case 10:if(!((Date.now()-this.lastPrcisionShootTime)/1e3<F.Prcision_Shoot_Interval_Time)){e.next=12;break}return e.abrupt("return");case 12:this.lastNormalShootTime=Date.now(),e.next=18;break;case 15:if(!((Date.now()-this.lastPrcisionShootTime)/1e3<F.Prcision_Shoot_Interval_Time)){e.next=17;break}return e.abrupt("return");case 17:this.lastPrcisionShootTime=Date.now();case 18:if(t!==se.Prcision&&K.Is_Guide&&U.instance.currentGuideID===O.TapFireStart?U.instance.currentGuideID=O.TapFireStart_1:t!==se.Prcision&&K.Is_Guide&&U.instance.currentGuideID===O.TapFireStart_1&&(U.instance.currentGuideID=O.TapFireStart_2),t===se.Prcision&&K.Is_Guide&&U.instance.currentGuideID===O.DragMoveTouchEnd?U.instance.currentGuideID=O.DragShoot_1:t===se.Prcision&&K.Is_Guide&&U.instance.currentGuideID===O.DragShoot_1&&(U.instance.currentGuideID=O.DragShoot_2),i=this.playerInstanceMap.get(ie.instance.selfPlayerId),e.t0=i,!e.t0){e.next=26;break}return e.next=25,i.getFireInfo(t===se.Prcision);case 25:e.t0=e.sent;case 26:(a=e.t0)&&ie.instance.sendClientInput({type:pe.GameSystemInput.INPUT_TYPE.PLAYER_SHOOT,pos:{x:a.pos.x,y:a.pos.y},dir:{x:1e3*a.moveDir.x,y:1e3*a.moveDir.y},barrelAngle:n.tank_barrel_angle,isPrcision:t===se.Prcision,playerId:ie.instance.selfPlayerId,skin:a.dis+"|"+(n.isDoubleBullet?"true":"false")});case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.FireTween=function(e,t,n){var i=this.playerInstanceMap.get(e);i&&i.fireTween(t,n)},s.ready=function(e){var t=this;K.Is_Guide||(this.leftJoystick.node.active=this.rightJoystick.node.active=!1),K.Is_Guide||this.closeMultiScoreRank(),this.node.getChildByName("map").getComponent(Z).setMapSP(),1===F.bgType?w("UI2DCamera").getComponent(R).clearColor=new E("#41992c"):2===F.bgType?(this.mapContent.parent.getChildByName("Cactus").active=!0,w("UI2DCamera").getComponent(R).clearColor=new E("#ffcd7d")):3===F.bgType&&(w("UI2DCamera").getComponent(R).clearColor=new E("#278bb3"));for(var n=[],i=function(e){var i=new Promise((function(n){var i=t._follow_camera_list[e].getComponent(R),a=i.orthoHeight;B(i).to(0,{orthoHeight:1500},{easing:"fade"}).delay(1).to(1,{orthoHeight:a},{easing:"fade"}).call(n).start()}));n.push(i)},a=0;a<this._follow_camera_list.length;a++)i(a);var o=$.getRandomBySeed(e,1,5);console.log(o,">>>>>>>>>>>>>>mapIndex<<<<<<<<<<<<<<"),o=2,K.Is_Guide&&(o=0),Promise.all(n.concat(this.loadMapConfig(o))).then((function(){t.node.getChildByName("ReadyGo").active=!1,H.instance.sendOK(),V.instance.playBGM(),K.Is_Guide?(de.instance.isPlayReadyGo=!0,t.node.getChildByName("ReadyGo").active=!1):(t.node.getChildByName("closeBtn").active=!0,t.node.getChildByName("emojiContent").active=!0),K.Is_Guide||(t.MultiScoreRank.active=!0,t.node.getChildByName("ping").active=!0)}))},s.playReadyGoAni=function(){var e=this,t=this.node.getChildByName("ReadyGo").getChildByName("READY"),n=this.node.getChildByName("ReadyGo").getChildByName("go");t.setPosition(0,800,0),n.setPosition(0,0,0);new Promise((function(i){V.instance.playSound(Y.ReadyGo,.7),e.node.getChildByName("ReadyGo").active=!0,n.active=!1,t.active=!0,B(t).to(.4,{position:b()},{easing:"fade"}).delay(.6).call((function(){B(t).to(.4,{position:b(0,-800,0)},{easing:"fade"}).start(),n.setPosition(b(0,800,0)),n.active=!0,B(n).to(.4,{position:b(0,0,0)},{easing:"fade"}).delay(.5).call((function(){de.instance.isPlayReadyGo=!0,e.node.getChildByName("ReadyGo").active=!1,K.Is_Guide||(e.leftJoystick.node.active=e.rightJoystick.node.active=!0)})).start()})).start()}))},s.loadMapConfig=function(e){var t=this;return new Promise((function(n){G.load("mapConfig/tankMap"+e,D,(function(e,i){ie.instance.createMap(i.json);for(var a=0;a<ie.instance.system.obstacles.length;a++){var o=ie.instance.system.obstacles[a];t.map.gridNodeList[o.grid.x][o.grid.y].getComponent(j).id=o.id,t.map.gridNodeList[o.grid.x][o.grid.y].getComponent(j).init(o.type),t.map.obstacleNodeMap.set(o.id,t.map.gridNodeList[o.grid.x][o.grid.y].getComponent(j))}for(var r=0;r<ie.instance.system.grasss.length;r++){var s=ie.instance.system.grasss[r];t.map.gridNodeList[s.grid.x][s.grid.y].getComponent(j).id=s.id,t.map.gridNodeList[s.grid.x][s.grid.y].getComponent(j).init(s.type),t.map.grassNodeList.push(t.map.gridNodeList[s.grid.x][s.grid.y].getComponent(j))}t.map.resetItemParent(),t._updateObstacles(),t._updateGrass(),n()}))}))},s.createExplode=function(e){var t=this,n=this.tankExplodeNodePool.get();n||(n=C(this.tank_explode_prefab)),n.layer=v.Enum.UI_3D,n.walk((function(e){e.layer=v.Enum.UI_3D})),this.mapContent.addChild(n),n.setPosition(e),n.children[1].getComponent(S).resetSystem(),n.children[0].getComponent(S).resetSystem(),n.children[1].getComponent(S).scheduleOnce((function(){n.children[1].getComponent(S).stopSystem(),n.children[0].getComponent(S).stopSystem(),t.tankExplodeNodePool.put(n)}),1)},s.playerTankExplode=function(e,t){var n=this.playerInstanceMap.get(t);if(this.IsInView(n.node.worldPosition.clone())){if(e===ie.instance.selfPlayerId&&n){for(var i=0;i<this._follow_camera_list.length;i++)this._follow_camera_list[i].shakeEffect(.2);ee.vibrate(.2)}this.createExplode(n.node.position.clone()),V.instance.playSound(Y.BaseBoom)}},s.createMuzzleFlame=function(e,t){var n=this,i=this.muzzleFlameNodePool.get();i||(i=C(this.muzzle_flame_prefab)),i.angle=t,i.layer=v.Enum.UI_3D,this.mapContent.addChild(i),i.setPosition(e),i.getComponent(S).resetSystem(),i.getComponent(S).scheduleOnce((function(){i.getComponent(S).stopSystem(),n.muzzleFlameNodePool.put(i)}),1)},s.playerBeHit=function(e){var t=this.playerInstanceMap.get(e);t&&(t.getComponent(ce).flashWhite(),V.instance.playSound(Y.ArmoEffect,.7))},s.wallBeHit=function(e,t,n){void 0===n&&(n=!1);var i=this.map.obstacleNodeMap.get(e);if(i){if(t){var a=ie.instance.system.obstacles.find((function(e){return e.id===i.id}));a&&i.updaState(a)}else{var o=C(this.obsExplode);o.getComponent(ae).setSprite(i.type),o.layer=v.Enum.UI_3D,o.walk((function(e){e.layer=v.Enum.UI_3D})),o.setPosition(i.node.position),this.mapContent.addChild(o),o.children[0].getComponent(S).resetSystem(),o.children[1].getComponent(S).resetSystem(),this.IsInView(i.node.worldPosition.clone())&&(i.type===X.WoodWall?V.instance.playSound(Y.WoodBoom,.1):i.type===X.IronWall&&V.instance.playSound(Y.RockBoom)),i.node.active=!1,i.obstacle1.active=i.obstacle2.active=!1,this.map.obstacleNodeMap.delete(e)}n&&(i.flashWhite(),V.instance.playSound(Y.ArmoEffect,.7))}},s.cameraTweenToBase=function(){},s.cameraTweenToProp=function(){var e=r(regeneratorRuntime.mark((function e(t,n){var i,a,o,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.delay(.5);case 2:if(0!==this.playerInstanceMap.size){e.next=4;break}return e.abrupt("return");case 4:[],a=new d,this.mapContent.addChild(a),a.setPosition(b(1254,1254,0)),o=a.worldPosition.clone(),i=this.cameraTween(o),Promise.all(i).then((function(){r.scheduleOnce((function(){for(var e=0;e<r._follow_camera_list.length;e++)r._follow_camera_list[e].isTweenMove=!1;a.destroy(),t.call(n)}),1)}));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.cameraTweenToGuideAITank=function(){var e=r(regeneratorRuntime.mark((function e(){var t,n,i,a,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.playerInstanceMap.size){e.next=2;break}return e.abrupt("return");case 2:if(ie.instance.system.aiPlayers.length){e.next=4;break}return e.abrupt("return");case 4:return t=ie.instance.system.aiPlayers[0],n=new d,this.mapContent.addChild(n),n.setPosition(b(t.pos.x,t.pos.y,0)),i=n.worldPosition.clone(),[],a=this.cameraTween(i),e.next=13,Promise.all(a);case 13:return(o=this.playerInstanceMap.get(t.id))&&o.outLine(),e.next=17,ee.delay(1);case 17:for(r=0;r<this._follow_camera_list.length;r++)this._follow_camera_list[r].isTweenMove=!1;n.destroy();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.cameraTween=function(e){var t=e.clone().subtract(this._follow_camera_list[0].node.position).length()/1300,n=[];console.log("cameraTween,++++++");for(var i=0;i<this._follow_camera_list.length;i++)n.push(this._follow_camera_list[i].tweenMove(e,t,!1));return n},s.onGameOver=function(){W.instance.emit(J.STOP_GAME_TIME_COUNT_DOWN),this.leftJoystick.node.active=this.rightJoystick.node.active=!1,this.node.getChildByName("ReadyGo").active=!1,this.reliveTimeDown.active=!1,this.IceSmokeNode.active=!1},s.onKeyDown=function(e){switch(e.keyCode){case A.ARROW_LEFT:for(var t=0;t<this._follow_camera_list.length;t++)this._follow_camera_list[t].LeftMove();break;case A.ARROW_RIGHT:for(var n=0;n<this._follow_camera_list.length;n++)this._follow_camera_list[n].RightMove();break;case A.ARROW_UP:for(var i=0;i<this._follow_camera_list.length;i++)this._follow_camera_list[i].UpMove();break;case A.ARROW_DOWN:for(var a=0;a<this._follow_camera_list.length;a++)this._follow_camera_list[a].DownMove()}},t}(x)).instance=null,Ue=t((Fe=dt).prototype,"playerTankPrefab",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Fe.prototype,"mapContent",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Fe.prototype,"map_tank_layer",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Fe.prototype,"map_bullet_layer",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Fe.prototype,"map",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Fe.prototype,"leftJoystick",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Fe.prototype,"rightJoystick",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Fe.prototype,"bulletPrefab",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Fe.prototype,"reliveTimeDown",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Fe.prototype,"propPrefab",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Fe.prototype,"tank_explode_prefab",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Fe.prototype,"base_explode_prefab",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Fe.prototype,"muzzle_flame_prefab",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Fe.prototype,"get_star_particle_prefab",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Fe.prototype,"get_other_particle_prefab",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Fe.prototype,"obsExplode",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Fe.prototype,"IceSmokeNode",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Fe.prototype,"readyGoClip",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Fe.prototype,"MultiScoreRank",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Fe.prototype,"multiple_score_item",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Fe.prototype,"upArrowSpriteFrame",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Fe.prototype,"downArrowSpriteFrame",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Fe.prototype,"doubleScoreNode",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(Fe.prototype,"tripleScoreNode",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=Fe))||ze));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameMapUI.ts","./OBB.ts","./Utils.ts","./Vector2.ts","./GameSystem.ts","./GameState.ts","./proto.mjs_cjs=&original=.js","./SocketManager.ts","./MXBattle.ts","./GuideManager.ts","./proto.js"],(function(t){"use strict";var e,s,a,i,n,r,o,u,l,h,p,m,c,y,g,f,S,d,I,v,P;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,s=t.extends,a=t.createClass,i=t.asyncToGenerator},function(t){n=t.cclegacy,r=t.v2},function(t){o=t.GameConfig},function(t){u=t.mapTableData,l=t.MapItemType,h=t.MapItemConfigMap,p=t.mapItemTypeMap,m=t.GridType},function(t){c=t.OBB},function(t){y=t.default},function(t){g=t.Vector2},function(t){f=t.GameSystem},function(t){S=t.GameStatus},null,function(t){d=t.default},function(t){I=t.mxBattle},function(t){v=t.GuideManager},function(t){P=t.default}],execute:function(){n._RF.push({},"51f97xxVXpEK48FvQIjyu4P","GameManager",void 0),t("GameManager",function(){function t(){this.gameSystem=null,this.selfPlayerIndex=0,this.lastServerState=null,this.lastRecvSetverStateTime=0,this.selfPlayerId="",this.lastSN=0,this.pendingInputMsgs=[],this.gameStatus=null,this._obstacleId=0,this.frameList=[],this.upLoadframeInputArrs=[],this.clientFrameRate=3,this.scoreMap=new Map,this.isShootIng=!1,this.selfShootSn=0,this.gameSystem=new f(this),this.lastServerState=this.gameSystem.state}var n=t.prototype;return n.init=function(){this.gameSystem.init(),this.scoreMap.clear(),this.selfPlayerIndex=0,this.lastRecvSetverStateTime=0,this.lastSN=0,this.pendingInputMsgs.length=0,this.gameStatus=null,this._obstacleId=0,this.lastServerState=this.gameSystem.state,this.frameList.length=0,this.upLoadframeInputArrs.length=0,this.isShootIng=!1},n.join=function(){var t=i(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n._onServerSync=function(t){var a,i=this;if(null!==this.gameStatus&&this.gameStatus!==S.Over){this.gameSystem.reset(this.lastServerState);for(var n,r=e(t.inputs);!(n=r()).done;){var o=n.value;this.gameSystem.applyInput(o)}this.lastServerState=y.merge({},this.gameSystem.state),this.lastRecvSetverStateTime=Date.now();var u=null!=(a=t.lastSnList[this.selfPlayerIndex])?a:-1;if(u>this.selfShootSn){this.isShootIng&&(this.isShootIng=!1);var l=this.system.state.players.find((function(t){return t.id===i.selfPlayerId}));l&&l.isPrcisionIng&&(l.isPrcisionIng=!1)}y.remove(this.pendingInputMsgs,(function(t){return t.sn<=u})),this.pendingInputMsgs.forEach((function(t){i.gameSystem.applyInput(s({},t.input,{playerId:i.selfPlayerId}))}))}},n.sendClientInput=function(t){if(this.selfPlayerId&&this.gameStatus===S.Ing){var e={sn:++this.lastSN,input:t};if(t.type!==P.GameSystemInput.INPUT_TYPE.PLAYER_MOVE&&t.type!==P.GameSystemInput.INPUT_TYPE.BARREL_ROTATE||(this.gameSystem.applyInput(s({},t,{playerId:this.selfPlayerId})),this.pendingInputMsgs.push(e),this.upLoadframeInputArrs.push(e)),t.type===P.GameSystemInput.INPUT_TYPE.PLAYER_SHOOT){var a=this.upLoadframeInputArrs;this.upLoadframeInputArrs=[],d.instance.sendFrameData(a),d.instance.sendShootFrameData([e])}}},n.localTimePast=function(){this.gameSystem.applyInput({type:P.GameSystemInput.INPUT_TYPE.LOCAL_TIME_PAST,dt:Date.now()-this.lastRecvSetverStateTime}),this.lastRecvSetverStateTime=Date.now()},n.createMap=function(t){u.length=0;for(var e=0;e<19;e++){for(var s=[],a=0;a<19;a++)s.push({isObs:0,obsType:null});u.push(s)}for(var i in this.system.walls.push(this.createWall({x:1254,y:2758},0)),this.system.walls.push(this.createWall({x:1254,y:-250},0)),this.system.walls.push(this.createWall({x:-250,y:1350},-90)),this.system.walls.push(this.createWall({x:2758,y:1350},90)),I.Is_Guide?v.instance.Prop_Land.active=!1:(this.createMapItem(r(7,11),l.centerBase),v.instance.Prop_Land.active=!0),t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i].split(",");this.createMapItem(r(Number(n[0]),Number(n[1])),Number(n[2]))}},n.createMapItem=function(t,e){for(var s=h.get(e).split("|"),a=0;a<s.length;a++){var i=s[a].split(","),n=t.x+Number(i[0]),r=t.y+Number(i[1]);if(e!==l.ai_born&&e!==l.player_born){var c={id:++this._obstacleId,pos:{x:o.GridSize*n+o.GridSize/2,y:o.GridSize*r+o.GridSize/2},width:o.GridSize,height:o.GridSize,AABBWidth:o.GridSize,AABBHeight:o.GridSize,type:p.get(e),mapItemType:e,isTrigger:!1,grid:{x:n,y:r},armo:0};p.get(e)===m.Grass?this.system.grasss.push(c):this.system.obstacles.push(c)}p.get(e)!==m.IronWall&&p.get(e)!==m.WoodWall&&p.get(e)!==m.River||(u[n][r].isObs=1,u[n][r].obsType=p.get(e)),p.get(e)===m.AI_Born&&this.system.aiTankBornPosList.push(new g(n,r)),p.get(e)===m.Player_Born&&this.system.playerTankBornPosList.push(new g(n,r))}},n.createWall=function(t,e){return{pos:t,width:3e3,height:500,angle:e,OBB:new c(new g(t.x,t.y),3e3,500,e)}},a(t,[{key:"state",get:function(){return this.gameSystem.state}},{key:"system",get:function(){return this.gameSystem}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameMapUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./Grid.ts"],(function(e){"use strict";var t,r,i,a,n,o,l,s,g,p,b,u,c,d,h,m,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.asyncToGenerator},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,g=e.Prefab,p=e.Sprite,b=e.resources,u=e.SpriteFrame,c=e.instantiate,d=e.v3,h=e.UITransform,m=e.Component},function(e){f=e.GameConfig},function(e){y=e.Grid}],execute:function(){var w,v,_,S,L,k,C,B,I,P,G,W,F,R,M,T,N,z,j,U,x,D,A,E,H,Z,q;e({GridType:void 0,Layer:void 0,LayerEnum:void 0,MapItemType:void 0}),o._RF.push({},"e8b8eyvaHpLy6paCGpeZ0D2","GameMapUI",void 0);var J,K,O,Q,V=l.ccclass,X=l.property;e("mapTableData",[]),e("mapTableData2",[]);!function(e){e[e.wall0=0]="wall0",e[e.wall1=1]="wall1",e[e.wall2=2]="wall2",e[e.wall3=3]="wall3",e[e.wall4=4]="wall4",e[e.wall5=5]="wall5",e[e.wall6=6]="wall6",e[e.grass=7]="grass",e[e.river=8]="river",e[e.ai_born=9]="ai_born",e[e.wall10=10]="wall10",e[e.wall11=11]="wall11",e[e.singleGrass=12]="singleGrass",e[e.player_born=13]="player_born",e[e.centerBase=-3]="centerBase"}(J||(J=e("MapItemType",{}))),function(e){e[e.WoodWall=100]="WoodWall",e[e.IronWall=101]="IronWall",e[e.Grass=102]="Grass",e[e.River=103]="River",e[e.AI_Born=104]="AI_Born",e[e.Player_Born=105]="Player_Born"}(K||(K=e("GridType",{}))),function(e){e[e.TopUI=1]="TopUI",e[e.ModelUp=2]="ModelUp",e[e.Map=4]="Map",e[e.Perspective=8]="Perspective"}(O||(O=e("Layer",{}))),function(e){e[e.wall=0]="wall",e[e.river=1]="river",e[e.grass=2]="grass"}(Q||(Q=e("LayerEnum",{})));e("mapItemTypeMap",new Map([[J.wall0,K.WoodWall],[J.wall1,K.WoodWall],[J.wall2,K.WoodWall],[J.wall3,K.IronWall],[J.wall4,K.IronWall],[J.wall5,K.IronWall],[J.wall6,K.IronWall],[J.grass,K.Grass],[J.river,K.River],[J.ai_born,K.AI_Born],[J.player_born,K.Player_Born],[J.wall10,K.WoodWall],[J.wall11,K.IronWall],[J.singleGrass,K.Grass],[J.centerBase,K.WoodWall]])),e("mapItemLayerMap",new Map([[K.WoodWall,Q.wall],[K.IronWall,Q.wall],[K.Grass,Q.grass],[K.River,Q.river]])),e("MapItemConfigMap",new Map([[J.wall0,"1,0|0,0|1,-1|0,-1|1,-2|0,-2"],[J.wall1,"1,0|0,0|1,-1|0,-1"],[J.wall2,"2,0|1,0|0,0|2,-1|1,-1|0,-1"],[J.wall3,"0,0|0,-1"],[J.wall4,"1,0|0,0"],[J.wall5,"0,0|0,-1|0,-2"],[J.wall6,"2,0|1,0|0,0"],[J.grass,"0,0|1,0|0,-1|1,-1"],[J.river,"0,0"],[J.ai_born,"0,0"],[J.wall10,"0,0"],[J.wall11,"0,0"],[J.singleGrass,"0,0"],[J.player_born,"0,0"],[J.centerBase,"4,0|3,0|2,0|1,0|0,0|0,-1|4,-1|4,-2|4,-3|0,-2|0,-3|4,-4|3,-4|2,-4|1,-4|0,-4"]]));var Y=e("BgResConfig",{1:{bg1Res:"bgSkin/bg/01Background1",bg2Res:"bgSkin/bg/01Background2",bg3Res:"bgSkin/bg/01Background3",beij:"bgSkin/bg/01Background_shadow",ground:"bgSkin/ground/ground l",stan:"bgSkin/stan/1stan"},2:{bg1Res:"bgSkin/bg/02Background1",bg2Res:"bgSkin/bg/02Background2",bg3Res:"bgSkin/bg/02Background3",beij:"bgSkin/bg/02Background_shadow",ground:"bgSkin/ground/ground h",stan:"bgSkin/stan/2stan"},3:{bg1Res:"bgSkin/bg/03Background1",bg2Res:"bgSkin/bg/03Background2",bg3Res:"bgSkin/bg/03Background3",beij:"bgSkin/bg/03Background_shadow",ground:"bgSkin/ground/ground",stan:"bgSkin/stan/3stan"}});e("GameMapUI",(w=V("GameMapUI"),v=X(s),_=X(g),S=X(s),L=X(s),k=X(s),C=X(s),B=X(s),I=X(p),P=X(p),G=X(p),W=X(p),F=X(s),w((T=t((M=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"content",T,a(t)),i(t,"gridPrefab",N,a(t)),i(t,"riverLayer",z,a(t)),i(t,"tank_layer",j,a(t)),i(t,"under_tank_layer",U,a(t)),i(t,"upside_tank_layer",x,a(t)),i(t,"groundLayer",D,a(t)),i(t,"bg1Sprite",A,a(t)),i(t,"bg2Sprite",E,a(t)),i(t,"bg3Sprite",H,a(t)),i(t,"beijSprite",Z,a(t)),i(t,"stan",q,a(t)),t.gridNodeList=[],t.obstacle1List=[],t.obstacle2List=[],t.obstacleNodeMap=new Map,t.grassNodeList=[],t._totalGridCount=360,t}r(t,e);var o=t.prototype;return o.loadSpriteFrame=function(e){return new Promise((function(t){b.load(e,u,(function(e,r){t(r)}))}))},o.onLoad=function(){this.node.getChildByName("bg1_edge_map").active=!1;for(var e=0;e<19;e++){for(var t=[],r=[],i=[],a=0;a<19;a++){var n=c(this.gridPrefab);n.setPosition(d(132*e+n.getComponent(h).width/2,132*a+n.getComponent(h).width/2)),t.push(n);var o=n.getChildByName("obstacle1"),l=n.getChildByName("obstacle2");o.setParent(this.upside_tank_layer),l.setParent(this.under_tank_layer),o.setPosition(d(132*e+n.getComponent(h).width/2,132*a+n.getComponent(h).width/2)),l.setPosition(d(132*e+n.getComponent(h).width/2,132*a+n.getComponent(h).width/2)),r.push(o),i.push(l),o.active=l.active=!1}this.gridNodeList.push(t),this.obstacle1List.push(r),this.obstacle2List.push(i)}},o.start=function(){for(var e=0;e<this.obstacle1List.length;e++)for(var t=this._totalGridCount-19*e,r=0;r<this.obstacle1List[e].length;r++)this.obstacle1List[r][e].setSiblingIndex(t),t--;for(var i=0;i<this.obstacle2List.length;i++)for(var a=this._totalGridCount-19*i,n=0;n<this.obstacle2List[i].length;n++)this.obstacle2List[n][i].setSiblingIndex(a),a--},o.setMapSP=function(){var e=n(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this.loadSpriteFrame(Y[f.bgType].bg1Res+"/spriteFrame"),this.loadSpriteFrame(Y[f.bgType].bg2Res+"/spriteFrame"),this.loadSpriteFrame(Y[f.bgType].bg3Res+"/spriteFrame"),this.loadSpriteFrame(Y[f.bgType].beij+"/spriteFrame"),this.loadSpriteFrame(Y[f.bgType].stan+"/spriteFrame"),this.loadSpriteFrame(Y[f.bgType].ground+"/spriteFrame")],e.next=3,Promise.all(t);case 3:r=e.sent,this.bg1Sprite.spriteFrame=r[0],this.bg2Sprite.spriteFrame=r[1],this.bg3Sprite.spriteFrame=r[2],this.beijSprite.spriteFrame=r[3],this.stan.getComponent(p).spriteFrame=r[4],this.node.getChildByName("bg1_edge_map").active=!1,this.node.getChildByName("Cactus").active=!1,1===f.bgType?(this.node.getChildByName("bg1_edge_map").active=!0,this.beijSprite.node.setPosition(d(250,668)),this.stan.setPosition(d(1210,810))):2===f.bgType?(this.node.getChildByName("Cactus").active=!0,this.beijSprite.node.setPosition(d(0,741)),this.stan.setPosition(d(1210,810))):3===f.bgType&&(this.beijSprite.node.setPosition(d(294.924,804)),this.stan.setPosition(d(1210,824))),this.groundLayer.children.forEach((function(e){var t=e.getComponent(p);t&&(t.spriteFrame=r[5]),e.getComponent(h).width=e.getComponent(h).height=512}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.resetItemParent=function(){for(var e=0;e<this.gridNodeList.length;e++)for(var t=0;t<this.gridNodeList[e].length;t++)this.gridNodeList[e][t].getComponent(y).type===K.River&&this.gridNodeList[e][t].getComponent(y).obstacle1.setParent(this.riverLayer)},o.reset=function(){for(var e=0;e<this.obstacle1List.length;e++)for(var t=0;t<this.obstacle1List[e].length;t++)this.obstacle1List[e][t].setParent(this.upside_tank_layer);for(var r=0;r<this.obstacle2List.length;r++)for(var i=0;i<this.obstacle2List[r].length;i++)this.obstacle2List[r][i].setParent(this.under_tank_layer);for(var a=0;a<this.obstacle1List.length;a++)for(var n=this._totalGridCount-19*a,o=0;o<this.obstacle1List[a].length;o++)this.obstacle1List[o][a].setSiblingIndex(n),n--;for(var l=0;l<this.obstacle2List.length;l++)for(var s=this._totalGridCount-19*l,g=0;g<this.obstacle2List[l].length;g++)this.obstacle2List[g][l].setSiblingIndex(s),s--},t}(m)).prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(M.prototype,"gridPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(M.prototype,"riverLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"tank_layer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"under_tank_layer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"upside_tank_layer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"groundLayer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(M.prototype,"bg1Sprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"bg2Sprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(M.prototype,"bg3Sprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(M.prototype,"beijSprite",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(M.prototype,"stan",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=M))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformManager.ts","./SoundManager.ts","./UIManager.ts","./Utils.ts","./BaseUI.ts","./GameUI.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,u,p,l,c,m,f,d,y,w,h,g,b,S,v,_,F,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,u=e.Sprite,p=e.SpriteFrame,l=e.sp,c=e.Node,m=e.Tween,f=e.tween,d=e.v3,y=e.UIOpacity},function(e){w=e.default},function(e){h=e.SoundManager,g=e.AudioClipRes},function(e){b=e.default},function(e){S=e.default},function(e){v=e.EnShowPopType,_=e.EnHidePopType,F=e.BaseUI},function(e){U=e.GameUI}],execute:function(){var I,z,P,A,T,x,G,M,O,B,C,E,L,R,k,D,H,N,j,W;o._RF.push({},"024e1iX3zpF+7sE2BHSOhmg","GameOverUI",void 0);var X=s.ccclass,q=s.property;e("default",(I=X("GameOverUI"),z=q(u),P=q({type:p}),A=q(l.Skeleton),T=q(c),x=q(p),G=q(p),M=q(p),O=q(p),I(((W=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).m_ShowPopType=v.max,t.m_HidePopType=_.max,i(t,"numSprite",E,r(t)),i(t,"numSpriteFrameArr",L,r(t)),i(t,"spine",R,r(t)),i(t,"tween_node",k,r(t)),i(t,"stSpriteFrame",D,r(t)),i(t,"ndSpriteFrame",H,r(t)),i(t,"rdSpriteFrame",N,r(t)),i(t,"thSpriteFrame",j,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.tween_node.active=!1},o.OnMsg=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.tween_node.active=!0,h.instance.playSound(g.Win,.5),console.log(n,"++++++++++"),this.numSprite.spriteFrame=this.numSpriteFrameArr[n-1],b.instance.closeUI(U),h.instance.stopBGM(),h.instance.resetEffectAudioSource(),this.spine.clearTracks(),this.spine.setAnimation(0,"win",!1),this.tween_node.getComponent(y).opacity=0,f(this.tween_node.getComponent(y)).delay(.8).to(.5,{opacity:255}).start(),e.next=13,new Promise((function(e){r.spine.setCompleteListener((function(t){"win"===t.animation.name&&(r.tween_node.getComponent(y).opacity=255,e())}))}));case 13:return f(this.tween_node).to(.9,{position:d(0,3,0)}).to(1.2,{position:d(0,13,0)}).to(.9,{position:d(0,8,0)}).start(),this.spine.setAnimation(0,"win_idle",!1),i=new Promise((function(e){r.spine.setCompleteListener((function(t){"win_idle"===t.animation.name&&e()}))})),e.next=18,Promise.all([i,w.instance.postUserData()]);case 18:return e.sent,e.next=21,S.delay(1);case 21:w.instance.gameExit(),m.stopAllByTarget(this.tween_node);case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(F)).className="GameOverUI",E=t((C=W).prototype,"numSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(C.prototype,"numSpriteFrameArr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(C.prototype,"spine",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(C.prototype,"tween_node",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"stSpriteFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(C.prototype,"ndSpriteFrame",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(C.prototype,"rdSpriteFrame",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(C.prototype,"thSpriteFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=C))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameState.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r,o,n,a,i;e({GameStatus:void 0,GenerateType:void 0,PlayerTankColor:void 0,PropType:void 0,ShootType:void 0}),t._RF.push({},"33289mZeEBNxqkWrTlwsL1F","GameState",void 0),function(e){e[e.Normal=0]="Normal",e[e.Prcision=1]="Prcision"}(r||(r=e("ShootType",{}))),function(e){e[e.Clock=0]="Clock",e[e.Shield=1]="Shield",e[e.Star=2]="Star"}(o||(o=e("PropType",{}))),function(e){e[e.Neutral_Tank=0]="Neutral_Tank",e[e.Center=1]="Center"}(n||(n=e("GenerateType",{}))),function(e){e[e.Start=0]="Start",e[e.Ing=1]="Ing",e[e.Over=2]="Over"}(a||(a=e("GameStatus",{}))),function(e){e[e.Blue=0]="Blue",e[e.Red=1]="Red"}(i||(i=e("PlayerTankColor",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./ScreenObjConfig.ts","./MessageManager.ts","./GameMapUI.ts","./eMath.ts","./OBB.ts","./QuadTree.ts","./Utils.ts","./Vector2.ts","./CollisionManager.ts","./Bullet.ts","./GameManager.ts","./GameState.ts","./BaseTank.ts","./SoundManager.ts","./MXBattle.ts","./GuideManager.ts","./DataManager.ts","./proto.mjs_cjs=&original=.js","./SocketManager.ts","./aiPlayerAstar.ts","./proto.js"],(function(e){"use strict";var t,a,s,i,r,l,o,n,h,d,p,u,y,f,c,g,_,b,v,m,P,x,M,S,w,I,T,k,A,C,B,L,D,E,G,O,R,W;return{setters:[function(e){t=e.extends,a=e.createForOfIteratorHelperLoose,s=e.createClass},function(e){i=e.cclegacy},function(e){r=e.GameConfig},function(e){l=e.barrelScreenWorldPosConfig,o=e.BarrelAngleConvertFirePos,n=e.barrelWorldScreenPosConfig},function(e){h=e.default,d=e.EventType},function(e){p=e.mapTableData2,u=e.mapTableData,y=e.GridType},function(e){f=e.eMath},function(e){c=e.OBB,g=e.Circle},function(e){_=e.Quadtree},function(e){b=e.default,v=e.f_Math},function(e){m=e.Vector2},function(e){P=e.CollisionManager},function(e){x=e.BulletLevel},function(e){M=e.GameManager},function(e){S=e.PropType,w=e.PlayerTankColor,I=e.GameStatus,T=e.GenerateType},function(e){k=e.Status},function(e){A=e.SoundManager,C=e.AudioClipRes},function(e){B=e.mxBattle},function(e){L=e.GuideManager,D=e.GuideStep},function(e){E=e.default,G=e.PlayerInfo},null,function(e){O=e.default},function(e){R=e.aiPlayerAstar},function(e){W=e.default}],execute:function(){i._RF.push({},"6edc9kQkNBNP7/6D+X234bF","GameSystem",void 0);e("GameSystem",function(){function e(e){this.gameManager=null,this._state={now:0,players:[]},this.walls=[],this.secondBulletObj=new Map,this.bullets=[],this.obstacles=[],this.grasss=[],this.props=[],this.nextBulletId=1,this.nextPropId=1,this.nextAiTankId=1,this.lastCreatePropTime=0,this.lastCreateAiTime=0,this.tree=null,this.aStar=new R,this.aiTankBornPosList=[],this.playerTankBornPosList=[],this.aiPlayers=[],this._players=[],this._lastCountDownState=0,this.multipleScoreMap=new Map,this._tankPos=new m,this.gameManager=e;this.tree=new _({x:-1254,y:-1254,width:2508,height:2508})}var i=e.prototype;return i.reset=function(e){this._state=b.merge({},e)},i.init=function(){this._state={now:0,players:[]},this.obstacles.length=0,this.grasss.length=0,this.aiTankBornPosList.length=0,this.playerTankBornPosList.length=0,this.walls.length=0,this.bullets.length=0,this.props.length=0,this.nextBulletId=1,this.nextPropId=1,this.nextAiTankId=1,this.lastCreatePropTime=0,this.lastCreateAiTime=0,this.aiTankBornPosList.length=0,this.playerTankBornPosList.length=0,this.aiPlayers=[],this._lastCountDownState=0,this.secondBulletObj.clear(),this.multipleScoreMap.clear()},i.applyInput=function(e){var a=this;if(e.type===W.GameSystemInput.INPUT_TYPE.PLAYER_MOVE){var s=this._state.players.find((function(t){return t.id===e.playerId}));if(s){if(s.reliveEndTime&&s.reliveEndTime>this._state.now)return;s.pos.x=(Math.floor(1e3*s.pos.x)+Math.floor(Math.floor(1e3*e.dir.x)*Math.floor(e.dt)*Math.floor(1e3*s.speed)/1e6))/1e3,s.pos.y=(Math.floor(1e3*s.pos.y)+Math.floor(Math.floor(1e3*e.dir.y)*Math.floor(e.dt)*Math.floor(1e3*s.speed)/1e6))/1e3,this.tankObstacleCollision(s),s.tank_body_angle=f.atan2(e.dir.y,e.dir.x)-90,s.isPrcisionIng||(s.tank_barrel_angle=s.tank_body_angle)}}else if(e.type===W.GameSystemInput.INPUT_TYPE.BARREL_ROTATE){var i=this._state.players.find((function(t){return t.id===e.playerId}));if(i){if(i.reliveEndTime&&i.reliveEndTime>this._state.now)return;i.isPrcisionIng=!0,i.tank_barrel_angle=f.atan2(e.dir.y,e.dir.x)-90}}else if(e.type===W.GameSystemInput.INPUT_TYPE.PLAYER_SHOOT){var l=this._state.players.find((function(t){return t.id===e.playerId})),o=e.skin.split("|");if(l){var n={id:this.nextBulletId++,fromPlayerId:e.playerId,pos:{x:e.pos.x,y:e.pos.y},startPos:{x:e.pos.x,y:e.pos.y},moveDir:{x:Math.floor(e.dir.x)/1e3,y:Math.floor(e.dir.y)/1e3},width:r.bullet_width,height:r.bullet_height,AABBWidth:101,AABBHeight:101,level:l.bulletLevel,speed:1,effectiveTime:this.state.now+67,dis:Number(o[0])};this.bullets.push(n),h.instance.emit(d.FIRE_TWEEN,e.playerId,e.barrelAngle,e.isPrcision),"true"===o[1]?(this.secondBulletObj.delete(e.playerId),this.secondBulletObj.set(e.playerId,{time:this.state.now+150,playerId:l.id,bullet:{id:this.nextBulletId++,fromPlayerId:e.playerId,pos:{x:e.pos.x,y:e.pos.y},startPos:{x:e.pos.x,y:e.pos.y},moveDir:{x:Math.floor(e.dir.x)/1e3,y:Math.floor(e.dir.y)/1e3},width:r.bullet_width,height:r.bullet_height,AABBWidth:101,AABBHeight:101,level:l.bulletLevel,speed:1,effectiveTime:this.state.now+67,dis:Number(o[0])},barrelAngle:e.barrelAngle,isPrcision:e.isPrcision})):(e.isPrcision&&(l.isPrcisionIng=!1),e.playerId===this.gameManager.selfPlayerId&&(this.gameManager.isShootIng=!1))}}else if(e.type===W.GameSystemInput.INPUT_TYPE.PLAYER_JOIN){var p;E.instance.playerInfoMap.get(e.playerId)||E.instance.playerInfoMap.set(e.playerId,new G(e.playerId,"TestName","")),this.multipleScoreMap.set(e.playerId,0);for(var u={x:Math.floor(132*this.playerTankBornPosList[e.bornID].x+66),y:Math.floor(132*this.playerTankBornPosList[e.bornID].y+66)},y=0,c=0;c<e.playerId.length;c++)y+=e.playerId[c].charCodeAt(0);var g={id:e.playerId,pos:t({},u),tank_body_angle:0,tank_barrel_angle:0,initPos:t({},u),status:k.Normal,bulletLevel:x.Level1,shoot_interval_time:r.Normal_Shoot_Interval_Time,pickUpPropCountMap:(p={},p[S.Clock]=0,p[S.Shield]=0,p[S.Star]=0,p),isDoubleBullet:!1,armo:0,isPrcisionIng:!1,radius:r.tank_radius,speed:1,reliveTime:2e3,width:2*r.tank_radius,height:2*r.tank_radius,AABBWidth:2*r.tank_radius,AABBHeight:2*r.tank_radius,color:e.playerId===this.gameManager.selfPlayerId?w.Blue:w.Red,skin:""===e.skin?'{"T_1":"100001","T_2":"200003","T_3":[]}':e.skin,velocity:{x:0,y:0},isGrassTrigger:!1,lastFireTime:-1,lastAiPlayerChangeDirTime:-1,randomRotateBodyAngleTime:-1,lastFourDir:[],barrelId:200001,isAI:e.isAI,playerID_ASCII:y,kill_streak_count:0,aimTime:-1};g.barrelId=Number(JSON.parse(g.skin).T_2),e.isAI?this.aiPlayers.push(g):this.state.players.push(g),this.gameManager.gameStatus=I.Ing}else if(e.type===W.GameSystemInput.INPUT_TYPE.PLAYER_LEAVE)b.remove(this.state.players,(function(t){return t.id===e.playerId}));else if(e.type===W.GameSystemInput.INPUT_TYPE.LOCAL_TIME_PAST);else if(e.type===W.GameSystemInput.INPUT_TYPE.TIME_PAST){if(this._state.now+=Math.floor(e.dt),this._players=this.state.players.concat(this.aiPlayers),this.secondBulletObj.forEach((function(e,t){console.log("属性："+t+",值："+e),e.bullet.effectiveTime=a.state.now+134,a.bullets.push(e.bullet),e.isPrcision&&(a._players.find((function(t){return t.id===e.bullet.fromPlayerId})).isPrcisionIng=!1),e.bullet.fromPlayerId===a.gameManager.selfPlayerId&&(a.gameManager.isShootIng=!1),h.instance.emit(d.FIRE_TWEEN,e.bullet.fromPlayerId,e.barrelAngle,e.isPrcision),a.secondBulletObj.delete(t)})),this._state.now-this._lastCountDownState>=1e3&&!B.Is_Guide&&(h.instance.emit(d.GAME_TIME_COUNT_DOWN,this._state.now),this._lastCountDownState=this._state.now),f.setSeed(this.state.now),v.setRandSeed(this.state.now),this.state.now>=2e3&&(!B.Is_Guide||B.Is_Guide&&L.instance.currentGuideID!==D.ShowScoreRankUI&&L.instance.currentGuideID!==D.CreateAITank))for(var _=0;_<this.aiPlayers.length;_++)this._aiPlayerLogic(e,this.aiPlayers[_]);this.createRandomProp();for(var m=0;m<this._players.length;m++){var P=this._players[m];this.calPlayerTankStatus(P),this.playerTankPropCollision(P),P.isPrcisionIng||(P.tank_barrel_angle=P.tank_body_angle)}for(var M=0;M<4;M++)this.bulletLogic(e);h.instance.emit(d.UPDATE_FRAME_RENDER)}},i._aStar=function(e,t){var a=Math.round((e.pos.x-66)/132),s=Math.round((e.pos.y-66)/132);p.length=0;for(var i=0;i<u.length;i++){for(var r=[],l=0;l<u[i].length;l++){var o={isObs:u[i][l].isObs,obsType:u[i][l].obsType};o.obsType===y.WoodWall&&(o.isObs=0),o.obsType===y.IronWall&&e.bulletLevel===x.Level2&&(o.isObs=0),r.push(o)}p.push(r)}var n=new m(Math.round((t.pos.x-66)/132),Math.round((t.pos.y-66)/132)),h=this.aStar.findePaths(new m(a,s),n);if(h&&h[0]&&h[1]&&h[1][1]){if(h[1][1].x===n.x&&h[1][1].y===n.y)return void(e.aStar=null);console.log(h[1][1].x,h[1][1].y,"A星算法求出最优路线"),e.aStar={startPos:{x:e.pos.x,y:e.pos.y},nextPos:{x:132*h[1][1].x+66,y:132*h[1][1].y+66},lastAStarTime:this.state.now+3e3,targetId:t.id};var d=new m(132*h[1][1].x+66,132*h[1][1].y+66).subtractSelf(new m(e.pos.x,e.pos.y)).normalizeSelf().multiplyScalarSelf(300);e.velocity={x:d.x,y:d.y},e.tank_barrel_angle=e.tank_body_angle=f.atan2(d.y,d.x)-90,this.aiPlayerFire(e,!0)}},i._aiPlayerLogic=function(e,t){if(t.status!==k.Dead){if(this._tankPos.set(t.pos.x,t.pos.y),t.aStar&&t.aStar.targetId&&""!==t.aStar.targetId){if(null!==t.aStar.nextPos)return void this._aiTankMove(t,e,this._tankPos);var a=this._players.find((function(e){return e.id===t.aStar.targetId}));if(a.status===k.Normal){var s=this._calTankBarrelAngle(t,a);if(s)t.tank_barrel_angle=s.angle,Math.floor(Math.sqrt(Math.pow(Math.floor(1e3*a.pos.x)-Math.floor(1e3*t.pos.x),2)+Math.pow(Math.floor(1e3*a.pos.y)-Math.floor(1e3*t.pos.y),2)))/1e3>=250&&(t.tank_body_angle=t.tank_barrel_angle,t.velocity={x:s.vec2.x,y:s.vec2.y});for(var i=new m(t.velocity.x,t.velocity.y).normalizeSelf().multiplyScalarSelf(200).addSelf(this._tankPos),l=!1,o=new c(new m((Math.floor(1e3*this._tankPos.x)+Math.floor(1e3*i.x))/2e3,(Math.floor(1e3*this._tankPos.y)+Math.floor(1e3*i.y))/2e3),2*t.radius,300,t.tank_barrel_angle),n=0;n<this.obstacles.length;n++)if(this.obstacles[n].type===y.River||this.obstacles[n].type===y.IronWall&&t.bulletLevel===x.Level1){var h=new c(new m(this.obstacles[n].pos.x,this.obstacles[n].pos.y),r.GridSize,r.GridSize,0);if(P.instance.rectTrigger(o,h)){l=!0;break}}return void(l?(this._aStar(t,a),this._aiTankMove(t,e,this._tankPos)):(this._aiTankMove(t,e,this._tankPos),this.aiPlayerFire(t,!0)))}t.aStar.targetId=null,t.aStar=null}var d=this._getClosestPlayerTank(t,700);if(d){t.aStar&&(t.aStar.targetId=null,t.aStar.targetPos=null,t.aStar=null);var p=this._calTankBarrelAngle(t,d);if(p)t.tank_barrel_angle=p.angle,Math.floor(Math.sqrt(Math.pow(Math.floor(1e3*d.pos.x)-Math.floor(1e3*t.pos.x),2)+Math.pow(Math.floor(1e3*d.pos.y)-Math.floor(1e3*t.pos.y),2)))/1e3>=250&&(t.tank_body_angle=t.tank_barrel_angle,t.velocity={x:p.vec2.x,y:p.vec2.y});for(var u=new m(t.velocity.x,t.velocity.y).normalizeSelf().multiplyScalarSelf(200).addSelf(this._tankPos),g=!1,_=new c(new m((Math.floor(1e3*this._tankPos.x)+Math.floor(1e3*u.x))/2e3,(Math.floor(1e3*this._tankPos.y)+Math.floor(1e3*u.y))/2e3),2*t.radius,300,t.tank_barrel_angle),v=0;v<this.obstacles.length;v++)if(this.obstacles[v].type===y.River||this.obstacles[v].type===y.IronWall&&t.bulletLevel===x.Level1){var M=new c(new m(this.obstacles[v].pos.x,this.obstacles[v].pos.y),r.GridSize,r.GridSize,0);if(P.instance.rectTrigger(_,M)){g=!0;break}}g?this._aStar(t,d):this.aiPlayerFire(t,!0)}else if(t.aimTime=-1,t.aStar&&t.aStar.targetPos)t.aStar.nextPos||this._aiAstarToCenter(t);else{for(var S=!1,w=new m(t.velocity.x,t.velocity.y).normalizeSelf().multiplyScalarSelf(200).addSelf(this._tankPos),I=0;I<this.obstacles.length;I++){var T=(Math.floor(1e3*this.obstacles[I].pos.x)-Math.floor(this.obstacles[I].width/2*1e3))/1e3,A=(Math.floor(1e3*this.obstacles[I].pos.y)+Math.floor(this.obstacles[I].height/2*1e3))/1e3,C=(Math.floor(1e3*this.obstacles[I].pos.x)+Math.floor(this.obstacles[I].width/2*1e3))/1e3,B=(Math.floor(1e3*this.obstacles[I].pos.y)-Math.floor(this.obstacles[I].height/2*1e3))/1e3;(this.obstacles[I].type===y.River||this.obstacles[I].type===y.IronWall&&t.bulletLevel===x.Level1)&&b.isLineIntersectRectangle(this._tankPos,w,T,A,C,B)&&(S=!0)}for(var L,D,E,G=0,O=0;O<this.walls.length;O++)if(0===this.walls[O].angle?(L=(Math.floor(1e3*this.walls[O].pos.x)-Math.floor(this.walls[O].width/2*1e3))/1e3,D=(Math.floor(1e3*this.walls[O].pos.y)+Math.floor(this.walls[O].height/2*1e3))/1e3,E=(Math.floor(1e3*this.walls[O].pos.x)+Math.floor(this.walls[O].width/2*1e3))/1e3,G=(Math.floor(1e3*this.walls[O].pos.y)-Math.floor(this.walls[O].height/2*1e3))/1e3):(L=(Math.floor(1e3*this.walls[O].pos.x)-Math.floor(this.walls[O].height/2*1e3))/1e3,D=(Math.floor(1e3*this.walls[O].pos.y)+Math.floor(this.walls[O].width/2*1e3))/1e3,E=(Math.floor(1e3*this.walls[O].pos.x)+Math.floor(this.walls[O].height/2*1e3))/1e3,G=(Math.floor(1e3*this.walls[O].pos.y)-Math.floor(this.walls[O].width/2*1e3))/1e3),b.isLineIntersectRectangle(this._tankPos,w,L,D,E,G)){S=!0;break}S&&(t.lastAiPlayerChangeDirTime=-1),Math.floor(1e3*f.randomBySeed(f.getRandomSeed()+t.playerID_ASCII))>500?this.aiPlayerRandomMove(t):this._aiAstarToCenter(t)}this._aiTankMove(t,e,this._tankPos)}},i._aiTankMove=function(e,t,a){if(e.pos.x=(Math.floor(1e3*e.pos.x)+Math.floor(Math.floor(1e3*e.velocity.x)*Math.floor(t.dt)*Math.floor(1e3*e.speed)/1e6))/1e3,e.pos.y=(Math.floor(1e3*e.pos.y)+Math.floor(Math.floor(1e3*e.velocity.y)*Math.floor(t.dt)*Math.floor(1e3*e.speed)/1e6))/1e3,this.tankObstacleCollision(e),e.aStar&&e.aStar.nextPos){var s=new m(e.aStar.startPos.x,e.aStar.startPos.y);new m(e.pos.x,e.pos.y).subtractSelf(s).lengthSqr()>=new m(e.aStar.nextPos.x,e.aStar.nextPos.y).subtractSelf(s).lengthSqr()&&(e.aStar.startPos=null,e.aStar.nextPos=null),e.aStar.lastAStarTime<=this.state.now&&(e.aStar.startPos=null,e.aStar.nextPos=null)}if(e.lastFireTime+1e3<=this.state.now){for(var i=!1,r=new m(e.velocity.x,e.velocity.y).normalizeSelf().multiplyScalarSelf(300).addSelf(a),l=0;l<this.obstacles.length;l++){var o=(Math.floor(1e3*this.obstacles[l].pos.x)-Math.floor(this.obstacles[l].width/2*1e3))/1e3,n=(Math.floor(1e3*this.obstacles[l].pos.y)+Math.floor(this.obstacles[l].height/2*1e3))/1e3,h=(Math.floor(1e3*this.obstacles[l].pos.x)+Math.floor(this.obstacles[l].width/2*1e3))/1e3,d=(Math.floor(1e3*this.obstacles[l].pos.y)-Math.floor(this.obstacles[l].height/2*1e3))/1e3;(this.obstacles[l].type===y.WoodWall||this.obstacles[l].type===y.IronWall&&e.bulletLevel===x.Level2)&&b.isLineIntersectRectangle(a,r,o,n,h,d)&&(i=!0)}i&&(this.aiPlayerFire(e,!1),console.log("@#@#@#@#@#@#"))}},i._getAStar=function(e,t,a,s){var i=this.aStar.findePaths(new m(a,s),t);if(i&&i[0]&&i[1]&&i[1][1]){e.aStar={startPos:{x:e.pos.x,y:e.pos.y},nextPos:{x:132*i[1][1].x+66,y:132*i[1][1].y+66},lastAStarTime:this.state.now+2e3,targetPos:{x:t.x,y:t.y}};var r=new m(132*i[1][1].x+66,132*i[1][1].y+66).subtractSelf(new m(e.pos.x,e.pos.y)).normalizeSelf().multiplyScalarSelf(300);return e.velocity={x:r.x,y:r.y},e.tank_barrel_angle=e.tank_body_angle=f.atan2(r.y,r.x)-90,i[1][1].x===t.x&&i[1][1].y===t.y&&(e.aStar.targetPos=null),!0}return!1},i._aiAstarToCenter=function(e){var t=Math.round((e.pos.x-66)/132),a=Math.round((e.pos.y-66)/132);p.length=0;for(var s=0;s<u.length;s++){for(var i=[],r=0;r<u[s].length;r++){var l={isObs:u[s][r].isObs,obsType:u[s][r].obsType};l.obsType===y.WoodWall&&(l.isObs=0),l.obsType===y.IronWall&&e.bulletLevel===x.Level2&&(l.isObs=0),i.push(l)}p.push(i)}var o=new m(9,9);return this._getAStar(e,o,t,a)},i.aiPlayerFire=function(e,t){if(e.lastFireTime+1e3<=this.state.now)if(t||(e.aimTime=this.state.now-1e3),-1===e.aimTime)e.aimTime=this.state.now+500;else if(this.state.now-e.aimTime>=500){var a=l[e.tank_barrel_angle],s=new m(0,1);s.rotate(a);var i=o[e.barrelId][e.tank_barrel_angle],n=0;200001===e.barrelId?n=480:200002===e.barrelId?n=490:200003===e.barrelId&&(n=480),e.lastFireTime=this.state.now;var p={id:this.nextBulletId++,fromPlayerId:e.id,pos:{x:f.add(e.pos.x,i.x),y:f.add(e.pos.y,i.y)},startPos:{x:f.add(e.pos.x,i.x),y:f.add(e.pos.y,i.y)},moveDir:{x:s.x,y:s.y},width:r.bullet_width,height:r.bullet_height,AABBWidth:101,AABBHeight:101,level:e.bulletLevel,speed:1,effectiveTime:this.state.now+67,dis:n};this.bullets.push(p),h.instance.emit(d.FIRE_TWEEN,e.id,e.tank_barrel_angle,!0),e.isDoubleBullet&&(this.secondBulletObj.delete(e.id),this.secondBulletObj.set(e.id,{time:this.state.now+150,playerId:e.id,bullet:{id:this.nextBulletId++,fromPlayerId:e.id,pos:{x:f.add(e.pos.x,i.x),y:f.add(e.pos.y,i.y)},startPos:{x:f.add(e.pos.x,i.x),y:f.add(e.pos.y,i.y)},moveDir:{x:s.x,y:s.y},width:r.bullet_width,height:r.bullet_height,AABBWidth:101,AABBHeight:101,level:e.bulletLevel,speed:1,effectiveTime:this.state.now+67,dis:n},barrelAngle:e.tank_barrel_angle,isPrcision:!1}))}},i.aiPlayerRandomMove=function(e){if(e.lastAiPlayerChangeDirTime<this._state.now){var t=f.getRandomBySeed(f.getRandomSeed()+1e3*e.playerID_ASCII,-180,180);t>90&&t<=180&&(t-=360);var a=new m(0,1);return a.rotate(t),a.normalizeSelf().multiplyScalarSelf(300),e.velocity={x:a.x,y:a.y},e.tank_barrel_angle=e.tank_body_angle=f.atan2(a.y,a.x)-90,e.lastAiPlayerChangeDirTime=this.state.now+3e3,e.aStar&&e.aStar.targetPos&&(e.aStar.targetPos=null),!0}return!1},i.bulletLogic=function(e){for(var t,s=this,i=a(this.obstacles);!(t=i()).done;){var r=t.value;this.tree.insert(r)}for(var l=function(t){var i=s._players.find((function(e){return e.id===s.bullets[t].fromPlayerId}));if(i&&i.status===k.Dead)return s.bullets.splice(t,1),"continue";if(s.bullets[t].effectiveTime>=s.state.now)return"continue";var r=s.bullets[t],l=new m(r.moveDir.x,r.moveDir.y);l.multiplyScalarSelf(1/4),r.pos.x=(Math.floor(1e3*r.pos.x)+Math.floor(Math.floor(1e3*l.x)*Math.floor(1e3*e.dt)*Math.floor(1e3*r.speed)/1e6))/1e3,r.pos.y=(Math.floor(1e3*r.pos.y)+Math.floor(Math.floor(1e3*l.y)*Math.floor(1e3*e.dt)*Math.floor(1e3*r.speed)/1e6))/1e3;var o=((Math.floor(1e3*r.pos.x)-Math.floor(1e3*r.startPos.x))*(Math.floor(1e3*r.pos.x)-Math.floor(1e3*r.startPos.x))+(Math.floor(1e3*r.pos.y)-Math.floor(1e3*r.startPos.y))*(Math.floor(1e3*r.pos.y)-Math.floor(1e3*r.startPos.y)))/1e6;if(Math.floor(o)>=s.bullets[t].dis*s.bullets[t].dis)return s.bullets.splice(t,1),"continue";if(Math.floor(r.pos.x)>=2508||Math.floor(r.pos.x)<=0||Math.floor(r.pos.y)<=0||Math.floor(r.pos.y)>=2508)return s.bullets.splice(t,1),"continue";if(s.bulletTankCollision(r))return s.bullets.splice(t,1),"continue";if(s.bullet_Obstacle_Collision(r)){s.bullets.splice(t,1),s.tree.clear();for(var n,h=a(s.obstacles);!(n=h()).done;){var d=n.value;s.tree.insert(d)}return"continue"}},o=this.bullets.length-1;o>-1;--o)l(o);for(var n=this.bullets.length-1;n>0;n--){var h=-1;if(this.bullets[n]&&!(this.bullets[n].effectiveTime>=this.state.now)){for(var d=n-1;d>0;d--)if(this.bullets[d]&&!(this.bullets[d].effectiveTime>=this.state.now)&&this.bullets[n]&&this.bullets[d]){var p=new c(new m(this.bullets[n].pos.x,this.bullets[n].pos.y),this.bullets[n].width,this.bullets[n].height,new m(0,1).signAngle(new m(this.bullets[n].moveDir.x,this.bullets[n].moveDir.y))),u=new c(new m(this.bullets[d].pos.x,this.bullets[d].pos.y),this.bullets[d].width,this.bullets[d].height,new m(0,1).signAngle(new m(this.bullets[d].moveDir.x,this.bullets[d].moveDir.y)));if(P.instance.rectTrigger(p,u)&&(-1===this.bullets[n].fromPlayerId.indexOf("_ai")||-1===this.bullets[d].fromPlayerId.indexOf("_ai"))){console.log("两个子弹碰撞"),h=d,this.bullets.splice(d,1);break}}-1!==h&&this.bullets.splice(n,1)}}},i._calTankBarrelAngle=function(e,t){var a=new m(t.pos.x,t.pos.y).subtract(new m(e.pos.x,e.pos.y)),s=new m(0,1).signAngle(new m(a.x,a.y));(s=Math.floor(s))>90&&s<=180&&(s-=360);var i=n[s];if(i){var r=new m(0,1);return r.rotate(i).normalizeSelf().multiplyScalarSelf(300),{angle:f.atan2(r.y,r.x)-90,vec2:r}}return null},i._getClosestPlayerTank=function(e,t){void 0===t&&(t=600);for(var a=[],s=0;s<this._players.length;s++)if(this._players[s].status!==k.Dead&&this._players[s].status!==k.Wudi&&this._players[s].id!==e.id){var i=b.distance(e.pos,this._players[s].pos);Math.floor(i)<=t*t&&a.push({index:s,dis:i})}return a.sort((function(e,t){return(Math.floor(1e3*e.dis)-Math.floor(1e3*t.dis))/1e3})),a.length?this._players[a[0].index]:null},i.calPlayerTankStatus=function(e){var t;e.reliveEndTime&&this.state.now<=e.reliveEndTime?e.status!==k.Dead&&(e.status=k.Dead,e.initPos.y>1e3?e.tank_barrel_angle=e.tank_body_angle=-180:e.tank_barrel_angle=e.tank_body_angle=0,e.bulletLevel=x.Level1,e.shoot_interval_time=r.Normal_Shoot_Interval_Time,e.pickUpPropCountMap=((t={})[S.Clock]=0,t[S.Shield]=0,t[S.Star]=0,t),e.isDoubleBullet=!1,e.armo=0,e.isPrcisionIng=!1,e.id===this.gameManager.selfPlayerId&&(this.gameManager.isShootIng=!1),e.speed=1,e.velocity={x:0,y:0},e.lastAiPlayerChangeDirTime=-1,e.lastFourDir.length=0,e.randomRotateBodyAngleTime=-1,e.aStar=null,e.kill_streak_count=0):e.wudiEndTime>=this.state.now?e.status!==k.Wudi&&(e.status=k.Wudi,e.pos.x=e.initPos.x,e.pos.y=e.initPos.y):e.status!==k.Normal&&(e.status=k.Normal);e.speed<1&&e.retardEndTime&&this.state.now>=e.retardEndTime&&(e.speed=1)},i.tankObstacleCollision=function(e){for(var t,s=new g(new m(e.pos.x,e.pos.y),e.radius),i=a(this.obstacles);!(t=i()).done;){var l=t.value;this.tree.insert(l)}for(var o=this.tree.retrieve(e),n=0;n<o.length;n++){var h=o[n],d=new c(new m(h.pos.x,h.pos.y),r.GridSize,r.GridSize,0);if(s.centerPoint.x=e.pos.x,s.centerPoint.y=e.pos.y,h.type===y.IronWall||h.type===y.WoodWall||h.type===y.River){var p=P.instance.rectCircleCollision(d,s);e.pos.x=p.x,e.pos.y=p.y}}this.tree.clear();var u=!1;e.isGrassTrigger=!1;for(var f,_=a(this.grasss);!(f=_()).done;){var b=f.value;this.tree.insert(b)}for(var v=this.tree.retrieve(e),x=0;x<v.length;x++){var M=v[x],S=new c(new m(M.pos.x,M.pos.y),r.GridSize,r.GridSize,0);s.centerPoint.x=e.pos.x,s.centerPoint.y=e.pos.y;var w=P.instance.rectCircleTrigger(S,s);e.id===this.gameManager.selfPlayerId?M.isTrigger=w:!1===u&&(u=w)}e.isGrassTrigger=u,this.tree.clear();for(var I=0;I<this.walls.length;I++){var T=this.walls[I];s.centerPoint.x=e.pos.x,s.centerPoint.y=e.pos.y;var k=P.instance.rectCircleCollision(T.OBB,s);e.pos.x=k.x,e.pos.y=k.y}},i.createRandomProp=function(){if(!B.Is_Guide&&(0===this.lastCreatePropTime&&(this.lastCreatePropTime=this._state.now),!this.props.find((function(e){return e.generate_type===T.Center}))&&this.lastCreatePropTime+r.create_prop_time<this._state.now)){this.lastCreatePropTime=this._state.now;var e=f.getRandom(0,2);this.createProp(e,{x:1254,y:1254},!0)}},i.createProp=function(e,t,a){void 0===a&&(a=!1);var s={id:++this.nextPropId,type:e,pos:{x:t.x,y:t.y},generate_type:a?T.Center:T.Neutral_Tank};this.props.push(s)},i.bulletTankCollision=function(e){for(var t=new c(new m(e.pos.x,e.pos.y),e.width,e.height,new m(0,1).signAngle(new m(e.moveDir.x,e.moveDir.y))),s=0;s<this._players.length;s++)if(this._players[s].id!==e.fromPlayerId){var i=this._players[s];if(i.status!==k.Wudi&&i.status!==k.Dead){var l=new g(new m(i.pos.x,i.pos.y),i.radius);if(P.instance.rectCircleTrigger(t,l)){if(i.armo>0)i.armo--,h.instance.emit(d.PLAYER_BE_HIT,i.id);else{i.reliveEndTime=this.state.now+i.reliveTime,i.wudiEndTime=i.reliveEndTime+r.wudi_time,h.instance.emit(d.PLAYER_EXPLODE,e.fromPlayerId,i.id);for(var o,n=a(this.grasss);!(o=n()).done;){var p=o.value;this.tree.insert(p)}for(var u=this.tree.retrieve(i),y=0;y<u.length;y++){var f=u[y];i.id===this.gameManager.selfPlayerId&&(f.isTrigger=!1)}this.tree.clear();var _=this._players.find((function(t){return t.id===e.fromPlayerId}));_.kill_streak_count++;var b=this.multipleScoreMap.get(e.fromPlayerId),v=b;_.kill_streak_count<=3?v=b+1:_.kill_streak_count>3&&_.kill_streak_count<=6?(v=b+2,e.fromPlayerId===this.gameManager.selfPlayerId&&h.instance.emit(d.DOUBLE_SCORE)):_.kill_streak_count>6&&(v=b+3,e.fromPlayerId===this.gameManager.selfPlayerId&&h.instance.emit(d.TRIPLE_SCORE)),i.id!==this.gameManager.selfPlayerId&&B.Is_Guide&&L.instance.currentGuideID===D.Obtain2Scores_Start?L.instance.currentGuideID=D.Obtain2Scores_1:i.id!==this.gameManager.selfPlayerId&&B.Is_Guide&&L.instance.currentGuideID===D.Obtain2Scores_1&&(L.instance.currentGuideID=D.Obtain2Scores_2),this.multipleScoreMap.set(e.fromPlayerId,v),O.instance.upLoadScore(e.fromPlayerId,b,v)}return!0}}}return!1},i.bullet_Obstacle_Collision=function(e){for(var t=new c(new m(e.pos.x,e.pos.y),e.width,e.height,new m(0,1).signAngle(new m(e.moveDir.x,e.moveDir.y))),a=this.obstacles.length-1;a>-1;--a){var s=this.obstacles[a];if(s.type!==y.Grass&&s.type!==y.River){var i=new c(new m(s.pos.x,s.pos.y),r.GridSize,r.GridSize,0);if(P.instance.rectTrigger(i,t))return e.level===x.Level1?s.type===y.WoodWall?(h.instance.emit(d.WALL_BE_HIT,this.obstacles[a].id),this.obstacles.splice(a,1),u[s.grid.x][s.grid.y].isObs=0):(s.type,y.IronWall):e.level===x.Level2&&(s.type!==y.WoodWall&&s.type!==y.IronWall||(h.instance.emit(d.WALL_BE_HIT,this.obstacles[a].id),this.obstacles.splice(a,1),u[s.grid.x][s.grid.y].isObs=0)),!0}}return!1},i.tankTankCollision=function(e,t){for(var a={x:t.x,y:t.y},s=0;s<this._players.length;s++){var i=this._players[s];if(e.id!==i.id&&i.status!==k.Dead){var r=new g(new m(a.x,a.y),e.radius),l=new g(new m(i.pos.x,i.pos.y),i.radius);if(P.instance.circleCollision(r,l)){var o=f.sub(f.add(e.radius,i.radius),f.sqrt(f.add(f.pow(f.sub(a.y,i.pos.y),2),f.pow(f.sub(a.x,i.pos.x),2)))),n=f.atan2(f.sub(i.pos.y,a.y),f.sub(i.pos.x,a.x)),h=f.mul(f.cos(n),o),d=f.mul(f.sin(n),o);a.x=f.sub(a.x,h),a.y=f.sub(a.y,d)}}}return a},i.playerTankPropCollision=function(e){for(var t=new g(new m(e.pos.x,e.pos.y),e.radius),a=this.props.length-1;a>-1;--a){var s=this.props[a],i=r.PropConfig[s.type],l=new c(new m(s.pos.x,s.pos.y),i.width,i.height,i.angle);if(P.instance.rectCircleTrigger(l,t)){switch(s.type){case S.Clock:for(var o=0;o<this._players.length;o++){var n=this._players[o];n.id!==e.id&&(.5===n.speed?n.retardEndTime+=2500:n.retardEndTime=this._state.now+2500,n.speed=.5)}e.id===M.instance.selfPlayerId&&A.instance.playSound(C.Clock,.5);break;case S.Shield:e.pickUpPropCountMap[S.Shield]++,e.pickUpPropCountMap[S.Shield]<=3&&e.armo++,e.id===M.instance.selfPlayerId&&A.instance.playSound(C.Armo,.5);break;case S.Star:e.pickUpPropCountMap[S.Star]++,1===e.pickUpPropCountMap[S.Star]?e.shoot_interval_time-=.1:2===e.pickUpPropCountMap[S.Star]?e.bulletLevel=x.Level2:3===e.pickUpPropCountMap[S.Star]?e.isDoubleBullet=!0:e.armo++,e.id===M.instance.selfPlayerId&&A.instance.playSound(C.Star,.5)}s.generate_type===T.Center&&(this.lastCreatePropTime=this.state.now),this.props.splice(a,1)}}},i.guideCreateStarProp=function(){var e=S.Star;this.createProp(e,{x:1154,y:1254},!0);var t=S.Star;this.createProp(t,{x:1354,y:1254},!0)},i.removeGuideAITank=function(){this.aiPlayers.length=0},i.createGuideAITank=function(e){for(var a,s={x:Math.floor(132*this.playerTankBornPosList[1].x+66),y:Math.floor(132*this.playerTankBornPosList[1].y+66)},i=0,l=0;l<e.length;l++)i+=e[l].charCodeAt(0);var o={id:e,pos:t({},s),tank_body_angle:0,tank_barrel_angle:0,initPos:t({},s),status:k.Normal,bulletLevel:x.Level1,shoot_interval_time:r.Normal_Shoot_Interval_Time,pickUpPropCountMap:(a={},a[S.Clock]=0,a[S.Shield]=0,a[S.Star]=0,a),isDoubleBullet:!1,armo:0,isPrcisionIng:!1,radius:r.tank_radius,speed:1,reliveTime:2e3,width:2*r.tank_radius,height:2*r.tank_radius,AABBWidth:2*r.tank_radius,AABBHeight:2*r.tank_radius,color:e===this.gameManager.selfPlayerId?w.Blue:w.Red,skin:'{"T_1":"100001","T_2":"200003","T_3":[]}',velocity:{x:0,y:0},isGrassTrigger:!1,lastFireTime:-1,lastAiPlayerChangeDirTime:-1,randomRotateBodyAngleTime:-1,lastFourDir:[],barrelId:200001,isAI:!0,playerID_ASCII:i,kill_streak_count:0,aimTime:-1};o.barrelId=Number(JSON.parse(o.skin).T_2),this.aiPlayers.push(o),this.multipleScoreMap.set(o.id,0)},s(e,[{key:"state",get:function(){return this._state}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./DataManager.ts","./MessageManager.ts","./SocketManager.ts","./SoundManager.ts","./UIManager.ts","./BaseUI.ts","./QuitUI.ts"],(function(e){"use strict";var t,n,a,i,o,s,r,c,u,p,m,l,f,h,d,b,g,y,C,B,E,w,T,j,F,v,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Node,c=e.SpriteFrame,u=e.Label,p=e.macro,m=e.Color,l=e.Tween,f=e.v3,h=e.tween,d=e.Sprite},function(e){b=e.GameManager},function(e){g=e.default,y=e.PlayerInfo},function(e){C=e.default,B=e.EventType},function(e){E=e.default},function(e){w=e.SoundManager},function(e){T=e.default},function(e){j=e.EnShowPopType,F=e.EnHidePopType,v=e.BaseUI},function(e){I=e.default}],execute:function(){var O,S,P,M,_,G,A,H,k,N,U,J,z,x;o._RF.push({},"c673aDLeWxH65MtEgUt6vqS","GameUI",void 0);var R=s.ccclass,D=s.property;e("GameUI",(O=R("GameUI"),S=D(r),P=D(c),M=D(c),_=D(r),G=D(u),O(((x=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).m_ShowPopType=j.max,t.m_HidePopType=F.max,a(t,"soundBtn",k,i(t)),a(t,"soundOnSpriteFrame",N,i(t)),a(t,"soundOffSpriteFrame",U,i(t)),a(t,"emojiBtnContent",J,i(t)),a(t,"ping",z,i(t)),t.isEmojiContentOpen=!1,t._lastOpenTime=4,t}n(t,e);var o=t.prototype;return o.onLoad=function(){for(var e=0;e<this.emojiBtnContent.children.length;e++)this.emojiBtnContent.children[e].on(r.EventType.TOUCH_END,this.onNodeTap,this);this.onSoundBtnTap(!1),this.node.getChildByName("testButton1").active=!1,this.node.getChildByName("testButton2").active=!1,C.instance.on(B.START_GAME_HEATR_BEAT,this.onStartHeartBeat,this),C.instance.on(B.STOP_GAME_HEATR_BEAT,this.onStopHeartBeat,this)},o.onStartHeartBeat=function(e){this.schedule(this.sendHeart,e/1e3,p.REPEAT_FOREVER,0)},o.onStopHeartBeat=function(){this.unschedule(this.sendHeart)},o.sendHeart=function(){var e=this;E.instance.sendHeart(),E.instance.getPing().then((function(t){e.ping.string=t.toString(),e.ping.color=new m(t>=100?"#FF2222":"#10A30A")}))},o.onNodeTap=function(e){if("emoji0"===e.target.name||"emoji1"===e.target.name||"emoji2"===e.target.name||"emoji3"===e.target.name)if(!1===this.isEmojiContentOpen){for(var t=0;t<this.emojiBtnContent.children.length;t++){this.emojiBtnContent.children[t].active=this.isEmojiContentOpen}this.isEmojiContentOpen=!this.isEmojiContentOpen,this.unschedule(this.showOrCloseEmojiContent),this.schedule(this.showOrCloseEmojiContent,.01,3),l.stopAllByTarget(this.emojiBtnContent),this.emojiBtnContent.scale=f(1,1,1)}else this._lastOpenTime=0,E.instance.sendEmoji(Number(e.target.name.replace("emoji","")));else this.isEmojiContentOpen&&(this._lastOpenTime=4)},o.showOrCloseEmojiContent=function(){for(var e=0;e<this.emojiBtnContent.children.length;e++){var t=this.emojiBtnContent.children[e];if("emoji3"===t.name)t.active=!0;else if(t.active!==this.isEmojiContentOpen)return void(t.active=this.isEmojiContentOpen)}},o.update=function(e){if(this.isEmojiContentOpen&&(this._lastOpenTime+=e),this._lastOpenTime>=3){this._lastOpenTime=0,this.isEmojiContentOpen=!1,this.unschedule(this.showOrCloseEmojiContent),this.schedule(this.showOrCloseEmojiContent,.01,3),l.stopAllByTarget(this.emojiBtnContent),this.emojiBtnContent.scale=f(1,1,1);var t=h(this.emojiBtnContent);(t=t.repeatForever(h().to(.5,{scale:f(1.05,1.05,1.05)}).to(.5,{scale:f(1,1,1)}))).start()}},o.onSoundBtnTap=function(e){void 0===e&&(e=!0),e&&(w.instance.SystemVolume=0===w.instance.SystemVolume?1:0),1===w.instance.SystemVolume?this.soundBtn.getComponent(d).spriteFrame=this.soundOnSpriteFrame:this.soundBtn.getComponent(d).spriteFrame=this.soundOffSpriteFrame},o.onQuitBtnTap=function(){T.instance.showUI(I,!0)},o.player1Connect=function(){this.node.getChildByName("testButton1").active=!1,this.node.getChildByName("testButton2").active=!1,b.instance.selfPlayerId="user02",g.instance.playerInfoMap.set(b.instance.selfPlayerId,new y(b.instance.selfPlayerId,"Gsdukk","https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fup.enterdesk.com%2F22%2Fa6%2F5d%2F83%2Fae689318a827319a98788026bb32d99a.jpg&refer=http%3A%2F%2Fup.enterdesk.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1650628029&t=5daac7f2adc064a2a30a201ded6b7b2b")),g.instance.playerInfoMap.set("user01",new y("user01","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user03",new y("user03","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user04",new y("user04","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user05",new y("user05","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user06",new y("user06","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),E.instance.connecturl="wss://mxbattlegame-dev.mxplay.com:5575/game?token=39c63f431757c985101948835c5636a85257c3ac97be797b09650bfee4cf5401fd5d2c3e6f506b4dd3b3ba71b41410dcd3bb867740b3599ecbb5e48d80534ce5af2f3e441b5a09a8c9f6c5eb23822b709195108f6c05df2b18da749e0dbc68233545139bab3b",E.instance.initSocket()},o.player2Connect=function(){this.node.getChildByName("testButton1").active=!1,this.node.getChildByName("testButton2").active=!1,b.instance.selfPlayerId="user05",g.instance.playerInfoMap.set(b.instance.selfPlayerId,new y(b.instance.selfPlayerId,"Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user01",new y("user01","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user03",new y("user03","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user04",new y("user04","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),g.instance.playerInfoMap.set("user02",new y("user02","Trump","https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fup.enterdesk.com%2F22%2Fa6%2F5d%2F83%2Fae689318a827319a98788026bb32d99a.jpg&refer=http%3A%2F%2Fup.enterdesk.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1650628029&t=5daac7f2adc064a2a30a201ded6b7b2b")),g.instance.playerInfoMap.set("user06",new y("user06","Trump","https://img0.baidu.com/it/u=3191513737,909200895&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500")),E.instance.connecturl="wss://mxbattlegame-dev.mxplay.com:5575/game?token=11583c5cf151e82ccbec78405e74a70b4029402fd5f06a37c2673670ef551d2a49338e6156b4b5fd9b827b65adbf28e77b4e5411693648366cadfb7ae3dd4da6c3d6bec091c53b368a5567e1b4bacfe1acc22cc752cb7e51980515107b4e76bc54e9e0edb872",E.instance.initSocket()},t}(v)).className="GameUI",k=t((H=x).prototype,"soundBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(H.prototype,"soundOnSpriteFrame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(H.prototype,"soundOffSpriteFrame",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"emojiBtnContent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(H.prototype,"ping",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=H))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/Grid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameMapUI.ts"],(function(e){"use strict";var t,i,s,o,n,r,a,l,p,c,h,u,b,m,_,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,p=e.SpriteFrame,c=e.Node,h=e.UIOpacity,u=e.v3,b=e.Sprite,m=e.UITransform,_=e.Component},function(e){g=e.GameConfig},function(e){d=e.GridType}],execute:function(){var w,y,f,F,C,v,G,z,S,T,W,k,x,I,P,L,D,R,U,A,B,M,O,j,H,J,K,N,q;r._RF.push({},"7dd08nluwJBaI+/KtRTcPlt","Grid",void 0);var E=a.ccclass,Q=a.property;e("Grid",(w=E("Grid"),y=Q(l),f=Q(p),F=Q(p),C=Q(p),v=Q({type:p}),G=Q({type:p}),z=Q({type:p}),S=Q({type:p}),T=Q({type:p}),W=Q({type:p}),k=Q({type:p}),x=Q(c),I=Q(c),w((D=t((L=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"textLabel",D,o(t)),s(t,"greenGrassSpreteFrame",R,o(t)),s(t,"yellowGrassSpreteFrame",U,o(t)),s(t,"riverSpreteFrame",A,o(t)),s(t,"wood_wall_spriteFrames",B,o(t)),s(t,"iron_wall_spriteFrames",M,o(t)),s(t,"base_wood_wall_spriteFrames",O,o(t)),s(t,"base_iron_wall_spriteFrames",j,o(t)),s(t,"base_wood_wall_crack_spriteFrames",H,o(t)),s(t,"base_iron_wall_crack_spriteFrames",J,o(t)),s(t,"white_wall_spriteFrames",K,o(t)),s(t,"obstacle1",N,o(t)),s(t,"obstacle2",q,o(t)),t.owner_user_id="",t.type=null,t.lastType=null,t.id=-1,t.isFlashWhite=!1,t._state=null,t}i(t,e);var r=t.prototype;return r.onLoad=function(){},r.start=function(){},r.init=function(e){this.type=e},r.reset=function(){this._state=null,this.id=-1,this.lastType=this.type=null,this.owner_user_id="",this.isFlashWhite=!1,this.obstacle1.active=this.obstacle2.active=!1,this.obstacle1.children[0].active=this.obstacle2.children[0].active=!1,this.obstacle1.getComponent(h).opacity=this.obstacle2.getComponent(h).opacity=255,this.obstacle1.setPosition(u(this.node.position.x,this.node.position.y)),this.obstacle2.setPosition(u(this.node.position.x,this.node.position.y))},r.updaState=function(e){if(e&&(this._state=e),this.type=this._state.type,!this.isFlashWhite&&(this.type!==this.lastType||this.type===d.Grass)&&this.obstacle1.children.length&&this.obstacle2.children.length)if(this.obstacle1.active=this.obstacle2.active=!1,this.obstacle1.children[0].active=this.obstacle2.children[0].active=!1,this.node.getComponent(b).enabled=!1,this.lastType=this.type,this._state.type===d.WoodWall||this._state.type===d.IronWall){var t=null,i=null;this._state.type===d.WoodWall?(t=this.wood_wall_spriteFrames[0],i=this.wood_wall_spriteFrames[1],this.obstacle1.getComponent(m).width=this.obstacle2.getComponent(m).width=172):(t=this.iron_wall_spriteFrames[0],i=this.iron_wall_spriteFrames[1],this.obstacle1.getComponent(m).width=this.obstacle2.getComponent(m).width=175),this.obstacle1.active=this.obstacle2.active=!0,this.obstacle1.getComponent(b).spriteFrame=t,this.obstacle2.getComponent(b).spriteFrame=i,this.obstacle1.getComponent(m).height=this.obstacle2.getComponent(m).height=210,this.obstacle1.setPosition(u(this.node.position.x-16,this.node.position.y+32)),this.obstacle2.setPosition(u(this.node.position.x-16,this.node.position.y+34))}else this._state.type===d.Grass?(this.obstacle1.active=!0,this.obstacle2.active=!1,2===g.bgType?this.obstacle1.getComponent(b).spriteFrame=this.yellowGrassSpreteFrame:this.obstacle1.getComponent(b).spriteFrame=this.greenGrassSpreteFrame,this.obstacle1.getComponent(b).node.getComponent(m).width=160,this.obstacle1.getComponent(b).node.getComponent(m).height=148,this.obstacle1.getComponent(h).opacity=this._state.isTrigger?125:255):this._state.type===d.River&&(this.obstacle1.active=!0,this.obstacle2.active=!1,this.obstacle1.getComponent(b).spriteFrame=this.riverSpreteFrame,this.obstacle1.getComponent(b).node.getComponent(m).width=132,this.obstacle1.getComponent(b).node.getComponent(m).height=132)},r.flashWhite=function(){var e=this;this.unscheduleAllCallbacks(),this.isFlashWhite=!0,this.obstacle1.getComponent(b).spriteFrame=this.white_wall_spriteFrames[0],this.obstacle2.getComponent(b).spriteFrame=this.white_wall_spriteFrames[1],this.obstacle1.getComponent(b).node.getComponent(m).width=this.obstacle2.getComponent(b).node.getComponent(m).width=172,this.obstacle1.getComponent(b).node.getComponent(m).height=this.obstacle2.getComponent(b).node.getComponent(m).height=210,this.scheduleOnce((function(){e.isFlashWhite=!1,e.lastType=null,e.updaState()}),.05)},n(t,[{key:"UserID",get:function(){return this.owner_user_id},set:function(e){this.owner_user_id=e}}]),t}(_)).prototype,"textLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"greenGrassSpreteFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(L.prototype,"yellowGrassSpreteFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(L.prototype,"riverSpreteFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(L.prototype,"wood_wall_spriteFrames",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(L.prototype,"iron_wall_spriteFrames",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(L.prototype,"base_wood_wall_spriteFrames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(L.prototype,"base_iron_wall_spriteFrames",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(L.prototype,"base_wood_wall_crack_spriteFrames",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(L.prototype,"base_iron_wall_crack_spriteFrames",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(L.prototype,"white_wall_spriteFrames",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(L.prototype,"obstacle1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(L.prototype,"obstacle2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=L))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuideManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCtrl.ts","./GameManager.ts","./GameState.ts","./MXBattle.ts","./GameUI.ts","./LeftJoyStick.ts","./MatchUI.ts","./RightJoyStick.ts","./DataManager.ts","./LocalServerManager.ts","./SoundManager.ts","./UIManager.ts"],(function(t){"use strict";var e,i,r,n,o,a,c,s,l,h,u,g,p,d,F,y,f,b,m,v,k,S,C,B,I,_,T,N,D,J,G,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator},function(t){c=t.cclegacy,s=t._decorator,l=t.Prefab,h=t.Node,u=t.RichText,g=t.Component,p=t.UITransform,d=t.Layout,F=t.v3,y=t.tween,f=t.instantiate,b=t.UIOpacity,m=t.Tween},function(t){v=t.default},function(t){k=t.GameManager},function(t){S=t.GameStatus},function(t){C=t.mxBattle},function(t){B=t.GameUI},function(t){I=t.Joystick},function(t){_=t.default},function(t){T=t.RightJoyStick},function(t){N=t.default,D=t.PlayerInfo},function(t){J=t.LocalServerManager},function(t){G=t.SoundManager},function(t){w=t.default}],execute:function(){var L,M,P,O,R,A,z,x,U,E,j,q,Y,H,K,W,X,Z,Q,V,$,tt,et,it,rt,nt,ot,at,ct,st;t("GuideStep",void 0),c._RF.push({},"23364oJA25BaJZeFx0fKnWG","GuideManager",void 0);var lt,ht=s.ccclass,ut=s.property,gt=t("GuidePlayerId","player0");t("GuidePlayerOtherId","GuidePlayerOtherId"),t("GuideManager",(L=ht("GuideManager"),M=ut(l),P=ut(h),O=ut(I),R=ut(T),A=ut(h),z=ut(h),x=ut(h),U=ut(h),E=ut(h),j=ut(h),q=ut(h),Y=ut(h),H=ut(h),L(((st=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"playerTankPrefab",X,n(e)),r(e,"readyGoLayer",Z,n(e)),r(e,"leftJoystick",Q,n(e)),r(e,"rightJoystick",V,n(e)),r(e,"leftFinger",$,n(e)),r(e,"rightFinger",tt,n(e)),r(e,"closeBtn",et,n(e)),r(e,"skipBtn",it,n(e)),r(e,"emojiContent",rt,n(e)),r(e,"scoreRank",nt,n(e)),r(e,"ping",ot,n(e)),r(e,"quan",at,n(e)),r(e,"Prop_Land",ct,n(e)),e.tipLabel=null,e._currentGuideID=-1,e}i(e,t);var c=e.prototype;return c.onLoad=function(){this.tipLabel=this.node.getChildByName("tip").getChildByName("tipLabel").getComponent(u),this.skipBtn.active=!1,e.instance=this,this.leftFinger.active=this.rightFinger.active=!1,this.node.getChildByName("tip").active=!1},c.startGuide=function(){var t=this;k.instance.init(),this.ping.active=this.emojiContent.active=this.closeBtn.active=this.leftJoystick.node.active=this.rightJoystick.node.active=!1,k.instance.selfPlayerId=gt,N.instance.playerInfoMap.set(k.instance.selfPlayerId,new D(k.instance.selfPlayerId,"You","")),v.instance.ready(12131253),this.scheduleOnce((function(){t.currentGuideID=lt.DragMoveStart}),3)},c._guide=function(){var t=a(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.rightFinger.active=this.leftFinger.active=!1,this.node.getChildByName("tip").active=!1,this.leftJoystick.setNull(),this.rightJoystick.setNull(),m.stopAllByTarget(this.leftFinger),m.stopAllByTarget(this.rightFinger),this.leftJoystick.node.active=this.rightJoystick.node.active=!0,e=!0,t.t0=this._currentGuideID,t.next=t.t0===lt.DragMoveStart?11:t.t0===lt.DragMoveTouchStart?22:t.t0===lt.DragMoveTouchEnd?27:t.t0===lt.DragShoot_1?35:t.t0===lt.DragShoot_2?43:t.t0===lt.TapFireStart?48:t.t0===lt.TapFireStart_1?57:t.t0===lt.TapFireStart_2?66:t.t0===lt.ShowScoreRankUI?71:t.t0===lt.CreateAITank?79:t.t0===lt.Obtain2Scores_Start?88:t.t0===lt.Obtain2Scores_1?91:t.t0===lt.Obtain2Scores_2?94:t.t0===lt.End?99:109;break;case 11:return this.skipBtn.active=!0,m.stopAllByTarget(this.leftFinger),m.stopAllByTarget(this.rightFinger),this.rightJoystick.node.active=!1,this.node.getChildByName("tip").active=!0,this.tipLabel.string="Drag the joystick to move",this.leftFinger.active=!0,this.leftFinger.setParent(this.leftJoystick.node.getChildByName("tip_ring")),this.leftFinger.setPosition(F()),y(this.leftFinger).delay(1).to(.5,{position:F(0,150,0)}).call((function(){y(i.leftFinger).repeatForever(y().to(1,{position:F(0,-150,0)}).to(1,{position:F(0,150,0)})).start()})).start(),t.abrupt("break",109);case 22:return this.rightJoystick.node.active=!1,this.node.getChildByName("tip").active=!0,this.tipLabel.string="Drag the joystick to move",e=!1,t.abrupt("break",109);case 27:return this.leftJoystick.node.active=!1,this.node.getChildByName("tip").active=!0,this.tipLabel.string="Drag and release to make an accurate shot  <color=#FFFF00>(</color><color=#FF0000>0</color><color=#FFFF00>/2)</color>",this.rightFinger.active=!0,this.rightFinger.setParent(this.rightJoystick.node.getChildByName("tip_ring")),this.rightFinger.setPosition(F()),y(this.rightFinger).to(.5,{position:F(150,0,0)}).call((function(){y(i.rightFinger).repeatForever(y().to(1,{position:F(-150,0,0)}).to(1,{position:F(150,0,0)})).start()})).start(),t.abrupt("break",109);case 35:return this.leftJoystick.node.active=!1,this.node.getChildByName("tip").active=!0,this.tipLabel.string="Drag and release to make an accurate shot  <color=#FFFF00>(</color><color=#FF0000>1</color><color=#FFFF00>/2)</color>",this.rightFinger.active=!0,this.rightFinger.setParent(this.rightJoystick.node.getChildByName("tip_ring")),this.rightFinger.setPosition(F()),y(this.rightFinger).to(.5,{position:F(150,0,0)}).call((function(){y(i.rightFinger).repeatForever(y().to(1,{position:F(-150,0,0)}).to(1,{position:F(150,0,0)})).start()})).start(),t.abrupt("break",109);case 43:return this.leftJoystick.node.active=!1,this.node.getChildByName("tip").active=!0,this.tipLabel.string="Drag and release to make an accurate shot  <color=#FFFF00>(</color><color=#FF0000>2</color><color=#FFFF00>/2)</color>",this.scheduleOnce((function(){i.currentGuideID=lt.TapFireStart}),1),t.abrupt("break",109);case 48:return this.node.getChildByName("tip").active=!0,this.leftJoystick.node.active=!1,this.tipLabel.string="Tap to fire  <color=#FFFF00>(</color><color=#FF0000>0</color><color=#FFFF00>/2)</color>",this.rightFinger.active=!0,this.rightFinger.angle=-10,this.rightFinger.getComponent(p).setAnchorPoint(.65,.1),this.rightFinger.setPosition(F(100,-190)),y(this.rightFinger).repeatForever(y().to(.6,{angle:0,scale:F(1,.9,1)}).call((function(){var t=f(i.quan);t.setParent(i.rightJoystick.node.getChildByName("tip_ring")),t.setSiblingIndex(i.rightFinger.getSiblingIndex()-1),t.name="quan",t.active=!0,t.addComponent(b),y(t).to(.5,{scale:F(3.5,3.5,3.5)}).call((function(){y(t.getComponent(b)).to(.2,{opacity:0}).call((function(){m.stopAllByTarget(t),t.destroy()})).start()})).start(),y(t.getComponent(b)).to(.5,{opacity:180}).start()})).to(.2,{angle:-10,scale:F(1,1,1)})).start(),t.abrupt("break",109);case 57:return this.node.getChildByName("tip").active=!0,this.leftJoystick.node.active=!1,this.tipLabel.string="Tap to fire  <color=#FFFF00>(</color><color=#FF0000>1</color><color=#FFFF00>/2)</color>",this.rightFinger.active=!0,this.rightFinger.angle=-10,this.rightFinger.getComponent(p).setAnchorPoint(.65,.1),this.rightFinger.setPosition(F(100,-190)),y(this.rightFinger).repeatForever(y().to(.6,{angle:0,scale:F(1,.9,1)}).call((function(){var t=f(i.quan);t.setParent(i.rightJoystick.node.getChildByName("tip_ring")),t.setSiblingIndex(i.rightFinger.getSiblingIndex()-1),t.name="quan",t.active=!0,t.addComponent(b),y(t).to(.5,{scale:F(3.5,3.5,3.5)}).call((function(){y(t.getComponent(b)).to(.2,{opacity:0}).call((function(){m.stopAllByTarget(t),t.destroy()})).start()})).start(),y(t.getComponent(b)).to(.5,{opacity:180}).start()})).to(.2,{angle:-10,scale:F(1,1,1)})).start(),t.abrupt("break",109);case 66:return this.node.getChildByName("tip").active=!0,this.leftJoystick.node.active=!1,this.tipLabel.string="Tap to fire  <color=#FFFF00>(</color><color=#FF0000>2</color><color=#FFFF00>/2)</color>",this.scheduleOnce((function(){i.currentGuideID=lt.CreateAITank}),1),t.abrupt("break",109);case 71:return this.rightJoystick.node.active=this.leftJoystick.node.active=!1,this.scoreRank.active=!0,this.scoreRank.getChildByName("content").getComponent(d).updateLayout(),t.next=76,v.instance.scoreRankOutline();case 76:return this.currentGuideID=lt.Obtain2Scores_Start,e=!1,t.abrupt("break",109);case 79:return this.rightJoystick.node.active=this.leftJoystick.node.active=!1,N.instance.playerInfoMap.set("guide_player6415",new D("guide_player6415","Bot","")),k.instance.system.createGuideAITank("guide_player6415"),t.next=84,v.instance.cameraTweenToGuideAITank();case 84:return this.rightJoystick.node.active=this.leftJoystick.node.active=!0,this.currentGuideID=lt.ShowScoreRankUI,e=!1,t.abrupt("break",109);case 88:return this.node.getChildByName("tip").active=!0,this.tipLabel.string="Obtain 2 scores to finish the tutorial  <color=#FFFF00>(</color><color=#FF0000>0</color><color=#FFFF00>/2)</color>",t.abrupt("break",109);case 91:return this.node.getChildByName("tip").active=!0,this.tipLabel.string="Obtain 2 scores to finish the tutorial  <color=#FFFF00>(</color><color=#FF0000>1</color><color=#FFFF00>/2)</color>",t.abrupt("break",109);case 94:return this.rightJoystick.node.active=this.leftJoystick.node.active=!1,this.node.getChildByName("tip").active=!0,this.tipLabel.string="Obtain 2 scores to finish the tutorial  <color=#FFFF00>(</color><color=#FF0000>2</color><color=#FFFF00>/2)</color>",this.scheduleOnce(a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.currentGuideID=lt.End;case 1:case"end":return t.stop()}}),t)}))),1),t.abrupt("break",109);case 99:return G.instance.resetEffectAudioSource(),this.node.getChildByName("tip").active=!0,this.tipLabel.string="You have completed this tutorial",k.instance.gameStatus=null,J.instance.stop(),this.skipBtn.active=!1,k.instance.gameStatus=S.Over,C.Is_Guide=!1,this.scheduleOnce(a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.instance.reset(),N.instance.playerInfoMap.clear(),t.next=4,w.instance.showUI(_);case 4:w.instance.hideUI(B),w.instance.OnMsg(_,"gameLoaded",null),i.ping.active=i.emojiContent.active=i.closeBtn.active=!0,i.node.active=!1;case 8:case"end":return t.stop()}}),t)}))),1),t.abrupt("break",109);case 109:this.node.getChildByName("tip").getChildByName("Node").getComponent(p).height=this.node.getChildByName("tip").getComponent(p).height=this.tipLabel.node.getComponent(p).contentSize.height+40,this.node.getChildByName("tip").getChildByName("Node").getComponent(p).width=this.tipLabel.node.getComponent(p).contentSize.width+100,e&&(m.stopAllByTarget(this.node.getChildByName("tip").getComponent(p)),this.node.getChildByName("tip").getComponent(p).width=0,y(this.node.getChildByName("tip").getComponent(p)).delay(.2).to(.2,{width:this.node.getChildByName("tip").getChildByName("Node").getComponent(p).width},{easing:"circOut"}).start());case 112:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onSkipBtnTap=function(){this.currentGuideID=lt.End},o(e,[{key:"currentGuideID",get:function(){return this._currentGuideID},set:function(t){this._currentGuideID=t,this._guide()}}]),e}(g)).instance=null,X=e((W=st).prototype,"playerTankPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(W.prototype,"readyGoLayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(W.prototype,"leftJoystick",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(W.prototype,"rightJoystick",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(W.prototype,"leftFinger",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(W.prototype,"rightFinger",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(W.prototype,"closeBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(W.prototype,"skipBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(W.prototype,"emojiContent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(W.prototype,"scoreRank",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(W.prototype,"ping",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(W.prototype,"quan",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(W.prototype,"Prop_Land",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=W))||K));!function(t){t[t.DragMoveStart=0]="DragMoveStart",t[t.DragMoveTouchStart=1]="DragMoveTouchStart",t[t.DragMoveTouchEnd=2]="DragMoveTouchEnd",t[t.DragShoot_1=3]="DragShoot_1",t[t.DragShoot_2=4]="DragShoot_2",t[t.TapFireStart=5]="TapFireStart",t[t.TapFireStart_1=6]="TapFireStart_1",t[t.TapFireStart_2=7]="TapFireStart_2",t[t.ShowScoreRankUI=8]="ShowScoreRankUI",t[t.CreateAITank=9]="CreateAITank",t[t.Obtain2Scores_Start=10]="Obtain2Scores_Start",t[t.Obtain2Scores_1=11]="Obtain2Scores_1",t[t.Obtain2Scores_2=12]="Obtain2Scores_2",t[t.End=13]="End"}(lt||(lt=t("GuideStep",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/LabelFixed.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,s,a,r,o,l,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,o=e._decorator,l=e.Label,h=e.UITransform,d=e.Component}],execute:function(){var f,u,c,p,g,b,x;r._RF.push({},"ba732oyS/tDm4lYjucpVfd3","LabelFixed",void 0),function(e){e[e.NONE=0]="NONE",e[e.WIDTH=1]="WIDTH",e[e.BYTE=2]="BYTE"}(x||(x={}));var y=o.ccclass,m=o.property;e("default",(f=m({serializable:!0,displayName:"文本固定值"}),u=m({serializable:!0,displayName:"文本超出替换值 ...",tooltip:"超出长度的替换值 123456   123..."}),y((g=t((p=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).fixedType=x.WIDTH,n(t,"fixedValue",g,s(t)),n(t,"fixedString",b,s(t)),t.aLabel="",t.oldLabel="",t.fontSize=0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.fontSize=this.node.getComponent(l).fontSize},r.limitWidth=function(){if(this.aLabel=this.string,!this.isRefresh&&this.node){this.isRefresh=!0;var e=this.oldLabel=this.aLabel;switch(this.fixedType){case x.WIDTH:this.fixedValue<this.fontSize&&(this.fixedValue=this.fontSize),this.node.getComponent(l).updateRenderData(!0),this.node.getComponent(h).width>this.fixedValue&&this.labelWidth(e);break;case x.BYTE:this.fixedValue<2&&(this.fixedValue=2),this.getLabelByteLength(e)>this.fixedValue&&this.labelByte(e)}this.isRefresh=!1,this.node.getComponent(l).updateRenderData(!0)}},r.labelWidth=function(e){for(var t,i=e.length-1;i>0;i--)if(t=e.substr(0,i),this.string=t,this.node.getComponent(l).updateRenderData(!0),this.node.getComponent(h).width<this.fixedValue)return void(this.string=t+this.fixedString)},r.labelByte=function(e){for(var t,i=e.length-1;i>0;i--)if(t=e.substr(0,i),this.getLabelByteLength(t)<=this.fixedValue)return void(this.string=t+this.fixedString)},r.getLabelByteLength=function(e,t){return void 0===t&&(t="**"),e.replace(/[^\x00-\xff]/g,t).length},a(t,[{key:"string",get:function(){return this.node.getComponent(l).string},set:function(e){this.node.getComponent(l).string=e,this.aLabel=e,this.limitWidth()}}]),t}(d)).prototype,"fixedValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=t(p.prototype,"fixedString",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return".."}}),c=p))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/LabelFixed1.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,a,s,o,l,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator,l=e.Label,h=e.UITransform}],execute:function(){var f,u,d,c,p,g,b;s._RF.push({},"c9b8aCrPGNIEKfSF4QQ+Hde","LabelFixed1",void 0),function(e){e[e.NONE=0]="NONE",e[e.WIDTH=1]="WIDTH",e[e.BYTE=2]="BYTE"}(b||(b={}));var x=o.ccclass,y=o.property;e("default",(f=y({serializable:!0,displayName:"文本固定值"}),u=y({serializable:!0,displayName:"文本超出替换值 ...",tooltip:"超出长度的替换值 123456   123..."}),x((p=t((c=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).fixedType=b.WIDTH,n(t,"fixedValue",p,r(t)),n(t,"fixedString",g,r(t)),t.aLabel="",t.oldLabel="",t}i(t,e);var s=t.prototype;return s.refreshView=function(){if(!this.isRefresh&&this.node){this.isRefresh=!0;var e=this.oldLabel=this.aLabel;switch(this.fixedType){case b.WIDTH:this.fixedValue<this.fontSize&&(this.fixedValue=this.fontSize),this.node.getComponent(l).updateRenderData(!0),this.node.getComponent(h).width>this.fixedValue&&this.labelWidth(e);break;case b.BYTE:this.fixedValue<2&&(this.fixedValue=2),this.getLabelByteLength(e)>this.fixedValue&&this.labelByte(e)}this.isRefresh=!1}},s.labelWidth=function(e){for(var t,i=e.length-1;i>0;i--)if(t=e.substr(0,i),this.string=t,this.node.getComponent(l).updateRenderData(!0),this.node.getComponent(h).width<this.fixedValue)return this.string=t+this.fixedString,void this.node.getComponent(l).updateRenderData(!0)},s.labelByte=function(e){for(var t,i=e.length-1;i>0;i--)if(t=e.substr(0,i),this.getLabelByteLength(t)<=this.fixedValue)return this.string=t+this.fixedString,void this.node.getComponent(l).updateRenderData(!0)},s.getLabelByteLength=function(e,t){return void 0===t&&(t="**"),e.replace(/[^\x00-\xff]/g,t).length},a(t,[{key:"string",get:function(){return this.aLabel},set:function(e){this.aLabel=e,this.refreshView()}}]),t}(l)).prototype,"fixedValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),g=t(c.prototype,"fixedString",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return".."}}),d=c))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/LeftJoyStick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuideManager.ts","./MessageManager.ts","./MXBattle.ts"],(function(t){"use strict";var i,e,n,o,r,s,a,c,u,h,l,p,y,d,g,T,f,_,v,m,E;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,u=t.Enum,h=t.CCInteger,l=t.Vec2,p=t.UITransform,y=t.UIOpacity,d=t.Vec3,g=t.misc,T=t.Component},function(t){f=t.GuideManager,_=t.GuideStep},function(t){v=t.default,m=t.EventType},function(t){E=t.mxBattle}],execute:function(){var L,b,D,C,I,O,S,k,w,N,F,M,J,P,R,A,G,U,V;t({DirectionType:void 0,JoystickType:void 0}),s._RF.push({},"65ad5xbdNpAe7EIHbRFJATl","LeftJoyStick",void 0),function(t){t[t.FOUR=0]="FOUR",t[t.EIGHT=1]="EIGHT",t[t.ALL=2]="ALL"}(U||(U=t("DirectionType",{}))),function(t){t[t.FIXED=0]="FIXED",t[t.FOLLOW=1]="FOLLOW"}(V||(V=t("JoystickType",{})));var z=a.ccclass,j=a.property;t("Joystick",(L=z("Joystick"),b=j({type:c,displayName:"Dot",tooltip:"摇杆操纵点"}),D=j({type:c,displayName:"Ring",tooltip:"摇杆背景节点"}),C=j({type:u(V),displayName:"Touch Type",tooltip:"触摸类型"}),I=j({type:u(U),displayName:"Direction Type",tooltip:"方向类型"}),O=j({type:h,displayName:"Ring Radius",tooltip:"半径"}),S=j(c),k=j(c),L((F=i((N=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"dot",F,o(i)),n(i,"ring",M,o(i)),n(i,"joystickType",J,o(i)),n(i,"directionType",P,o(i)),i._touchLocation=new l,i._dirVec3=null,n(i,"radius",R,o(i)),n(i,"tip_ring",A,o(i)),n(i,"arrow",G,o(i)),i.touchStartTime=0,i}e(i,t);var s=i.prototype;return s.onLoad=function(){if(this.dot)if(this.ring){this.ring.getComponent(p);this._initTouchEvent();var t=this.node.getChildByName("ring").getComponent(y);this.joystickType===V.FOLLOW&&t&&(t.opacity=0,this.tip_ring.active=!0)}else console.warn("Joystick Ring is null!");else console.warn("Joystick Dot is null!")},s.onEnable=function(){v.instance.on(m.SET_JOYSTICK_TYPE,this._onSetJoystickType,this)},s.onDisable=function(){v.instance.off(m.SET_JOYSTICK_TYPE,this._onSetJoystickType,this)},s._onSetJoystickType=function(t){this.joystickType=t;var i=this.node.getChildByName("ring").getComponent(y);i&&(i.opacity=t===V.FIXED?255:0)},s._initTouchEvent=function(){this.node.on(c.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(c.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(c.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(c.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},s._touchStartEvent=function(t){if(this.ring&&this.dot){v.instance.emit(m.TANK_MOVE_START);var i=t.getUILocation(),e=new d(i.x,i.y);if(this.node.getComponent(p).convertToNodeSpaceAR(e,e),this.joystickType===V.FIXED){var n=e.subtract(this.ring.getPosition());console.log(n===e,"touchPos");var o=n.length();this.radius>o&&this.dot.setPosition(n)}else this.joystickType===V.FOLLOW&&(this.node.getChildByName("ring").getComponent(y).opacity=255,this.tip_ring.active=!1,this._touchLocation=t.getUILocation(),this.ring.setPosition(e),this.dot.setPosition(new d));this.touchStartTime=Date.now(),E.Is_Guide&&f.instance.currentGuideID===_.DragMoveStart&&(f.instance.currentGuideID=_.DragMoveTouchStart)}},s._touchMoveEvent=function(t){if(this.dot&&this.ring){if(this.joystickType===V.FOLLOW&&this._touchLocation===t.getUILocation())return!1;var i=t.getUILocation(),e=new d(i.x,i.y);this.node.getComponent(p).convertToNodeSpaceAR(e,e);var n=e.subtract(this.ring.getPosition()),o=n.length();this.radius>o?this.dot.setPosition(n):this.dot.setPosition(n.normalize().multiplyScalar(this.radius)),this._dirVec3=n.clone().normalize(),this.arrow.angle=g.radiansToDegrees(Math.atan2(this._dirVec3.y,this._dirVec3.x))-90,E.Is_Guide&&f.instance.currentGuideID===_.DragMoveTouchStart&&(Date.now()-this.touchStartTime)/1e3>=1&&(f.instance.currentGuideID=_.DragMoveTouchEnd)}},s._touchEndEvent=function(t){this.dot&&this.ring&&(this.dot.setPosition(new d),this.joystickType===V.FOLLOW&&(this.node.getChildByName("ring").getComponent(y).opacity=0,this.tip_ring.active=!0),this.arrow.angle=0,this._dirVec3=null)},s.setNull=function(){E.Is_Guide&&(this.dot.setPosition(new d),this.joystickType===V.FOLLOW&&(this.node.getChildByName("ring").getComponent(y).opacity=0,this.tip_ring.active=!0),this._dirVec3=null)},r(i,[{key:"dirVec3",get:function(){return this._dirVec3}}]),i}(T)).prototype,"dot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(N.prototype,"ring",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(N.prototype,"joystickType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.FIXED}}),P=i(N.prototype,"directionType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.ALL}}),R=i(N.prototype,"radius",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),A=i(N.prototype,"tip_ring",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(N.prototype,"arrow",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(e){"use strict";var o,t,n,i,a,r,l,s,d,c,p,u,g;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,s=e.Tween,d=e.tween},function(e){c=e.LayerType,p=e.EnShowPopType,u=e.EnHidePopType,g=e.BaseUI}],execute:function(){var y,h,f,N,T,m;a._RF.push({},"e2aefg6YhxDSJbi3OSmdC6x","loading",void 0);var v=r.ccclass,b=r.property;e("default",(y=v("loading"),h=b(l),y(((m=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=e.call.apply(e,[this].concat(a))||this).m_layerType=c.topMost,o.m_ShowPopType=p.max,o.m_HidePopType=u.max,n(o,"loadingNode",T,i(o)),o}t(o,e);var a=o.prototype;return a.onEnable=function(){var e=this;this.loadingNode&&(s.stopAllByTarget(this.loadingNode),this.loadingNode.angle=0,d(this.loadingNode).repeatForever(d().to(1,{angle:-360}).call((function(){e.loadingNode.angle=0}))).start())},a.onDisable=function(){this.loadingNode&&s.stopAllByTarget(this.loadingNode)},o}(g)).className="loading",T=o((N=m).prototype,"loadingNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=N))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./UIManager.ts","./PlayUI.ts","./GameConfig.ts","./SoundManager.ts","./DataManager.ts"],(function(e){"use strict";var n,t,r,o,a,i,s,l,u,c,p,f,g,d,b,_,y,h,m,I,P,U;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator},function(e){i=e.cclegacy,s=e._decorator,l=e.Node,u=e.Label,c=e.sp,p=e.resources,f=e.Sprite,g=e.v3},function(e){d=e.EnShowPopType,b=e.EnHidePopType,_=e.BaseUI},function(e){y=e.default},function(e){h=e.default},function(e){m=e.GameConfig},function(e){I=e.SoundManager,P=e.AudioClipRes},function(e){U=e.default}],execute:function(){var v,w,L,R,S,k,x,D,T,z,A,B;i._RF.push({},"0b89bAuSNFESbjFVxn7WtBX","LoadingUI",void 0);var F=s.ccclass,M=s.property;e("default",(v=F("LoadingUI"),w=M(l),L=M(l),R=M(u),S=M(c.Skeleton),v(((B=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,r(n,"progress_bar",D,o(n)),r(n,"loading_tank",T,o(n)),r(n,"progress_label",z,o(n)),r(n,"logo_spine",A,o(n)),n.m_ShowPopType=d.max,n.m_HidePopType=b.max,n}t(n,e);var i=n.prototype;return i.onLoad=function(){this.logo_spine.node.active=!1,this.logo_spine.clearTracks(),this.logo_spine.node.active=!0,this.logo_spine.setAnimation(0,"Loading",!1)},i.start=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.instance.playSound(P.PlayUI,1,!0),e.next=3,Promise.all([this.loadPrefab(),U.instance.initData()]);case 3:return e.next=5,y.instance.showUI(h,!1);case 5:y.instance.closeUI(n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.loadPrefab=function(){var e=this;return new Promise((function(n){var t=0,r=[m.PREFAB_UI_DIR+"PlayUI",m.PREFAB_UI_DIR+"GameUI"];p.load(r,(function(n,r,o){n/r>t&&(t=n/r),e.progress_bar.getComponent(f).fillRange=t,e.progress_label.string="Loading "+Math.floor(100*t)+"%",e.loading_tank.setPosition(g(954*t-5,8,0))}),(function(e,t){n()}))}))},n}(_)).className="LoadingUI",D=n((x=B).prototype,"progress_bar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(x.prototype,"loading_tank",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(x.prototype,"progress_label",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(x.prototype,"logo_spine",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=x))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalServerManager.ts",["cc","./GameManager.ts","./MXBattle.ts","./DataManager.ts","./GuideManager.ts","./proto.mjs_cjs=&original=.js","./GameState.ts","./ConstValue.ts","./MessageManager.ts","./proto.js"],(function(t){"use strict";var n,e,a,s,i,r,p,u,l,o;return{setters:[function(t){n=t.cclegacy},function(t){e=t.GameManager},function(t){a=t.mxBattle},function(t){s=t.default},function(t){i=t.GuidePlayerId},null,function(t){r=t.GameStatus},function(t){p=t.ConstValue},function(t){u=t.default,l=t.EventType},function(t){o=t.default}],execute:function(){n._RF.push({},"5eb19AjufJJl6LahssSvI6x","LocalServerManager",void 0);var c=t("LocalServerManager",function(){function t(){this.pendingInputs=[],this.playerLastSn={},this._st=null}var n=t.prototype;return n.run=function(){this._st=setInterval(this.frameUpdate.bind(this,p.ClientFrameTime/1e3),p.ClientFrameTime)},n.stop=function(){this._st&&clearInterval(this._st)},n.ParseSocketParameters=function(t,n){var a=this;"SystemOK"===t&&(e.instance.gameStatus=r.Ing,this.playerLastSn={},this.pendingInputs=[],this.createPlayers(),this.run(),u.instance.emit(l.START_GAME)),"CLIENT_INPUT"===t&&n.inputs.forEach((function(t){a.playerLastSn[t.input.playerId]=t.sn,a.applyInput(t.input)}))},n.frameUpdate=function(t){var n=this.pendingInputs;this.pendingInputs=[],this.applyInput({type:o.GameSystemInput.INPUT_TYPE.TIME_PAST,dt:Math.floor(1e3*t)}),e.instance._onServerSync({inputs:n,lastSnList:[this.playerLastSn[i],this.playerLastSn[i],this.playerLastSn[i],this.playerLastSn[i],this.playerLastSn[i],this.playerLastSn[i]]})},n.applyInput=function(t){this.pendingInputs.push(t)},n.createPlayers=function(){if(a.Is_Guide)for(var t=0;t<1;t++){var n={type:o.GameSystemInput.INPUT_TYPE.PLAYER_JOIN,playerId:"player"+t,bornID:t,skin:'{"T_1":"100002","T_2":"200003","T_3":[]}',isAI:0!==t};this.applyInput(n)}else if(s.instance.isAI)for(var e=0;e<6;e++){var i={type:o.GameSystemInput.INPUT_TYPE.PLAYER_JOIN,playerId:"player"+e,bornID:e,skin:'{"T_1":"100002","T_2":"200003","T_3":[]}',isAI:0!==e};this.applyInput(i)}},t}());c.instance=new c,n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BaseCamera.ts","./FollowCamera.ts","./LabelFixed1.ts","./ConstValue.ts","./GameConfig.ts","./ScreenObjConfig.ts","./CollisionManager.ts","./AgentComp.ts","./MatComp.ts","./Bullet.ts","./Prop.ts","./BaseTank.ts","./PlayerTank.ts","./GameCtrl.ts","./GameManager.ts","./GameSystem.ts","./MultipleScoreItem.ts","./WallExplode.ts","./GameState.ts","./TestSocket.ts","./Main.ts","./DataManager.ts","./GuideManager.ts","./LocalServerManager.ts","./MessageManager.ts","./NetWorkManager.ts","./PlatformManager.ts","./SocketManager.ts","./SoundManager.ts","./UIManager.ts","./Grid.ts","./MXBattle.ts","./BaseUI.ts","./GameOverUI.ts","./GameCountdown.ts","./GameMapUI.ts","./GameUI.ts","./LabelFixed.ts","./LeftJoyStick.ts","./LoadingUI.ts","./MatchUI.ts","./PlayerItem.ts","./PlayUI.ts","./QuitUI.ts","./RightJoyStick.ts","./ShopMainUI.ts","./ShopRedeemUI.ts","./UpToggleBtn.ts","./loading.ts","./Astar.ts","./Decimal.ts","./OBB.ts","./QuadTree.ts","./Utils.ts","./Vector2.ts","./aiPlayerAstar.ts","./eMath.ts","./md5.ts","./PlayerTankTest.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstValue.ts","./GameManager.ts","./DataManager.ts","./MessageManager.ts","./PlatformManager.ts","./SoundManager.ts","./UIManager.ts","./GameOverUI.ts","./LoadingUI.ts"],(function(e){"use strict";var t,n,a,r,i,o,s,u,c,f,l,d,p,g,h,m,y,v,M,S,b,I,w,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,u=e.AudioSource,c=e.Node,f=e.UITransform,l=e.sys,d=e.game,p=e.Component},function(e){g=e.ConstValue},function(e){h=e.GameManager},function(e){m=e.default,y=e.PlayerInfo},function(e){v=e.default,M=e.EventType},function(e){S=e.default},function(e){b=e.SoundManager},function(e){I=e.default},function(e){w=e.default},function(e){A=e.default}],execute:function(){var G,O,_,N,R,U,P;o._RF.push({},"0dc456mCBtIS4OOLsQ4gk2g","Main",void 0);var C=s.ccclass,D=s.property;e("Main",(G=C("Main"),O=D(u),_=D(c),G((U=t((R=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"bgmAudioSource",U,r(t)),a(t,"effectAudioSourceNode",P,r(t)),t._isShownGameOver=!1,t}n(t,e);var o=t.prototype;return o.onLoad=function(){m.instance.stageWidth=this.node.getComponent(f).width,m.instance.stageHeight=this.node.getComponent(f).height,this._isShownGameOver=!1;var e=l.localStorage.getItem("Tank3D_2");if(S.instance.gameInit(),I.instance.init(),d.addPersistRootNode(this.bgmAudioSource.node),d.addPersistRootNode(this.effectAudioSourceNode),b.instance.init(this.bgmAudioSource,this.effectAudioSourceNode),b.instance.SystemVolume=null===e?1:Number(e),v.instance.on(M.GAME_OVER,this.onGameOver,this),m.instance.isAI){h.instance.selfPlayerId="player0";for(var t=0;t<6;t++)m.instance.playerInfoMap.set("player"+t,new y("player"+t,g.testUserMap.get("player"+t).name,g.testUserMap.get("player"+t).avatar))}},o.onDestroy=function(){v.instance.off(M.GAME_OVER,this.onGameOver,this)},o.start=function(){I.instance.showUI(A,!0)},o.onGameOver=function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isShownGameOver){e.next=2;break}return e.abrupt("return");case 2:return this._isShownGameOver=!0,e.next=5,I.instance.showUI(w);case 5:I.instance.OnMsg(w,"",t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(p)).prototype,"bgmAudioSource",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(R.prototype,"effectAudioSourceNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=R))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/MatchUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameCtrl.ts","./GameManager.ts","./DataManager.ts","./MessageManager.ts","./PlatformManager.ts","./SocketManager.ts","./SoundManager.ts","./UIManager.ts","./eMath.ts","./BaseUI.ts","./GameUI.ts","./PlayerItem.ts"],(function(e){"use strict";var n,t,a,i,r,o,s,c,u,l,f,p,d,m,h,y,g,I,M,v,C,P,S,w,b,U,k,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,c=e.sp,u=e.Node,l=e.instantiate,f=e.v3,p=e.tween},function(e){d=e.GameConfig},function(e){m=e.default},function(e){h=e.GameManager},function(e){y=e.default},function(e){g=e.default,I=e.EventType},function(e){M=e.default},function(e){v=e.default},function(e){C=e.SoundManager},function(e){P=e.default},function(e){S=e.eMath},function(e){w=e.EnShowPopType,b=e.EnHidePopType,U=e.BaseUI},function(e){k=e.GameUI},function(e){T=e.PlayerItem}],execute:function(){var x,G,N,_,B,E,R,L;o._RF.push({},"9033aGNy9VFJJKChyyPzY7s","MatchUI",void 0);var z=s.ccclass,A=s.property;e("default",(x=z("MatchUI"),G=A(c.Skeleton),N=A(u),x(((L=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).m_ShowPopType=w.max,n.m_HidePopType=b.max,a(n,"spine",E,i(n)),a(n,"playerItemNode",R,i(n)),n}t(n,e);var o=n.prototype;return o.onLoad=function(){this.spine.node.active=!1},o.OnMsg=function(){var e=r(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("gameLoaded"!==t){e.next=14;break}return h.instance.init(),e.next=5,P.instance.showUI(k);case 5:m.instance.reset(),P.instance.closeUI(n),e.next=12;break;case 9:C.instance.resetEffectAudioSource(),C.instance.stopBGM(),M.instance.gameLoaded();case 12:e.next=15;break;case 14:"battleInfo"===t&&Promise.all([this.doAnimation(),this.socketConnect()]).then(r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.bgType=S.getRandomBySeed(v.instance.randomSeed,1,3),e.next=3,P.instance.showUI(k);case 3:m.instance.ready(v.instance.randomSeed),P.instance.closeUI(n);case 5:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),o.doAnimation=function(){var e=this,n=[];n.push(new Promise((function(n){e.spine.clearTracks(),e.scheduleOnce((function(){e.spine.node.active=!0,e.spine.setAnimation(0,"animation",!1)}),.3),e.spine.setCompleteListener(n)})));var t=0;return y.instance.playerInfoMap.forEach((function(a){t++;var i=l(e.playerItemNode);i.active=!0,t<=3?e.node.getChildByName("upPlayerContent").addChild(i):e.node.getChildByName("bottomPlayerContent").addChild(i),i.getComponent(T).setData(a),i.scale=f(),n.push(new Promise((function(e){p(i).delay(.3).to(.3,{scale:f(1,1,1)},{easing:"backOut"}).delay(2).call(e).start()})))})),Promise.all(n)},o.socketConnect=function(){var e=this;return new Promise((function(n){v.instance.initSocket(),g.instance.targetOff(e),g.instance.once(I.SOCKET_INIT_SUCCESS,(function(){n()}),e)}))},n}(U)).className="MatchUI",E=n((B=L).prototype,"spine",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(B.prototype,"playerItemNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=B))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/MatComp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,s,o,n,a,h,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,a=t.MeshRenderer,h=t.CCBoolean,l=t.Color,c=t.Component}],execute:function(){var u,p,m,P,f,d,y;o._RF.push({},"4f0b7cyWKRHkbqwocAqg3TB","MatComp",void 0);var b=n.ccclass,C=n.property;t("MatComp",(u=b("材质颜色组件"),p=C({type:a,tooltip:"角色mesh材质"}),m=C(h),u((d=e((f=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,i(e,"mesh",d,s(e)),i(e,"isBase",y,s(e)),e.mat=null,e.colorEle=null,e.currentProp=null,e.lineWidth=30,e}r(e,t);var o=e.prototype;return o.start=function(){this.mat=this.mesh.material},o.onDisable=function(){this.colorEle=null,this.currentProp=null},o.setProp=function(t,e){this.lineWidth=t.lineWidth,this.mesh||(this.mesh=this.node.getComponent(a),this.mat=this.mesh.material),this.currentProp=t.prop,this.colorEle=t.color,this.unschedule(this.resetProp),this.changeProp(e),t.dura>0&&this.scheduleOnce(this.resetProp,t.dura)},o.changeProp=function(t){this.mesh.setMaterial(t,0),this.mat=this.mesh.material,this.mat.setProperty("lineWidth",this.lineWidth),this.mat.setProperty(this.currentProp,this.colorEle)},o.resetProp=function(){this.mat.setProperty("lineWidth",0),"baseColor"!=this.currentProp?this.mat.setProperty(this.currentProp,"mainColor"==this.currentProp?l.WHITE:l.TRANSPARENT):this.mat.setProperty(this.currentProp,l.BLACK)},o.resetMat=function(t){this.mesh.setMaterial(t,0),this.mat=this.mesh.material},e}(c)).prototype,"mesh",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"isBase",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=f))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/md5.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"4519aEuaZZPwL01/da0PUWJ","md5",void 0);t("md5",function(){function t(){this.hexcase=0,this.b64pad=""}var r=t.prototype;return r.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},r.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},r.any_md5=function(t,r){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),r)},r.hex_hmac_md5=function(t,r){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(r)))},r.b64_hmac_md5=function(t,r){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(r)))},r.any_hmac_md5=function(t,r,h){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(r)),h)},r.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},r.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},r.rstr_hmac_md5=function(t,r){var h=this.rstr2binl(t);h.length>16&&(h=this.binl_md5(h,8*t.length));for(var i=Array(16),s=Array(16),d=0;d<16;d++)i[d]=909522486^h[d],s[d]=1549556828^h[d];var n=this.binl_md5(i.concat(this.rstr2binl(r)),512+8*r.length);return this.binl2rstr(this.binl_md5(s.concat(n),640))},r.rstr2hex=function(t){try{this.hexcase}catch(t){this.hexcase=0}for(var r,h=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",s=0;s<t.length;s++)r=t.charCodeAt(s),i+=h.charAt(r>>>4&15)+h.charAt(15&r);return i},r.rstr2b64=function(t){try{this.b64pad}catch(t){this.b64pad=""}for(var r="",h=t.length,i=0;i<h;i+=3)for(var s=t.charCodeAt(i)<<16|(i+1<h?t.charCodeAt(i+1)<<8:0)|(i+2<h?t.charCodeAt(i+2):0),d=0;d<4;d++)8*i+6*d>8*t.length?r+=this.b64pad:r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>>6*(3-d)&63);return r},r.rstr2any=function(t,r){var h,i,s,d,n,_=r.length,m=Array(Math.ceil(t.length/2));for(h=0;h<m.length;h++)m[h]=t.charCodeAt(2*h)<<8|t.charCodeAt(2*h+1);var e=Math.ceil(8*t.length/(Math.log(r.length)/Math.log(2))),f=Array(e);for(i=0;i<e;i++){for(n=Array(),d=0,h=0;h<m.length;h++)d=(d<<16)+m[h],d-=(s=Math.floor(d/_))*_,(n.length>0||s>0)&&(n[n.length]=s);f[i]=d,m=n}var a="";for(h=f.length-1;h>=0;h--)a+=r.charAt(f[h]);return a},r.str2rstr_utf8=function(t){for(var r,h,i="",s=-1;++s<t.length;)r=t.charCodeAt(s),h=s+1<t.length?t.charCodeAt(s+1):0,55296<=r&&r<=56319&&56320<=h&&h<=57343&&(r=65536+((1023&r)<<10)+(1023&h),s++),r<=127?i+=String.fromCharCode(r):r<=2047?i+=String.fromCharCode(192|r>>>6&31,128|63&r):r<=65535?i+=String.fromCharCode(224|r>>>12&15,128|r>>>6&63,128|63&r):r<=2097151&&(i+=String.fromCharCode(240|r>>>18&7,128|r>>>12&63,128|r>>>6&63,128|63&r));return i},r.str2rstr_utf16le=function(t){for(var r="",h=0;h<t.length;h++)r+=String.fromCharCode(255&t.charCodeAt(h),t.charCodeAt(h)>>>8&255);return r},r.str2rstr_utf16be=function(t){for(var r="",h=0;h<t.length;h++)r+=String.fromCharCode(t.charCodeAt(h)>>>8&255,255&t.charCodeAt(h));return r},r.rstr2binl=function(t){for(var r=Array(t.length>>2),h=0;h<r.length;h++)r[h]=0;for(h=0;h<8*t.length;h+=8)r[h>>5]|=(255&t.charCodeAt(h/8))<<h%32;return r},r.binl2rstr=function(t){for(var r="",h=0;h<32*t.length;h+=8)r+=String.fromCharCode(t[h>>5]>>>h%32&255);return r},r.binl_md5=function(t,r){t[r>>5]|=128<<r%32,t[14+(r+64>>>9<<4)]=r;for(var h=1732584193,i=-271733879,s=-1732584194,d=271733878,n=0;n<t.length;n+=16){var _=h,m=i,e=s,f=d;h=this.md5_ff(h,i,s,d,t[n+0],7,-680876936),d=this.md5_ff(d,h,i,s,t[n+1],12,-389564586),s=this.md5_ff(s,d,h,i,t[n+2],17,606105819),i=this.md5_ff(i,s,d,h,t[n+3],22,-1044525330),h=this.md5_ff(h,i,s,d,t[n+4],7,-176418897),d=this.md5_ff(d,h,i,s,t[n+5],12,1200080426),s=this.md5_ff(s,d,h,i,t[n+6],17,-1473231341),i=this.md5_ff(i,s,d,h,t[n+7],22,-45705983),h=this.md5_ff(h,i,s,d,t[n+8],7,1770035416),d=this.md5_ff(d,h,i,s,t[n+9],12,-1958414417),s=this.md5_ff(s,d,h,i,t[n+10],17,-42063),i=this.md5_ff(i,s,d,h,t[n+11],22,-1990404162),h=this.md5_ff(h,i,s,d,t[n+12],7,1804603682),d=this.md5_ff(d,h,i,s,t[n+13],12,-40341101),s=this.md5_ff(s,d,h,i,t[n+14],17,-1502002290),i=this.md5_ff(i,s,d,h,t[n+15],22,1236535329),h=this.md5_gg(h,i,s,d,t[n+1],5,-165796510),d=this.md5_gg(d,h,i,s,t[n+6],9,-1069501632),s=this.md5_gg(s,d,h,i,t[n+11],14,643717713),i=this.md5_gg(i,s,d,h,t[n+0],20,-373897302),h=this.md5_gg(h,i,s,d,t[n+5],5,-701558691),d=this.md5_gg(d,h,i,s,t[n+10],9,38016083),s=this.md5_gg(s,d,h,i,t[n+15],14,-660478335),i=this.md5_gg(i,s,d,h,t[n+4],20,-405537848),h=this.md5_gg(h,i,s,d,t[n+9],5,568446438),d=this.md5_gg(d,h,i,s,t[n+14],9,-1019803690),s=this.md5_gg(s,d,h,i,t[n+3],14,-187363961),i=this.md5_gg(i,s,d,h,t[n+8],20,1163531501),h=this.md5_gg(h,i,s,d,t[n+13],5,-1444681467),d=this.md5_gg(d,h,i,s,t[n+2],9,-51403784),s=this.md5_gg(s,d,h,i,t[n+7],14,1735328473),i=this.md5_gg(i,s,d,h,t[n+12],20,-1926607734),h=this.md5_hh(h,i,s,d,t[n+5],4,-378558),d=this.md5_hh(d,h,i,s,t[n+8],11,-2022574463),s=this.md5_hh(s,d,h,i,t[n+11],16,1839030562),i=this.md5_hh(i,s,d,h,t[n+14],23,-35309556),h=this.md5_hh(h,i,s,d,t[n+1],4,-1530992060),d=this.md5_hh(d,h,i,s,t[n+4],11,1272893353),s=this.md5_hh(s,d,h,i,t[n+7],16,-155497632),i=this.md5_hh(i,s,d,h,t[n+10],23,-1094730640),h=this.md5_hh(h,i,s,d,t[n+13],4,681279174),d=this.md5_hh(d,h,i,s,t[n+0],11,-358537222),s=this.md5_hh(s,d,h,i,t[n+3],16,-722521979),i=this.md5_hh(i,s,d,h,t[n+6],23,76029189),h=this.md5_hh(h,i,s,d,t[n+9],4,-640364487),d=this.md5_hh(d,h,i,s,t[n+12],11,-421815835),s=this.md5_hh(s,d,h,i,t[n+15],16,530742520),i=this.md5_hh(i,s,d,h,t[n+2],23,-995338651),h=this.md5_ii(h,i,s,d,t[n+0],6,-198630844),d=this.md5_ii(d,h,i,s,t[n+7],10,1126891415),s=this.md5_ii(s,d,h,i,t[n+14],15,-1416354905),i=this.md5_ii(i,s,d,h,t[n+5],21,-57434055),h=this.md5_ii(h,i,s,d,t[n+12],6,1700485571),d=this.md5_ii(d,h,i,s,t[n+3],10,-1894986606),s=this.md5_ii(s,d,h,i,t[n+10],15,-1051523),i=this.md5_ii(i,s,d,h,t[n+1],21,-2054922799),h=this.md5_ii(h,i,s,d,t[n+8],6,1873313359),d=this.md5_ii(d,h,i,s,t[n+15],10,-30611744),s=this.md5_ii(s,d,h,i,t[n+6],15,-1560198380),i=this.md5_ii(i,s,d,h,t[n+13],21,1309151649),h=this.md5_ii(h,i,s,d,t[n+4],6,-145523070),d=this.md5_ii(d,h,i,s,t[n+11],10,-1120210379),s=this.md5_ii(s,d,h,i,t[n+2],15,718787259),i=this.md5_ii(i,s,d,h,t[n+9],21,-343485551),h=this.safe_add(h,_),i=this.safe_add(i,m),s=this.safe_add(s,e),d=this.safe_add(d,f)}return[h,i,s,d]},r.md5_cmn=function(t,r,h,i,s,d){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(r,t),this.safe_add(i,d)),s),h)},r.md5_ff=function(t,r,h,i,s,d,n){return this.md5_cmn(r&h|~r&i,t,r,s,d,n)},r.md5_gg=function(t,r,h,i,s,d,n){return this.md5_cmn(r&i|h&~i,t,r,s,d,n)},r.md5_hh=function(t,r,h,i,s,d,n){return this.md5_cmn(r^h^i,t,r,s,d,n)},r.md5_ii=function(t,r,h,i,s,d,n){return this.md5_cmn(h^(r|~i),t,r,s,d,n)},r.safe_add=function(t,r){var h=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(h>>16)<<16|65535&h},r.bit_rol=function(t,r){return t<<r|t>>>32-r},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/MessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(_){"use strict";var E,T,A,S;return{setters:[function(_){E=_.inheritsLoose,T=_.createClass},function(_){A=_.cclegacy,S=_.EventTarget}],execute:function(){A._RF.push({},"4ac6aS6cHtCJYXmpypol3+X","MessageManager",void 0);var O=_("EventType",(function(){}));O.SOCKET_INIT_SUCCESS="SOCKET_INIT_SUCCESS",O.GAME_OVER="GAME_OVER",O.TANK_MOVE_START="TANK_MOVE_START",O.TANK_MOVE_ING="TANK_MOVE_ING",O.TANK_MOVE_END="TANK_MOVE_END",O.TANK_BARREL_ROTATE="TANK_BARREL_ROTATE",O.TANK_SHOOT="TANK_SHOOT",O.ON_RECV_SYNC="ON_RECV_SYNC",O.UPDATE_SHOP_ITEM_DATA="UPDATE_SHOP_ITEM_DATA",O.UPDATE_COIN_CASH="UPDATE_COIN_CASH",O.CREATE_EMOJI="CREATE_EMOJI",O.GET_NEW_SKIN="GET_NEW_SKIN",O.UPDATE_RED_POINT="UPDATE_RED_POINT",O.SET_JOYSTICK_TYPE="SET_JOYSTICK_TYPE",O.OPEN_SHOP_UI="OPEN_SHOP_UI",O.CLOSE_SHOP_UI="CLOSE_SHOP_UI",O.UPDATE_PLAYUI_TANK="UPDATE_PLAYUI_TANK",O.MATCH_SUCCESS="MATCH_SUCCESS",O.UPDATE_RELIVE_TIME="UPDATE_RELIVE_TIME",O.AI_TANK_SHOOT="AI_TANK_SHOOT",O.FIRE_TWEEN="FIRE_TWEEN",O.PLAYER_EXPLODE="PLAYER_EXPLODE",O.MUZZLE_FLAME="MUZZLE_FLAME",O.WALL_BE_HIT="WALL_BE_HIT",O.START_GAME_HEATR_BEAT="START_GAME_HEATR_BEAT",O.STOP_GAME_HEATR_BEAT="STOP_GAME_HEATR_BEAT",O.GET_PING="GET_PING",O.SHOW_EMOJI="SHOW_EMOJI",O.PLAYER_BE_HIT="PLAYER_BE_HIT",O.AI_BE_HIT="AI_BE_HIT",O.UPDATE_FRAME_RENDER="UPDATE_FRAME_RENDER",O.UPDATE_GRASS_ENTITYS="UPDATE_GRASS_ENTITYS",O.START_GAME_TIME_COUNT_DOWN="START_GAME_TIME_COUNT_DOWN",O.STOP_GAME_TIME_COUNT_DOWN="STOP_GAME_TIME_COUNT_DOWN",O.GAME_TIME_COUNT_DOWN="GAME_TIME_COUNT_DOWN",O.CREATE_PLAYER_BASE="CREATE_PLAYER_BASE",O.PLAYER_BASE_BE_HIT="PLAYER_BASE_BE_HIT",O.SELF_PLAYER_BASE_BE_HIT="SELF_PLAYER_BASE_BE_HIT",O.SHOW_DRAW="SHOW_DRAW",O.START_GAME="START_GAME",O.DOUBLE_SCORE="DOUBLE_SCORE",O.TRIPLE_SCORE="TRIPLE_SCORE",_("default",function(_){function A(){return _.apply(this,arguments)||this}return E(A,_),T(A,null,[{key:"instance",get:function(){return this._instance||(this._instance=new A),this._instance}}]),A}(S))._instance=null,A._RF.pop()}}}));

System.register("chunks:///_virtual/MultipleScoreItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n,o,c,l,a,u,p,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,l=e.SpriteFrame,a=e.Sprite,u=e.Label,p=e.Color,s=e.Component}],execute:function(){var f,m,b,h,y,S,d,g,v,x,I;o._RF.push({},"16c671pJiZIBa8cyGXHrrqF","MultipleScoreItem",void 0);var k=c.ccclass,N=c.property;e("MultipleScoreItem",(f=k("MultipleScoreItem"),m=N({type:l}),b=N(a),h=N(u),y=N(u),f((g=r((d=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,i(r,"indexSpArr",g,n(r)),i(r,"indexSprite",v,n(r)),i(r,"nickName",x,n(r)),i(r,"score",I,n(r)),r}t(r,e);var o=r.prototype;return o.start=function(){},o.setIndex=function(e){this.indexSprite.spriteFrame=this.indexSpArr[e]},o.setData=function(e,r,t){void 0===t&&(t=!1),this.score.string=r.toString(),t?(this.nickName.string="You",this.nickName.color=p.GREEN):(this.nickName.string=e,this.nickName.color=p.WHITE)},r}(s)).prototype,"indexSpArr",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=r(d.prototype,"indexSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(d.prototype,"nickName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(d.prototype,"score",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=d))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/MXBattle.ts",["cc","./GameManager.ts","./DataManager.ts","./PlatformManager.ts","./SocketManager.ts","./UIManager.ts","./MatchUI.ts"],(function(e){"use strict";var a,t,n,s,i,r,o,m,c;return{setters:[function(e){a=e.cclegacy,t=e.game},function(e){n=e.GameManager},function(e){s=e.default,i=e.PlayerInfo},function(e){r=e.DeviceUtil},function(e){o=e.default},function(e){m=e.default},function(e){c=e.default}],execute:function(){a._RF.push({},"ab67biJAm5JV6MIejTXdGIf","MXBattle",void 0);e("mxBattle",new(function(){function e(){this.Game_Version="1.0.0",this.GameId="2a5c00fb1064541e7af8b5c2adce5bf3",this.BattleId="",this.RoomId="4f4b7518761dc9533f9f2cc4c77b561d_c4d2cgjqgkce9tkehg5g",this.UserId="{gl}{105703864268857411278}",this.Game_Start_Time=0,this.Is_Guide=!1,this.Is_GameInitComplete=!1,this.is_over=!1}var a=e.prototype;return a.onGameInit=function(){if(r.IsMXGame){var e=gameManager.onGameInit(),a=JSON.parse(e);this.GameId=a.gameId,//!#zh 如需接入商城，userId_===""时为未登录用户，需要提示用户登录之后才能打开商城
this.UserId=a.userId,//!#zh isFirstOpen===true 用户首次打开游戏，如需新手引导可用此字段判断 
null!==a.isFirstOpen&&void 0!==a.isFirstOpen&&(this.Is_Guide=a.isFirstOpen),this.Is_GameInitComplete=!0}},a.onGameStart=function(){r.IsMXGame&&gameManager.onGameStart()},a.onGameLoaded=function(){if(console.log("-------game_version--------:"+this.Game_Version),r.IsMXGame){var e={GameVersion:this.Game_Version};gameManager.onGameLoaded(JSON.stringify(e)),this.Game_Start_Time=Date.now(),t.on("commonEventInterface",this.commonEventInterface_battle,this)}},a.onGameCleanPosters=function(){r.IsMXGame&&gameManager.onGameCleanPosters()},a.onBattleGameOver=function(){if(r.IsMXGame&&!this.is_over){this.is_over=!0;var e={gameId:this.GameId,battleId:this.BattleId,roomId:this.RoomId,battle_info:{currentscore:0,oppoScore:0}},a={roomID:this.BattleId,playtime:Math.round((Date.now()-this.Game_Start_Time)/1e3)};gameManager.onTrack("gameExit",JSON.stringify(a)),
//!#zh 此为自定义打点，可忽略
//!#zh info是游戏结束的上报数据
gameManager.onBattleGameOver(JSON.stringify(e))}},a.commonEventInterface_battle=function(e,a){switch(e){case"backPressed":case"screenOn":break;case"screenOff":t.emit("userGamePausedCall"),t.emit("userPausedViewShowCall");break;case"pagePause":t.emit("eventGamePausedCall"),t.emit("eventMusicPausedCall");break;case"pageResume":t.emit("eventGameResumeCall"),t.emit("eventMusicResumeCall");break;case"userPresent":break;
//!#en Battle data
//!#zh 对战数据
case"userMatched":this.battleInfo(a)}},a.battleInfo=function(e){console.log("battleinfo"+e);var a=JSON.parse(e);this.GameId=a.gameId,this.BattleId=a.battleId,this.RoomId=a.roomId;var t=a.users.find((function(e){return e.userId===a.selfUserId}));t&&(n.instance.selfPlayerId=t.playerId),a.users.forEach((function(e){s.instance.playerInfoMap.set(e.playerId,new i(e.playerId,e.name,e.avatar))})),//!#zh websocket地址
o.instance.connecturl=a.connectUrl;//!#zh 游戏开始打点
var r={roomID:this.RoomId};gameManager.onTrack("gameStart",JSON.stringify(r)),//!#en Close App layer matching interface,If there is a matching animation in the game, it can be called after this
//!#zh 关闭平台匹配页面，如游戏内有匹配动画，可在此之后调用
this.onGameCleanPosters(),m.instance.OnMsg(c,"battleInfo",null)},e}()));a._RF.pop()}}}));

System.register("chunks:///_virtual/NetWorkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MXBattle.ts","./md5.ts","./Utils.ts","./DataManager.ts","./MessageManager.ts","./PlatformManager.ts","./UIManager.ts"],(function(e){"use strict";var t,r,n,a,s,o,u,i,c,d,m,p,h;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator},function(e){n=e.cclegacy,a=e.game,s=e.log},function(e){o=e.mxBattle},function(e){u=e.md5},function(e){i=e.default},function(e){c=e.default},function(e){d=e.default,m=e.EventType},function(e){p=e.default},function(e){h=e.default}],execute:function(){n._RF.push({},"d95efNlNatKsrbrHqgwQj64","NetWorkManager",void 0),e("default",function(){function e(){this.url="",this.headData="data",this.url="https://androidapi.dev.mxplay.com/",this.headData="data1"}var n=e.prototype;return n.request=function(){var e=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=""),e.abrupt("return",new Promise((function(e,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState&&a.status>=200&&a.status<400){var t=a.response,r=JSON.parse(t);console.log("res",r),e(r)}},a.open(t.mothod,t.url,!0),a.responseType="text",a.setRequestHeader("x-debug-nosign","1"),a.setRequestHeader("x-mcc","404"),a.setRequestHeader("x-packagename","com.mxtech.videoplayer.ad"),a.setRequestHeader("x-app-version","1310001300"),a.setRequestHeader("authorization","eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6IntnbH17MTA1NzAzODY0MjY4ODU3NDExMjc4fSIsImNyZWF0aW1lIjoxNjA4NTMyMjc4fQ.SeAKZcWIFT73V8u17a8LiGeTa5-rJ6h1JmJMqtLU6xY"),a.setRequestHeader("x-userid",o.UserId),a.send(r)})));case 5:return e.next=7,this.mxRequest(t,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.mxRequest=function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n,s,o,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=""),n=t.url,s=t.mothod,o=t.xgamecode,e.abrupt("return",new Promise((function(e,t){var i={"x-game-code":o},c={url:n,header:JSON.stringify(i),body:r,method:s};a.on("network",(function(t,r){console.log("network name"+t),console.log("network data"+JSON.stringify(r)),0!=r.status||200!=r.result.statusCode?(a.emit("networkERR"),e(null)):e(r.result.data)}),u),gameManager.invoke("network","request",JSON.stringify(c))})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.getProps=function(){var e=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mothod:g,url:this.url+"v1/game/"+this.headData+"/items?gameId="+o.GameId,xgamecode:"getProps"},e.next=3,this.request(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getUserData=function(){var e=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mothod:g,url:this.url+"v1/game/"+this.headData+"/player?gameId="+o.GameId,xgamecode:"getUserData"},e.next=3,this.request(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getToken=function(){var e=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mothod:g,url:this.url+"v1/game/"+this.headData+"/token?roomId="+o.RoomId,xgamecode:"getToken"},e.next=3,this.request(t);case 3:return r=e.sent,e.abrupt("return",r.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.postUserData=function(){var e=r(regeneratorRuntime.mark((function e(){var t,r,n,a,d,m,p,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new u,e.next=3,this.getToken();case 3:return r=e.sent,n=r+o.UserId+o.RoomId+i.skinObjConvertToString(),s("random0---",n),a=t.hex_md5(n),s("random1---",a),d=t.hex_md5(a+r),s("random2---",d),m={gameId:o.GameId,roomId:o.RoomId,token:r,random:d,data:c.instance.getPostData()},p=m,h={mothod:f,url:this.url+"v1/game/"+this.headData+"/player",xgamecode:"postUserData"},e.next=15,this.request(h,JSON.stringify(p));case 15:return g=e.sent,e.abrupt("return",g);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.postUnLockProp=function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={mothod:f,url:this.url+"v1/game/"+this.headData+"/items/unlock",xgamecode:"postUnLockProp"},a=c.instance.getPropItemByID(t)){e.next=5;break}return console.error("不存在数据",t),e.abrupt("return",null);case 5:return s={id:a.id,itemId:a.itemId,gameId:o.GameId,duration:a.duration},r?(s.coins=a.coins,s.cash=0):s.conditionId=a.conditionId,e.next=9,this.request(n,JSON.stringify(s));case 9:return(u=e.sent)&&"done"==u.status?d.instance.emit(m.UPDATE_COIN_CASH,u):u&&"reject"==u.status?(h.instance.showTip("Sorry, you don't have enough coins"),p.instance.onTrack("gamePurchaseFailed",JSON.stringify({gameid:o.GameId,type:0}))):(h.instance.showTip("Something went wrong, please retry later"),p.instance.onTrack("gamePurchaseFailed",JSON.stringify({gameid:o.GameId,type:2}))),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null;var g="GET",f="POST";n._RF.pop()}}}));

System.register("chunks:///_virtual/OBB.ts",["cc","./eMath.ts","./Vector2.ts"],(function(t){"use strict";var e,s,i;return{setters:[function(t){e=t.cclegacy},function(t){s=t.eMath},function(t){i=t.Vector2}],execute:function(){e._RF.push({},"0897dfCzC1LV7SBUxxcJ//R","OBB",void 0);t("OBB",function(){function t(t,e,n,o){this.extents=[],this.axes=[],this.width=e,this.height=n,this.rotation=o,this.centerPoint=t,this.extents=[s.div(e,2),s.div(n,2)],this.axes=[new i(s.cos(o),s.sin(o)),new i(-1*Math.floor(1e3*s.sin(o))/1e3,s.cos(o))]}return t.prototype.getProjectionRadius=function(t){return s.add(s.mul(this.extents[0],Math.abs(t.dot(this.axes[0]))),s.mul(this.extents[1],Math.abs(t.dot(this.axes[1]))))},t}()),t("Circle",(function(t,e){this.centerPoint=t,this.radius=e}));e._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./MXBattle.ts","./NetWorkManager.ts"],(function(n){"use strict";var e,t,a,r,o,c,i;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator},function(n){a=n.cclegacy,r=n._decorator},function(n){o=n.DEBUG},function(n){c=n.mxBattle},function(n){i=n.default}],execute:function(){a._RF.push({},"8fc4582DitPEJKm9xsXRnPJ","PlatformManager",void 0);r.ccclass,r.property;var s=n("DeviceUtil",{IsMXGame:null!=window.gameManager&&null!=window.gameManager.onTrack});n("default",function(){function n(){}var a=n.prototype;return a.gameInit=function(){s.IsMXGame&&c.onGameInit()},a.gameLoaded=function(){s.IsMXGame&&!o&&c.onGameLoaded()},a.gameExit=function(){s.IsMXGame&&!o&&c.onBattleGameOver()},a.onTrack=function(n,e){s.IsMXGame&&gameManager.onTrack(n,e)},a.postUserData=function(){var e=t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.instance.isLogin){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,i.instance.postUserData();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(n,[{key:"isLogin",get:function(){return""!==c.UserId}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./LabelFixed.ts"],(function(e){"use strict";var r,t,a,i,n,l,u,o,p,c,s,b,m,g;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,u=e.Sprite,o=e.Label,p=e.SpriteFrame,c=e.assetManager,s=e.Texture2D,b=e.Component},function(e){m=e.GameManager},function(e){g=e.default}],execute:function(){var f,v,y,S,d,F,h,B,w,z,P,I,A,_,k,x,D,L,M;n._RF.push({},"d5b15I2ElxOFrPTknh0DEfv","PlayerItem",void 0);var N=l.ccclass,R=l.property;e("PlayerItem",(f=N("PlayerItem"),v=R(u),y=R(u),S=R(u),d=R(o),F=R(p),h=R(p),B=R(p),w=R(p),f((I=r((P=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return r=e.call.apply(e,[this].concat(n))||this,a(r,"bgSprite",I,i(r)),a(r,"avatar_bgSprite",A,i(r)),a(r,"avatar",_,i(r)),a(r,"nickName",k,i(r)),a(r,"blueBgSpriteFrame",x,i(r)),a(r,"redBgSpriteFrame",D,i(r)),a(r,"blueAvatarBgSpriteFrame",L,i(r)),a(r,"redAvatarBgSpriteFrame",M,i(r)),r}t(r,e);var n=r.prototype;return n.start=function(){},n.setData=function(e){var r=this;this.bgSprite.spriteFrame=e.id===m.instance.selfPlayerId?this.blueBgSpriteFrame:this.redBgSpriteFrame,this.avatar_bgSprite.spriteFrame=e.id===m.instance.selfPlayerId?this.blueAvatarBgSpriteFrame:this.redAvatarBgSpriteFrame,this.nickName.node.getComponent(g).string=e.nickName,e.avatar&&""!==e.avatar&&c.loadRemote(e.avatar,{ext:".png"},(function(e,t){var a=new p,i=new s;i.image=t,a.texture=i,r.avatar.spriteFrame=a}))},r}(b)).prototype,"bgSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(P.prototype,"avatar_bgSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(P.prototype,"avatar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(P.prototype,"nickName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(P.prototype,"blueBgSpriteFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(P.prototype,"redBgSpriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(P.prototype,"blueAvatarBgSpriteFrame",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(P.prototype,"redAvatarBgSpriteFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=P))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerTank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstValue.ts","./DataManager.ts","./MessageManager.ts","./SoundManager.ts","./LabelFixed.ts","./ShopMainUI.ts","./Utils.ts","./GameState.ts","./BaseTank.ts"],(function(t){"use strict";var e,i,a,n,s,o,r,l,h,c,_,d,p,u,g,y,f,m,k,b,v,C,w,N,S,P,T,x,B,A,I,F,O,M,D,E,R,j,H,z;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Material,l=t.SpriteFrame,h=t.Sprite,c=t.Node,_=t.Vec3,d=t.find,p=t.Camera,u=t.v3,g=t.UIOpacity,y=t.Tween,f=t.tween,m=t.Label,k=t.Color,b=t.assetManager,v=t.Texture2D,C=t.misc,w=t.v2,N=t.MotionStreak,S=t.MeshRenderer},function(t){P=t.ConstValue},function(t){T=t.default},function(t){x=t.default,B=t.EventType},function(t){A=t.SoundManager,I=t.AudioClipRes},function(t){F=t.default},function(t){O=t.ShopConfig,M=t.tankTurretConfig},function(t){D=t.default},function(t){E=t.PropType},function(t){R=t.TankType,j=t.TweenPool,H=t.Status,z=t.default}],execute:function(){var W,L,U,V,J,q,G,K,Q,X,Y,Z,$,tt,et,it,at,nt,st,ot,rt,lt,ht,ct,_t;s._RF.push({},"ecd4cvEC99AlJlPfE0FRrts","PlayerTank",void 0);var dt=o.ccclass,pt=o.property,ut=t("TankFittingConfig",(function(){this.T_1="100001",this.T_2="200001",this.T_3=[]}));t("PlayerTank",(W=dt("PlayerTank"),L=pt({type:r}),U=pt({type:r}),V=pt({type:l}),J=pt(h),q=pt(l),G=pt(l),K=pt(l),Q=pt(l),X=pt(c),Y=pt(c),Z=pt(c),W((et=e((tt=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,a(e,"tank_materials",et,n(e)),a(e,"tank_toon_materials",it,n(e)),a(e,"emojiSpriteFrameArr",at,n(e)),a(e,"emoji",nt,n(e)),e.tankType=R.Player,e.shield=null,e.tankFittings=new ut,a(e,"blueAvatarBg",st,n(e)),a(e,"redAvatarBg",ot,n(e)),a(e,"defaultSelfAvatar",rt,n(e)),a(e,"defaultOtherAvatar",lt,n(e)),a(e,"star_icon",ht,n(e)),a(e,"doubleScoreNode",ct,n(e)),a(e,"tripleScoreNode",_t,n(e)),e._star_icon_uiOpacity_com=null,e._gameCamera=null,e._ui2DCamera=null,e._pos_arrow=null,e._posArrowTargetPos=new _,e.testNode=null,e.scoreNode=null,e._dir=new _,e._isReset=!1,e._tankInfoTweens=new j,e._tankInfoTargetPos=new _,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.testNode=new c,this.testNode.setParent(this.node.parent.parent.getChildByName("tank_info_layer")),this._gameCamera=d("GameCamera").getComponent(p),this._ui2DCamera=d("UI2DCamera").getComponent(p),t.prototype.onLoad.call(this),this._pos_arrow=this.node.getChildByName("pos_arrow"),this._pos_arrow.scale=u(50,50,50),this._pos_arrow.setParent(this.node.parent.parent.getChildByName("tank_info_layer")),this._star_icon_uiOpacity_com=this.star_icon.getComponent(g),this.shield=this.node.getChildByName("Hudun"),this.shield.active=!1,x.instance.on(B.SHOW_EMOJI,this.showEmoji,this)},s.onDestroy=function(){t.prototype.onDestroy.call(this),x.instance.off(B.SHOW_EMOJI,this.showEmoji,this),x.instance.off(B.DOUBLE_SCORE,this.doubleScore,this),x.instance.off(B.TRIPLE_SCORE,this.tripleScore,this)},s.showEmoji=function(t,e){var i=this;this.state.id===e&&(this.emoji.node.active=!0,this.emoji.spriteFrame=this.emojiSpriteFrameArr[t],y.stopAllByTarget(this.emoji.node),this.emoji.node.scale=u(0,0,0),this.emoji.node.position=u(0,0,0),f(this.emoji.node).to(.5,{position:u(0,220,0),scale:u(2,2,2)},{easing:"circOut"}).delay(1).call((function(){i.emoji.node.active=!1})).start())},s.init=function(e,i){this.normalBodyMaterial=this.tank_materials[e.color],this.outlinelBodyMaterial=this.tank_toon_materials[e.color],i&&(x.instance.on(B.DOUBLE_SCORE,this.doubleScore,this),x.instance.on(B.TRIPLE_SCORE,this.tripleScore,this)),this.tank_info=this.node.getChildByName("tank_info"),this.tank_info.scale=u(100,100,100),this.tank_info.setParent(this.node.parent.parent.getChildByName("tank_info_layer")),this.scoreNode=this.node.getChildByName("scoreNode"),this.scoreNode.scale=u(100,100,100),this.scoreNode.setParent(this.node.parent.parent.getChildByName("tank_info_layer"));this.state=e,this.aidLine.active=!1,this.tank_info.getChildByName("nickName").getComponent(F).string=T.instance.playerInfoMap.get(this.state.id).nickName,i?(this.tank_info.getChildByName("avatarBg").getComponent(h).spriteFrame=this.blueAvatarBg,this.tank_info.getChildByName("nickName").getComponent(m).color=new k(83,188,247,255)):(this.tank_info.getChildByName("avatarBg").getComponent(h).spriteFrame=this.redAvatarBg,this.tank_info.getChildByName("nickName").getComponent(m).color=new k(250,57,57,255));var a=T.instance.playerInfoMap.get(this.state.id).avatar,n=this.tank_info.getChildByName("avatarBg").getChildByName("avatar").getComponent(h);if(a&&""!==a)b.loadRemote(a,{ext:".png"},(function(t,e){var i=new l,a=new v;a.image=e,i.texture=a,n.spriteFrame=i}));else{var s=i?this.defaultSelfAvatar:this.defaultOtherAvatar;n.spriteFrame=s}this._targetPos.set(u(e.initPos.x,e.initPos.y,0)),this._tankInfoTargetPos.set(u(e.initPos.x,e.initPos.y+100,0)),this.playerId=e.id,this.isSelf=i,this._targetPos.set(e.pos.x,e.pos.y,0),this.node.setPosition(u(e.pos.x,e.pos.y,0)),this.tank_info.setPosition(u(e.pos.x,e.pos.y+100,0)),this.scoreNode.setPosition(u(e.pos.x,e.pos.y,0)),this._pos_arrow.setPosition(u(e.pos.x,e.pos.y+100,0)),this.scoreNode.children.forEach((function(t){t.active=!1})),this.tankFittings=JSON.parse(e.skin),this.tank_info.getChildByName("Shooting").active=i,this.isSelf&&(this._pos_arrow.active=!1);for(var o=this.tank_barrel.getChildByName("tank_barrel").children.filter((function(t){return-1!==t.name.indexOf("tank_player_barrel_")})),r=0;r<o.length;r++){var c=o[r];c.name!==O[this.tankFittings.T_2].prefabName?c.destroy():c.name="tank_player_common_barrel"}for(var _=this.tank_barrel.getChildByName("tank_barrel").children.filter((function(t){return-1!==t.name.indexOf("tank_player_fort_")})),d=0;d<_.length;d++){var p=_[d];p.name!==O[this.tankFittings.T_1].prefabName&&p.destroy()}-1===this.tankFittings.T_3.indexOf("300001")&&this.tank_barrel.getChildByName("tank_barrel").getChildByName("tank_playerH_01").destroy(),-1===this.tankFittings.T_3.indexOf("300002")&&this.tank_body.getChildByName("tank_body").getChildByName("tank_playerH_02").destroy(),-1===this.tankFittings.T_3.indexOf("300003")&&this.tank_body.getChildByName("tank_body").getChildByName("tank_player_youxiang").destroy(),-1===this.tankFittings.T_3.indexOf("300004")&&this.tank_body.getChildByName("tank_body").getChildByName("tank_playerL_01").destroy();var g=this.tank_barrel.getChildByName("tank_barrel").getChildByName("tank_player_common_barrel"),y=M[this.tankFittings.T_1][this.tankFittings.T_2].originalPos,f=M[this.tankFittings.T_1][this.tankFittings.T_2].rotation;y&&g.setPosition(u(y.x,y.y,y.z)),f&&(g.eulerAngles=u(f.x,f.y,f.z)),this.setMeshMaterial(),t.prototype.init.call(this,e,i)},s.IsInView=function(t,e){return!(t.x<e.x-T.instance.stageWidth/2||t.x>e.x+T.instance.stageWidth/2||t.y<e.y-T.instance.stageHeight/2||t.y>e.y+T.instance.stageHeight/2)},s.updateState=function(t,e){if(this.state=t,this.state.status!==H.Dead&&(this.isSelf?this.tank_info.active=!0:this.tank_info.active=!t.isGrassTrigger),this.shield_icon.active=this.armo_label.node.active=0!==t.armo,this.armo_label.string="x"+t.armo,this.star_icon.active=0!==t.pickUpPropCountMap[E.Star],this._star_icon_uiOpacity_com.opacity=t.pickUpPropCountMap[E.Star]>=2?255:127.5,this.isSelf)this._pos_arrow.active=!1;else{var i=this._ui2DCamera.convertToUINode(this._gameCamera.node.getWorldPosition(),this.node.parent);if(this.IsInView(u(t.pos.x,t.pos.y),i))this._pos_arrow.active=!1;else{var a=null;if((a=D.segmentsIntr(i,u(t.pos.x,t.pos.y),u(i.x-(T.instance.stageWidth-100)/2,i.y+(T.instance.stageHeight-100)/2),u(i.x+(T.instance.stageWidth-100)/2,i.y+(T.instance.stageHeight-100)/2)))||(a=D.segmentsIntr(i,u(t.pos.x,t.pos.y),u(i.x+(T.instance.stageWidth-100)/2,i.y+(T.instance.stageHeight-100)/2),u(i.x+(T.instance.stageWidth-100)/2,i.y-(T.instance.stageHeight-100)/2))),a||(a=D.segmentsIntr(i,u(t.pos.x,t.pos.y),u(i.x+(T.instance.stageWidth-100)/2,i.y-(T.instance.stageHeight-100)/2),u(i.x-(T.instance.stageWidth-100)/2,i.y-(T.instance.stageHeight-100)/2))),a||(a=D.segmentsIntr(i,u(t.pos.x,t.pos.y),u(i.x-(T.instance.stageWidth-100)/2,i.y-(T.instance.stageHeight-100)/2),u(i.x-(T.instance.stageWidth-100)/2,i.y+(T.instance.stageHeight-100)/2))),a){this._pos_arrow.active||(this._pos_arrow.active=!0,this._pos_arrow.setPosition(a.x,a.y)),this._posArrowTargetPos.set(a.x,a.y);var n=C.radiansToDegrees(w(0,1).signAngle(a.subtract(w(i.x,i.y))));this._pos_arrow.angle=n}else this._pos_arrow.active=!1}}this.setStatus(),t.status!==H.Dead?this.isSelf?this._resetState(t,e):this._tweenState(t,e):this.isSelf||(this._pos_arrow.active=!1)},s._getArrowPos=function(){},s.reset=function(t){this.tank_body.getChildByName("left_motion_streak").getComponent(N).reset(),this.tank_body.getChildByName("right_motion_streak").getComponent(N).reset(),this.isFireTweenIng=!1,this.node.setPosition(u(t.initPos.x,t.initPos.y,0)),this.tank_info.setPosition(u(t.pos.x,t.pos.y+100,0)),this.state.initPos.y>1e3?(this.tank_body.eulerAngles=u(-135,-180,0),this.tank_barrel.eulerAngles=u(-135,-180,0),this._last_tank_body_Angle=-180,this._last_tank_barrel_Angle=-180):(this.tank_body.eulerAngles=u(-45,0,0),this.tank_barrel.eulerAngles=u(-45,0,0),this._last_tank_body_Angle=0,this._last_tank_barrel_Angle=0),this._tank_body_quat=this.tank_body.getRotation().clone(),this._tank_barrel_quat=this.tank_barrel.getRotation().clone(),this._targetPos.set(u(t.initPos.x,t.initPos.y,0)),this._tankInfoTargetPos.set(u(t.initPos.x,t.initPos.y+100,0))},s.setStatus=function(){this._lastStatus!==this.state.status&&(this.state.status===H.Dead?(this.node.active=!1,this._isReset=!1,this.tank_info.active=!1,this._pos_arrow.active=!1):this.state.status===H.Normal?(this.tank_body.getChildByName("tank_body").active=!0,this.tank_barrel.active=!0,this.node.active=!0,this.shield.active=!1):this.state.status===H.Wudi&&(this.isSelf&&A.instance.playSound(I.Shield,2),this._wudiTween(),this._isReset||this.reset(this.state),this.node.active=!0),this._lastStatus=this.state.status)},s.setMeshMaterial=function(){var t=this;this.node.walk((function(e){var i=e.getComponent(S);i&&"tank_track"!==e.name&&i.setMaterial(t.normalBodyMaterial,0)}))},s._wudiTween=function(){this.shield.active=!0},s.update=function(e){t.prototype.update.call(this,e),this.isSelf?(this.tank_info.setPosition(this.node.position.x,this.node.position.y+100),this.scoreNode.setPosition(this.node.position.x,this.node.position.y)):this._pos_arrow.setPosition(this._pos_arrow.position.lerp(this._posArrowTargetPos,.1))},s._tweenState=function(e,i){t.prototype._tweenState.call(this,e,i);var a=new _(e.pos.x,e.pos.y+100,0);this._tankInfoTargetPos.equals(a)||(this._tankInfoTweens.clear(),this.tank_info.setPosition(this._tankInfoTargetPos.x,this._tankInfoTargetPos.y),this._tankInfoTargetPos.set(a),this._tankInfoTweens.add(f(this.tank_info).to(P.ClientFrameTime/1e3,{position:this._tankInfoTargetPos}).start()))},s.doubleScore=function(){var t=this;this.doubleScoreNode.active=!0,this.doubleScoreNode.scale=u(),f(this.doubleScoreNode).to(.2,{scale:u(.012,.012,.012)},{easing:"circOut"}).delay(.8).call((function(){t.doubleScoreNode.active=!1})).start()},s.tripleScore=function(){var t=this;this.tripleScoreNode.active=!0,this.tripleScoreNode.scale=u(),f(this.tripleScoreNode).to(.2,{scale:u(.012,.012,.012)},{easing:"circOut"}).delay(.8).call((function(){t.tripleScoreNode.active=!1})).start()},e}(z)).prototype,"tank_materials",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e(tt.prototype,"tank_toon_materials",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e(tt.prototype,"emojiSpriteFrameArr",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(tt.prototype,"emoji",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(tt.prototype,"blueAvatarBg",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(tt.prototype,"redAvatarBg",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(tt.prototype,"defaultSelfAvatar",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(tt.prototype,"defaultOtherAvatar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(tt.prototype,"star_icon",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(tt.prototype,"doubleScoreNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(tt.prototype,"tripleScoreNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=tt))||$));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerTankTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,r,a,n,o,i,l,s,h,c,u,_,d,p,g,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.asyncToGenerator},function(t){i=t.cclegacy,l=t._decorator,s=t.Node,h=t.director,c=t.Camera,u=t.v2,_=t.misc,d=t.v3,p=t.quat,g=t.Quat,y=t.Component},function(t){b=t.default}],execute:function(){var f,m,k,v,C;i._RF.push({},"0466dycP8xHe5MOwMRvCQfK","PlayerTankTest",void 0);var N=l.ccclass,T=l.property;t("PlayerTankTest",(f=N("PlayerTankTest"),m=T(s),f((C=e((v=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._last_tank_barrel_Angle=0,e.barrel=null,a(e,"fireNode",C,n(e)),e.tank_barrel=null,e.arr1={},e._ttt=-270,e.hh=!0,e}r(e,t);var i=e.prototype;return i.onLoad=function(){this.tank_barrel=this.node.getChildByName("tank_barrel"),this._tank_barrel_quat=this.tank_barrel.getRotation().clone(),this.barrel=this.tank_barrel.getChildByName("tank_barrel").getChildByName("tank_player_barrel_1").getChildByName("tank_barrel").children[0]},i.start=function(){this.aaa()},i.aaa=function(){var t=o(regeneratorRuntime.mark((function t(){var e,r,a,n,o,i,l,s,d,p,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={},r={},a=-270;case 3:if(!(a<=90)){t.next=24;break}return n=this._last_tank_barrel_Angle-a,this._tank_barrel_quat=this._rotateQuat(n,this._tank_barrel_quat),this.tank_barrel.setRotation(this._tank_barrel_quat.clone()),this._last_tank_barrel_Angle=a,o=this.barrel.getWorldPosition().clone(),i=h.getScene().getChildByName("UI2DCamera").getComponent(c).convertToUINode(o,this.node.parent),l=h.getScene().getChildByName("UI2DCamera").getComponent(c).convertToUINode(o.clone().add(this.barrel.up.multiplyScalar(-25)),this.node.parent),s=l.clone().subtract(i.clone()).normalize().multiplyScalar(1),d=u(s.x,s.y),p=_.radiansToDegrees(Math.atan2(d.y,d.x))-90,e[a]=Math.round(p),g=l.clone().subtract(this.node.position.clone()),r[a]={x:Math.round(g.x),y:Math.round(g.y)},this.node.parent.getChildByName("SpriteSplash").setPosition(l),this.node.parent.getChildByName("SpriteSplash-001").setPosition(i),t.next=21,b.delay(.01);case 21:a++,t.next=3;break;case 24:console.log(JSON.stringify(e)),console.log(JSON.stringify(r));case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.BarrelAngleConvertFireAngle=function(){for(var t=-270;t<=90;t++)this.arr1[t]=void 0;for(;;){var e=!1;for(var r in this.arr1){if(Object.prototype.hasOwnProperty.call(this.arr1,r))void 0===this.arr1[r]&&(e=!0)}if(!e)return void(this.hh&&(this.hh=!1,console.log(JSON.stringify(this.arr1),"@@@@@@@@@@@")));var a=this._last_tank_barrel_Angle-this._ttt;this._tank_barrel_quat=this._rotateQuat(a,this._tank_barrel_quat),this.tank_barrel.setRotation(this._tank_barrel_quat.clone()),this._last_tank_barrel_Angle=this._ttt;var n=this.barrel.getWorldPosition().clone(),o=h.getScene().getChildByName("UI2DCamera").getComponent(c).convertToUINode(n,this.node.parent),i=h.getScene().getChildByName("UI2DCamera").getComponent(c).convertToUINode(n.clone().add(this.barrel.up.multiplyScalar(-25)),this.node.parent).clone().subtract(o.clone()).normalize().multiplyScalar(1),l=u(i.x,i.y),s=_.radiansToDegrees(Math.atan2(l.y,l.x))-90;Math.abs(s-Math.round(s))<.1&&void 0===this.arr1[Math.round(s)]&&(this.arr1[Math.round(s)]=Math.round(this._ttt)),this._ttt+=.01}},i._rotateQuat=function(t,e){var r=d(0,1,1),a=-t,n=p();return g.rotateAround(n,e.clone(),r.normalize(),_.degreesToRadians(a))},e}(y)).prototype,"fireNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=v))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MatComp.ts","./DataManager.ts","./MessageManager.ts","./PlatformManager.ts","./SoundManager.ts","./UIManager.ts","./MXBattle.ts","./BaseUI.ts","./GameMapUI.ts","./GameUI.ts","./MatchUI.ts","./ShopMainUI.ts"],(function(t){"use strict";var n,e,a,i,r,o,s,u,c,l,h,p,f,d,_,T,g,m,k,y,v,P,w,U,C,b,E,S,I,B,A,M,O,x,N,R,D,H;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator},function(t){o=t.cclegacy,s=t._decorator,u=t.Node,c=t.Material,l=t.Tween,h=t.v3,p=t.tween,f=t.color,d=t.MeshRenderer,_=t.resources,T=t.Prefab,g=t.instantiate,m=t.quat,k=t.Quat,y=t.find},function(t){v=t.MatComp},function(t){P=t.default},function(t){w=t.default,U=t.EventType},function(t){C=t.default},function(t){b=t.SoundManager,E=t.AudioClipRes},function(t){S=t.default},function(t){I=t.mxBattle},function(t){B=t.EnShowPopType,A=t.EnHidePopType,M=t.BaseUI},function(t){O=t.Layer},function(t){x=t.GameUI},function(t){N=t.default},function(t){R=t.ShopConfig,D=t.tankTurretConfig,H=t.default}],execute:function(){var z,G,L,Y,F,j,V,J,X,q,K,Q,W,Z,$,tt;o._RF.push({},"6e774UJjHpIMbv/Ln0Fgj0o","PlayUI",void 0);var nt=s.ccclass,et=s.property;t("default",(z=nt("PlayUI"),G=et(u),L=et(u),Y=et(u),F=et(u),j=et(c),V=et(c),z(((tt=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,a(n,"startGameBtn",q,i(n)),a(n,"shopBtn",K,i(n)),a(n,"cur_tank",Q,i(n)),a(n,"tutorialButton",W,i(n)),a(n,"tank03_material",Z,i(n)),a(n,"tank03_outline_material",$,i(n)),n._tankPosX=20,n._tankPosY=-650,n.m_ShowPopType=B.max,n.m_HidePopType=A.max,n._isTankUpdateTween=!1,n.startEulerAngles=null,n}e(n,t);var o=n.prototype;return o.onLoad=function(){this.node.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this),w.instance.on(U.OPEN_SHOP_UI,this.onOpenShop,this),w.instance.on(U.CLOSE_SHOP_UI,this.onCloseShop,this),w.instance.on(U.UPDATE_PLAYUI_TANK,this.updateTank,this)},o.onDestroy=function(){t.prototype.onDestroy.call(this),this.node.off(u.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(u.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.start=function(){this.startEulerAngles||(this.startEulerAngles=this.cur_tank.eulerAngles.clone()),this.updateTank("",P.instance.selfTankFitting,!1),C.instance.onTrack("gameShopViewd",JSON.stringify({gameid:I.GameId,type:0}))},o.updateTank=function(t,n,e){var a=this;void 0===e&&(e=!0),n||(n=P.instance.selfTankFitting);var i=[];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r))if("continue"===function(){var t=n[r];if("string"==typeof t){if(a.cur_tank.children.find((function(n){return n.name===t})))return"continue";var e=a.cur_tank.children.find((function(n){return n.name[0]===t[0]}));e&&e.isValid&&e.destroy(),i.push(a.loadModelPrefab(r,t,n))}else!function(){var e=t;if(e.length)!function(){for(var t=function(t){a.cur_tank.children.find((function(n){return n.name===e[t]}))||i.push(a.loadModelPrefab(r,e[t],n))},o=0;o<e.length;o++)t(o);for(var s=[],u=0;u<a.cur_tank.children.length;u++)a.cur_tank.children[u].name[0]===e[0][0]&&s.push(a.cur_tank.children[u]);for(var c=function(t){e.find((function(n){return n===s[t].name}))||s[t].destroy()},l=0;l<s.length;l++)c(l)}();else for(var o=0;o<a.cur_tank.children.length;o++)a.cur_tank.children[o].name[0]===r.replace("T_","")&&a.cur_tank.children[o].destroy()}()}())continue}e&&(l.stopAllByTarget(this.cur_tank),this.cur_tank.eulerAngles=this.startEulerAngles,this.cur_tank.setPosition(h(-800,-650,-80)),this.node.getChildByName("touy").active=!1,this._isTankUpdateTween=!0,p(this.cur_tank).to(.3,{position:h(this._tankPosX,-650,-80)},{easing:"backOut"}).call((function(){a.node.getChildByName("touy").active=!0,a._isTankUpdateTween=!1,a.cur_tank.eulerAngles=a.startEulerAngles})).start(),Promise.all(i).then((function(){if(""!==t){var n={name:"描边高亮",prop:"baseColor",color:f(255,255,0,255),dura:.5,lineWidth:20};a.cur_tank.walk((function(e){e.name===t&&e.walk((function(t){if(t.getComponent(d)){var e=t.getComponent(v);e||(e=t.addComponent(v)),e.setProp(n,a.tank03_outline_material)}}))}))}})))},o.loadModelPrefab=function(t,n,e){var a=this;return new Promise((function(t){_.load("prefab/tank_related/"+R[n].prefabName,T,(function(i,r){var o,s,u,c=g(r);c.name=n,c.layer=O.Perspective,c.walk((function(t){t.layer=O.Perspective})),a.cur_tank&&a.cur_tank.addChild(c),"2"===n[0]&&(o=D[e.T_1][n].originalPos,s=D[e.T_1][n].rotation),"1"===n[0]&&(o=D[n][e.T_2].originalPos,s=D[n][e.T_2].rotation),a.cur_tank&&(u=a.cur_tank.getChildByName(e.T_2)),o&&u&&u.setPosition(h(o.x,o.y,o.z)),s&&u&&(u.eulerAngles=h(s.x,s.y,s.z)),t()}))}))},o.update=function(){},o.onTouchStart=function(t){!0!==this._isTankUpdateTween&&l.stopAllByTarget(this.cur_tank)},o.onTouchMove=function(t){if(!0!==this._isTankUpdateTween){var n=t.getDelta(),e=.01*n.length(),a=m(),i=h(0,n.x,0),r=this.cur_tank.getRotation();k.rotateAround(a,r,i.normalize(),e),this.cur_tank.setRotation(a)}},o.onTouchEnd=function(t){!0!==this._isTankUpdateTween&&this.autoRotateTank()},o.autoRotateTank=function(){p(this.cur_tank).to(.5,{eulerAngles:this.startEulerAngles}).start()},o.startGame=function(){var t=r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b.instance.resetEffectAudioSource(),b.instance.playSound(E.Btn),!I.Is_Guide){t.next=7;break}return t.next=5,S.instance.showUI(x,!0);case 5:t.next=14;break;case 7:S.instance.showUI(x),t.next=14;break;case 11:return t.next=13,S.instance.showUI(N);case 13:S.instance.OnMsg(N,"gameLoaded",null);case 14:S.instance.closeUI(H),S.instance.closeUI(n);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.openShop=function(){var t=r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C.instance.isLogin){t.next=3;break}return S.instance.showTip("Unlock  more  surprises  after  login"),t.abrupt("return");case 3:b.instance.playSound(E.Btn),S.instance.showUI(H,!0),w.instance.emit(U.OPEN_SHOP_UI),C.instance.onTrack("gameShopClicked",JSON.stringify({gameid:I.GameId,type:0}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.getNewSkin=function(){var t=r(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.onOpenShop=function(){var t=this;this._tankPosY=-700,this.tutorialButton.active=this.shopBtn.active=this.startGameBtn.active=this.node.getChildByName("logo").active=!1;var n=y("Perspective_3DCamera").worldPosition.clone().add(y("Perspective_3DCamera").forward.negative().normalize().multiplyScalar(200));p(y("Perspective_3DCamera")).to(.8,{position:n},{easing:"fade"}).start(),l.stopAllByTarget(this.cur_tank),this._isTankUpdateTween=!0,p(this.cur_tank).to(.8,{position:h(20,this._tankPosY,-80)},{easing:"fade"}).call((function(){t._isTankUpdateTween=!1})).start()},o.onCloseShop=function(){var t=this;this._tankPosY=-650,this.tutorialButton.active=this.shopBtn.active=this.startGameBtn.active=this.node.getChildByName("logo").active=!0;var n=y("Perspective_3DCamera").worldPosition.clone().add(y("Perspective_3DCamera").forward.normalize().multiplyScalar(200));p(y("Perspective_3DCamera")).to(.8,{position:n},{easing:"fade"}).start(),l.stopAllByTarget(this.cur_tank),this._isTankUpdateTween=!0,p(this.cur_tank).to(.8,{position:h(20,this._tankPosY,-80)},{easing:"fade"}).call((function(){t._isTankUpdateTween=!1})).start()},o.onTutorialButton=function(){var t=r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.instance.playSound(E.Btn),I.Is_Guide=!0,t.next=4,S.instance.showUI(x,!0);case 4:S.instance.closeUI(H),S.instance.closeUI(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n}(M)).className="PlayUI",q=n((X=tt).prototype,"startGameBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(X.prototype,"shopBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(X.prototype,"cur_tank",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(X.prototype,"tutorialButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(X.prototype,"tank03_material",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(X.prototype,"tank03_outline_material",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=X))||J));o._RF.pop()}}}));

System.register("chunks:///_virtual/Prop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts"],(function(t){"use strict";var r,i,e,n,o,s,c,a,p,u,l,f;return{setters:[function(t){r=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.Sprite,a=t.v3,p=t.resources,u=t.SpriteFrame,l=t.Component},function(t){f=t.GameConfig}],execute:function(){var h,y,d,v,g;o._RF.push({},"df3b50+/mVJlJiVcgX8xNzL","Prop",void 0);var m=s.ccclass,P=s.property;t("Prop",(h=m("Prop"),y=P(c),h((g=r((v=function(t){function r(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,e(r,"icon",g,n(r)),r.state=null,r}i(r,t);var o=r.prototype;return o.init=function(t){var r=this;this.id=t.id,this.state=t,this.node.setPosition(a(t.pos.x,t.pos.y,0));var i=f.PropConfig[t.type];p.load(i.resUrl,u,(function(t,i){r.icon&&(r.icon.spriteFrame=i)}))},o.start=function(){},r}(l)).prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/QuadTree.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"edfd8/8fqhGTL+ELfs+5BxX","QuadTree",void 0);t("Quadtree",function(){function t(t,e,o,h){this.max_objects=e||10,this.max_levels=o||4,this.level=h||0,this.bounds=t,this.objects=[],this.nodes=[]}var e=t.prototype;return e.split=function(){var e=this.level+1,o=Math.floor(1e3*this.bounds.width)/Math.floor(2e3),h=Math.floor(1e3*this.bounds.height)/Math.floor(2e3),s=this.bounds.x,i=this.bounds.y;this.nodes[0]=new t({x:(Math.floor(1e3*s)+Math.floor(1e3*o))/1e3,y:i,width:o,height:h},this.max_objects,this.max_levels,e),this.nodes[1]=new t({x:s,y:i,width:o,height:h},this.max_objects,this.max_levels,e),this.nodes[2]=new t({x:s,y:(Math.floor(1e3*i)+Math.floor(1e3*h))/1e3,width:o,height:h},this.max_objects,this.max_levels,e),this.nodes[3]=new t({x:(Math.floor(1e3*s)+Math.floor(1e3*o))/1e3,y:(Math.floor(1e3*i)+Math.floor(1e3*h))/1e3,width:o,height:h},this.max_objects,this.max_levels,e)},e.getIndex=function(t){var e=[],o=(Math.floor(1e3*this.bounds.x)+Math.floor(Math.floor(1e3*this.bounds.width)/Math.floor(2e3)*1e3))/1e3,h=(Math.floor(1e3*this.bounds.y)+Math.floor(Math.floor(1e3*this.bounds.height)/2e3*1e3))/1e3,s=Math.floor(1e3*t.pos.y)-Math.floor(Math.floor(1e3*t.AABBHeight)/2e3*1e3)<Math.floor(1e3*h),i=Math.floor(1e3*t.pos.x)-Math.floor(Math.floor(1e3*t.AABBWidth)/2e3*1e3)<Math.floor(1e3*o),r=Math.floor(1e3*t.pos.x)-Math.floor(Math.floor(1e3*t.AABBHeight)/2e3*1e3)+Math.floor(1e3*t.AABBWidth)>Math.floor(1e3*o),n=Math.floor(1e3*t.pos.y)-Math.floor(Math.floor(1e3*t.AABBHeight)/2e3*1e3)+Math.floor(1e3*t.AABBHeight)>Math.floor(1e3*h);return s&&r&&e.push(0),i&&s&&e.push(1),i&&n&&e.push(2),r&&n&&e.push(3),e},e.insert=function(t){var e,o=0;if(this.nodes.length)for(e=this.getIndex(t),o=0;o<e.length;o++)this.nodes[e[o]].insert(t);else if(this.objects.push(t),this.objects.length>this.max_objects&&this.level<this.max_levels){for(this.nodes.length||this.split(),o=0;o<this.objects.length;o++){e=this.getIndex(this.objects[o]);for(var h=0;h<e.length;h++)this.nodes[e[h]].insert(this.objects[o])}this.objects=[]}},e.retrieve=function(t){var e=this.getIndex(t),o=this.objects;if(this.nodes.length)for(var h=0;h<e.length;h++)o=o.concat(this.nodes[e[h]].retrieve(t));return o=o.filter((function(t,e){return o.indexOf(t)>=e}))},e.clear=function(){this.objects=[];for(var t=0;t<this.nodes.length;t++)this.nodes.length&&this.nodes[t].clear();this.nodes=[]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QuitUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SocketManager.ts","./SoundManager.ts","./UIManager.ts","./BaseUI.ts"],(function(n){"use strict";var t,e,o,a,r,u,i,c,s,p,f,l;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator},function(n){o=n.cclegacy,a=n._decorator},function(n){r=n.default},function(n){u=n.SoundManager,i=n.AudioClipRes},function(n){c=n.default},function(n){s=n.LayerType,p=n.EnShowPopType,f=n.EnHidePopType,l=n.BaseUI}],execute:function(){var y,d;o._RF.push({},"346bagLy7JPG7fRZ0uYp7yZ","QuitUI",void 0);var h=a.ccclass;a.property,n("default",h("QuitUI")(((d=function(n){function o(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this).m_layerType=s.popup,t.m_ShowPopType=p.upToCenter,t.m_HidePopType=f.centerToUp,t}t(o,n);var a=o.prototype;return a.onLoad=function(){},a.start=function(){var n=e(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.onCloseBtnTap=function(){c.instance.hideUI(o),u.instance.playSound(i.Btn)},a.onYesBtnTap=function(){c.instance.hideUI(o),u.instance.playSound(i.Btn),r.instance.sendQuit()},a.onNoBtnTap=function(){c.instance.hideUI(o),u.instance.playSound(i.Btn)},o}(l)).className="QuitUI",y=d))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/RightJoyStick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameState.ts","./MessageManager.ts","./MXBattle.ts"],(function(t){"use strict";var i,e,n,o,s,r,c,a,h,l,u,p,y,g,d,T,f,v,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,c=t._decorator,a=t.Node,h=t.Enum,l=t.CCInteger,u=t.Vec2,p=t.UITransform,y=t.UIOpacity,g=t.Vec3,d=t.Component},function(t){T=t.ShootType},function(t){f=t.default,v=t.EventType},function(t){_=t.mxBattle}],execute:function(){var m,E,L,O,S,b,C,k,N,I,R,w,F,D,P,z,J,U,A;t({DirectionType:void 0,JoystickType:void 0}),r._RF.push({},"602634B6nRHAYIUdLGLtAVf","RightJoyStick",void 0),function(t){t[t.FOUR=0]="FOUR",t[t.EIGHT=1]="EIGHT",t[t.ALL=2]="ALL"}(U||(U=t("DirectionType",{}))),function(t){t[t.FIXED=0]="FIXED",t[t.FOLLOW=1]="FOLLOW"}(A||(A=t("JoystickType",{})));var M=c.ccclass,j=c.property;t("RightJoyStick",(m=M("RightJoyStick"),E=j({type:a,displayName:"Dot",tooltip:"摇杆操纵点"}),L=j({type:a,displayName:"Ring",tooltip:"摇杆背景节点"}),O=j({type:h(A),displayName:"Touch Type",tooltip:"触摸类型"}),S=j({type:h(U),displayName:"Direction Type",tooltip:"方向类型"}),b=j({type:l,displayName:"Ring Radius",tooltip:"半径"}),C=j(a),k=j({displayName:"内圈大小"}),m((R=i((I=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"dot",R,o(i)),n(i,"ring",w,o(i)),n(i,"joystickType",F,o(i)),n(i,"directionType",D,o(i)),i._touchLocation=new u,n(i,"radius",P,o(i)),n(i,"tip_ring",z,o(i)),n(i,"innerSize",J,o(i)),i._dirVec3=null,i.isMoving=!1,i._touchStartTime=0,i}e(i,t);var r=i.prototype;return r.onLoad=function(){if(this.dot)if(this.ring){this.ring.getComponent(p);this._initTouchEvent();var t=this.node.getChildByName("ring").getComponent(y);this.joystickType===A.FOLLOW&&t&&(t.opacity=0,this.tip_ring.active=!0)}else console.warn("RightJoyStick Ring is null!");else console.warn("RightJoyStick Dot is null!")},r.onEnable=function(){f.instance.on(v.SET_JOYSTICK_TYPE,this._onSetJoystickType,this)},r.onDisable=function(){f.instance.off(v.SET_JOYSTICK_TYPE,this._onSetJoystickType,this)},r._onSetJoystickType=function(t){this.joystickType=t;var i=this.node.getChildByName("ring").getComponent(y);i&&(i.opacity=t===A.FIXED?255:0)},r._initTouchEvent=function(){this.node.on(a.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(a.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(a.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(a.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},r._touchStartEvent=function(t){if(this.ring&&this.dot){var i=t.getUILocation(),e=new g(i.x,i.y);if(this.node.getComponent(p).convertToNodeSpaceAR(e,e),this.joystickType===A.FIXED){var n=e.subtract(this.ring.getPosition());console.log(n===e,"touchPos");var o=n.length();this.radius>o&&this.dot.setPosition(n)}else this.joystickType===A.FOLLOW&&(this.node.getChildByName("ring").getComponent(y).opacity=255,this.tip_ring.active=!1,this._touchLocation=t.getUILocation(),this.ring.setPosition(e),this.dot.setPosition(new g))}},r._touchMoveEvent=function(t){if(this.dot&&this.ring){if(this.joystickType===A.FOLLOW&&this._touchLocation===t.getUILocation())return!1;var i=t.getUILocation(),e=new g(i.x,i.y);this.node.getComponent(p).convertToNodeSpaceAR(e,e);var n=e.subtract(this.ring.getPosition()),o=n.length();o>this.innerSize&&(this.isMoving=!0),this.radius>o?this.dot.setPosition(n):this.dot.setPosition(n.normalize().multiplyScalar(this.radius)),this._dirVec3=n.clone().normalize()}},r._touchEndEvent=function(t){this.dot&&this.ring&&(this._dirVec3=null,this.isMoving?f.instance.emit(v.TANK_SHOOT,T.Prcision):f.instance.emit(v.TANK_SHOOT,T.Normal),this.dot.setPosition(new g),this.joystickType===A.FOLLOW&&(this.node.getChildByName("ring").getComponent(y).opacity=0,this.tip_ring.active=!0),this.isMoving=!1)},r.setNull=function(){_.Is_Guide&&(this.dot.setPosition(new g),this.joystickType===A.FOLLOW&&(this.node.getChildByName("ring").getComponent(y).opacity=0,this.tip_ring.active=!0),this._dirVec3=null)},s(i,[{key:"dirVec3",get:function(){return this._dirVec3}}]),i}(d)).prototype,"dot",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(I.prototype,"ring",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(I.prototype,"joystickType",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.FIXED}}),D=i(I.prototype,"directionType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.ALL}}),P=i(I.prototype,"radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),z=i(I.prototype,"tip_ring",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(I.prototype,"innerSize",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),N=I))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenObjConfig.ts",["cc"],(function(y){"use strict";var x;return{setters:[function(y){x=y.cclegacy}],execute:function(){x._RF.push({},"d2dc3caQMRFuZ7eYEM/3IPB","ScreenObjConfig",void 0);y("barrelOffset",{0:{x:0,y:74},1:{x:-1,y:74},2:{x:-2,y:74},3:{x:-3,y:74},4:{x:-4,y:74},5:{x:-5,y:74},6:{x:-6,y:73},7:{x:-7,y:73},8:{x:-8,y:73},9:{x:-9,y:73},10:{x:-11,y:73},11:{x:-12,y:73},12:{x:-13,y:73},13:{x:-14,y:73},14:{x:-15,y:72},15:{x:-16,y:72},16:{x:-17,y:72},17:{x:-18,y:72},18:{x:-19,y:72},19:{x:-20,y:71},20:{x:-21,y:71},21:{x:-22,y:71},22:{x:-23,y:71},23:{x:-24,y:70},24:{x:-25,y:70},25:{x:-26,y:70},26:{x:-27,y:69},27:{x:-28,y:69},28:{x:-28,y:69},29:{x:-29,y:68},30:{x:-30,y:68},31:{x:-31,y:68},32:{x:-32,y:67},33:{x:-33,y:67},34:{x:-34,y:66},35:{x:-35,y:66},36:{x:-36,y:66},37:{x:-36,y:65},38:{x:-37,y:65},39:{x:-38,y:64},40:{x:-39,y:64},41:{x:-40,y:63},42:{x:-41,y:63},43:{x:-41,y:62},44:{x:-42,y:62},45:{x:-43,y:61},46:{x:-44,y:61},47:{x:-44,y:60},48:{x:-45,y:60},49:{x:-46,y:59},50:{x:-46,y:58},51:{x:-47,y:58},52:{x:-48,y:57},53:{x:-48,y:57},54:{x:-49,y:56},55:{x:-50,y:55},56:{x:-50,y:55},57:{x:-51,y:54},58:{x:-51,y:54},59:{x:-52,y:53},60:{x:-53,y:52},61:{x:-53,y:52},62:{x:-54,y:51},63:{x:-54,y:50},64:{x:-55,y:50},65:{x:-55,y:49},66:{x:-55,y:48},67:{x:-56,y:48},68:{x:-56,y:47},69:{x:-57,y:46},70:{x:-57,y:45},71:{x:-57,y:45},72:{x:-58,y:44},73:{x:-58,y:43},74:{x:-58,y:43},75:{x:-59,y:42},76:{x:-59,y:41},77:{x:-59,y:40},78:{x:-59,y:40},79:{x:-60,y:39},80:{x:-60,y:38},81:{x:-60,y:38},82:{x:-60,y:37},83:{x:-60,y:36},84:{x:-60,y:35},85:{x:-60,y:35},86:{x:-60,y:34},87:{x:-61,y:33},88:{x:-61,y:32},89:{x:-61,y:32},90:{x:-61,y:31},"-270":{x:-61,y:31},"-269":{x:-61,y:30},"-268":{x:-61,y:29},"-267":{x:-61,y:29},"-266":{x:-60,y:28},"-265":{x:-60,y:27},"-264":{x:-60,y:26},"-263":{x:-60,y:26},"-262":{x:-60,y:25},"-261":{x:-60,y:24},"-260":{x:-60,y:23},"-259":{x:-60,y:23},"-258":{x:-59,y:22},"-257":{x:-59,y:21},"-256":{x:-59,y:20},"-255":{x:-59,y:20},"-254":{x:-58,y:19},"-253":{x:-58,y:18},"-252":{x:-58,y:18},"-251":{x:-57,y:17},"-250":{x:-57,y:16},"-249":{x:-57,y:15},"-248":{x:-56,y:15},"-247":{x:-56,y:14},"-246":{x:-55,y:13},"-245":{x:-55,y:13},"-244":{x:-55,y:12},"-243":{x:-54,y:11},"-242":{x:-54,y:11},"-241":{x:-53,y:10},"-240":{x:-53,y:9},"-239":{x:-52,y:9},"-238":{x:-51,y:8},"-237":{x:-51,y:7},"-236":{x:-50,y:7},"-235":{x:-50,y:6},"-234":{x:-49,y:6},"-233":{x:-48,y:5},"-232":{x:-48,y:4},"-231":{x:-47,y:4},"-230":{x:-46,y:3},"-229":{x:-46,y:3},"-228":{x:-45,y:2},"-227":{x:-44,y:2},"-226":{x:-44,y:1},"-225":{x:-43,y:0},"-224":{x:-42,y:0},"-223":{x:-41,y:-1},"-222":{x:-41,y:-1},"-221":{x:-40,y:-2},"-220":{x:-39,y:-2},"-219":{x:-38,y:-3},"-218":{x:-37,y:-3},"-217":{x:-36,y:-3},"-216":{x:-36,y:-4},"-215":{x:-35,y:-4},"-214":{x:-34,y:-5},"-213":{x:-33,y:-5},"-212":{x:-32,y:-6},"-211":{x:-31,y:-6},"-210":{x:-30,y:-6},"-209":{x:-29,y:-7},"-208":{x:-28,y:-7},"-207":{x:-28,y:-7},"-206":{x:-27,y:-8},"-205":{x:-26,y:-8},"-204":{x:-25,y:-8},"-203":{x:-24,y:-9},"-202":{x:-23,y:-9},"-201":{x:-22,y:-9},"-200":{x:-21,y:-9},"-199":{x:-20,y:-10},"-198":{x:-19,y:-10},"-197":{x:-18,y:-10},"-196":{x:-17,y:-10},"-195":{x:-16,y:-11},"-194":{x:-15,y:-11},"-193":{x:-14,y:-11},"-192":{x:-13,y:-11},"-191":{x:-12,y:-11},"-190":{x:-11,y:-11},"-189":{x:-9,y:-12},"-188":{x:-8,y:-12},"-187":{x:-7,y:-12},"-186":{x:-6,y:-12},"-185":{x:-5,y:-12},"-184":{x:-4,y:-12},"-183":{x:-3,y:-12},"-182":{x:-2,y:-12},"-181":{x:-1,y:-12},"-180":{x:0,y:-12},"-179":{x:1,y:-12},"-178":{x:2,y:-12},"-177":{x:3,y:-12},"-176":{x:4,y:-12},"-175":{x:5,y:-12},"-174":{x:6,y:-12},"-173":{x:7,y:-12},"-172":{x:8,y:-12},"-171":{x:9,y:-12},"-170":{x:11,y:-11},"-169":{x:12,y:-11},"-168":{x:13,y:-11},"-167":{x:14,y:-11},"-166":{x:15,y:-11},"-165":{x:16,y:-11},"-164":{x:17,y:-10},"-163":{x:18,y:-10},"-162":{x:19,y:-10},"-161":{x:20,y:-10},"-160":{x:21,y:-9},"-159":{x:22,y:-9},"-158":{x:23,y:-9},"-157":{x:24,y:-9},"-156":{x:25,y:-8},"-155":{x:26,y:-8},"-154":{x:27,y:-8},"-153":{x:28,y:-7},"-152":{x:28,y:-7},"-151":{x:29,y:-7},"-150":{x:30,y:-6},"-149":{x:31,y:-6},"-148":{x:32,y:-6},"-147":{x:33,y:-5},"-146":{x:34,y:-5},"-145":{x:35,y:-4},"-144":{x:36,y:-4},"-143":{x:36,y:-3},"-142":{x:37,y:-3},"-141":{x:38,y:-3},"-140":{x:39,y:-2},"-139":{x:40,y:-2},"-138":{x:41,y:-1},"-137":{x:41,y:-1},"-136":{x:42,y:0},"-135":{x:43,y:0},"-134":{x:44,y:1},"-133":{x:44,y:2},"-132":{x:45,y:2},"-131":{x:46,y:3},"-130":{x:46,y:3},"-129":{x:47,y:4},"-128":{x:48,y:4},"-127":{x:48,y:5},"-126":{x:49,y:6},"-125":{x:50,y:6},"-124":{x:50,y:7},"-123":{x:51,y:7},"-122":{x:51,y:8},"-121":{x:52,y:9},"-120":{x:53,y:9},"-119":{x:53,y:10},"-118":{x:54,y:11},"-117":{x:54,y:11},"-116":{x:55,y:12},"-115":{x:55,y:13},"-114":{x:55,y:13},"-113":{x:56,y:14},"-112":{x:56,y:15},"-111":{x:57,y:15},"-110":{x:57,y:16},"-109":{x:57,y:17},"-108":{x:58,y:18},"-107":{x:58,y:18},"-106":{x:58,y:19},"-105":{x:59,y:20},"-104":{x:59,y:20},"-103":{x:59,y:21},"-102":{x:59,y:22},"-101":{x:60,y:23},"-100":{x:60,y:23},"-99":{x:60,y:24},"-98":{x:60,y:25},"-97":{x:60,y:26},"-96":{x:60,y:26},"-95":{x:60,y:27},"-94":{x:60,y:28},"-93":{x:61,y:29},"-92":{x:61,y:29},"-91":{x:61,y:30},"-90":{x:61,y:31},"-89":{x:61,y:32},"-88":{x:61,y:32},"-87":{x:61,y:33},"-86":{x:60,y:34},"-85":{x:60,y:35},"-84":{x:60,y:35},"-83":{x:60,y:36},"-82":{x:60,y:37},"-81":{x:60,y:38},"-80":{x:60,y:38},"-79":{x:60,y:39},"-78":{x:59,y:40},"-77":{x:59,y:40},"-76":{x:59,y:41},"-75":{x:59,y:42},"-74":{x:58,y:43},"-73":{x:58,y:43},"-72":{x:58,y:44},"-71":{x:57,y:45},"-70":{x:57,y:45},"-69":{x:57,y:46},"-68":{x:56,y:47},"-67":{x:56,y:48},"-66":{x:55,y:48},"-65":{x:55,y:49},"-64":{x:55,y:50},"-63":{x:54,y:50},"-62":{x:54,y:51},"-61":{x:53,y:52},"-60":{x:53,y:52},"-59":{x:52,y:53},"-58":{x:51,y:54},"-57":{x:51,y:54},"-56":{x:50,y:55},"-55":{x:50,y:55},"-54":{x:49,y:56},"-53":{x:48,y:57},"-52":{x:48,y:57},"-51":{x:47,y:58},"-50":{x:46,y:58},"-49":{x:46,y:59},"-48":{x:45,y:60},"-47":{x:44,y:60},"-46":{x:44,y:61},"-45":{x:43,y:61},"-44":{x:42,y:62},"-43":{x:41,y:62},"-42":{x:41,y:63},"-41":{x:40,y:63},"-40":{x:39,y:64},"-39":{x:38,y:64},"-38":{x:37,y:65},"-37":{x:36,y:65},"-36":{x:36,y:66},"-35":{x:35,y:66},"-34":{x:34,y:66},"-33":{x:33,y:67},"-32":{x:32,y:67},"-31":{x:31,y:68},"-30":{x:30,y:68},"-29":{x:29,y:68},"-28":{x:28,y:69},"-27":{x:28,y:69},"-26":{x:27,y:69},"-25":{x:26,y:70},"-24":{x:25,y:70},"-23":{x:24,y:70},"-22":{x:23,y:71},"-21":{x:22,y:71},"-20":{x:21,y:71},"-19":{x:20,y:71},"-18":{x:19,y:72},"-17":{x:18,y:72},"-16":{x:17,y:72},"-15":{x:16,y:72},"-14":{x:15,y:72},"-13":{x:14,y:73},"-12":{x:13,y:73},"-11":{x:12,y:73},"-10":{x:11,y:73},"-9":{x:9,y:73},"-8":{x:8,y:73},"-7":{x:7,y:73},"-6":{x:6,y:73},"-5":{x:5,y:74},"-4":{x:4,y:74},"-3":{x:3,y:74},"-2":{x:2,y:74},"-1":{x:1,y:74}}),y("barrelScreenWorldPosConfig",{0:0,1:1,2:2,3:4,4:5,5:6,6:7,7:8,8:9,9:11,10:12,11:13,12:14,13:15,14:16,15:17,16:19,17:20,18:21,19:22,20:23,21:24,22:25,23:26,24:27,25:28,26:29,27:30,28:31,29:32,30:33,31:35,32:36,33:36,34:37,35:38,36:39,37:40,38:41,39:42,40:43,41:44,42:45,43:46,44:47,45:48,46:49,47:49,48:50,49:51,50:52,51:53,52:54,53:55,54:55,55:56,56:57,57:58,58:59,59:59,60:60,61:61,62:62,63:62,64:63,65:64,66:65,67:66,68:66,69:67,70:68,71:68,72:69,73:70,74:71,75:71,76:72,77:73,78:73,79:74,80:75,81:76,82:76,83:77,84:78,85:78,86:79,87:80,88:80,89:81,90:82,"-270":82,"-269":83,"-268":83,"-267":84,"-266":85,"-265":85,"-264":86,"-263":87,"-262":87,"-261":88,"-260":89,"-259":90,"-258":-270,"-257":-269,"-256":-268,"-255":-268,"-254":-267,"-253":-266,"-252":-265,"-251":-265,"-250":-264,"-249":-263,"-248":-263,"-247":-262,"-246":-261,"-245":-260,"-244":-259,"-243":-259,"-242":-258,"-241":-257,"-240":-256,"-239":-256,"-238":-255,"-237":-254,"-236":-253,"-235":-252,"-234":-251,"-233":-251,"-232":-250,"-231":-249,"-230":-248,"-229":-247,"-228":-246,"-227":-245,"-226":-244,"-225":-243,"-224":-242,"-223":-241,"-222":-240,"-221":-239,"-220":-238,"-219":-237,"-218":-236,"-217":-235,"-216":-234,"-215":-233,"-214":-232,"-213":-230,"-212":-229,"-211":-228,"-210":-227,"-209":-226,"-208":-224,"-207":-223,"-206":-222,"-205":-220,"-204":-219,"-203":-218,"-202":-216,"-201":-215,"-200":-213,"-199":-212,"-198":-210,"-197":-209,"-196":-207,"-195":-206,"-194":-204,"-193":-202,"-192":-201,"-191":-199,"-190":-197,"-189":-196,"-188":-194,"-187":-192,"-186":-191,"-185":-189,"-184":-187,"-183":-185,"-182":-184,"-181":-182,"-180":-180,"-179":-178,"-178":-176,"-177":-175,"-176":-173,"-175":-171,"-174":-169,"-173":-168,"-172":-166,"-171":-164,"-170":-163,"-169":-161,"-168":-159,"-167":-158,"-166":-156,"-165":-154,"-164":-153,"-163":-151,"-162":-150,"-161":-148,"-160":-147,"-159":-145,"-158":-144,"-157":-142,"-156":-141,"-155":-140,"-154":-138,"-153":-137,"-152":-136,"-151":-134,"-150":-133,"-149":-132,"-148":-131,"-147":-130,"-146":-128,"-145":-127,"-144":-126,"-143":-125,"-142":-124,"-141":-123,"-140":-122,"-139":-121,"-138":-120,"-137":-119,"-136":-118,"-135":-117,"-134":-116,"-133":-115,"-132":-114,"-131":-113,"-130":-112,"-129":-111,"-128":-110,"-127":-109,"-126":-109,"-125":-108,"-124":-107,"-123":-106,"-122":-105,"-121":-104,"-120":-104,"-119":-103,"-118":-102,"-117":-101,"-116":-101,"-115":-100,"-114":-99,"-113":-98,"-112":-97,"-111":-97,"-110":-96,"-109":-95,"-108":-95,"-107":-94,"-106":-93,"-105":-92,"-104":-92,"-103":-91,"-102":-90,"-101":-90,"-100":-89,"-99":-88,"-98":-87,"-97":-87,"-96":-86,"-95":-85,"-94":-85,"-93":-84,"-92":-83,"-91":-83,"-90":-82,"-89":-81,"-88":-80,"-87":-80,"-86":-79,"-85":-78,"-84":-78,"-83":-77,"-82":-76,"-81":-76,"-80":-75,"-79":-74,"-78":-73,"-77":-73,"-76":-72,"-75":-71,"-74":-71,"-73":-70,"-72":-69,"-71":-68,"-70":-68,"-69":-67,"-68":-66,"-67":-66,"-66":-65,"-65":-64,"-64":-63,"-63":-62,"-62":-62,"-61":-61,"-60":-60,"-59":-59,"-58":-59,"-57":-58,"-56":-57,"-55":-56,"-54":-55,"-53":-55,"-52":-54,"-51":-53,"-50":-52,"-49":-51,"-48":-50,"-47":-49,"-46":-49,"-45":-48,"-44":-47,"-43":-46,"-42":-45,"-41":-44,"-40":-43,"-39":-42,"-38":-41,"-37":-40,"-36":-39,"-35":-38,"-34":-37,"-33":-36,"-32":-36,"-31":-35,"-30":-33,"-29":-32,"-28":-31,"-27":-30,"-26":-29,"-25":-28,"-24":-27,"-23":-26,"-22":-25,"-21":-24,"-20":-23,"-19":-22,"-18":-21,"-17":-20,"-16":-19,"-15":-17,"-14":-16,"-13":-15,"-12":-14,"-11":-13,"-10":-12,"-9":-11,"-8":-9,"-7":-8,"-6":-7,"-5":-6,"-4":-5,"-3":-4,"-2":-2,"-1":-1}),y("barrelWorldScreenPosConfig",{0:0,1:1,2:2,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:8,11:9,12:10,13:11,14:12,15:13,16:14,17:15,18:15,19:16,20:17,21:18,22:19,23:20,24:21,25:22,26:23,27:24,28:25,29:26,30:27,31:27,32:28,33:29,34:30,35:31,36:32,37:33,38:34,39:35,40:37,41:38,42:39,43:40,44:41,45:42,46:43,47:44,48:45,49:46,50:48,51:49,52:50,53:51,54:52,55:53,56:55,57:56,58:57,59:58,60:60,61:61,62:62,63:64,64:65,65:66,66:68,67:69,68:70,69:72,70:73,71:74,72:76,73:77,74:79,75:80,76:81,77:83,78:84,79:86,80:87,81:89,82:-270,83:-268,84:-267,85:-266,86:-264,87:-263,88:-261,89:-260,90:-258,"-270":-258,"-269":-257,"-268":-256,"-267":-254,"-266":-253,"-265":-251,"-264":-250,"-263":-249,"-262":-247,"-261":-246,"-260":-245,"-259":-243,"-258":-242,"-257":-241,"-256":-240,"-255":-238,"-254":-237,"-253":-236,"-252":-235,"-251":-234,"-250":-232,"-249":-231,"-248":-230,"-247":-229,"-246":-228,"-245":-227,"-244":-226,"-243":-225,"-242":-224,"-241":-223,"-240":-222,"-239":-221,"-238":-220,"-237":-219,"-236":-218,"-235":-217,"-234":-216,"-233":-215,"-232":-214,"-231":-213,"-230":-213,"-229":-212,"-228":-211,"-227":-210,"-226":-209,"-225":-209,"-224":-208,"-223":-207,"-222":-206,"-221":-205,"-220":-205,"-219":-204,"-218":-203,"-217":-203,"-216":-202,"-215":-201,"-214":-200,"-213":-200,"-212":-199,"-211":-199,"-210":-198,"-209":-197,"-208":-197,"-207":-196,"-206":-195,"-205":-195,"-204":-194,"-203":-193,"-202":-193,"-201":-192,"-200":-192,"-199":-191,"-198":-190,"-197":-190,"-196":-189,"-195":-189,"-194":-188,"-193":-187,"-192":-187,"-191":-186,"-190":-186,"-189":-185,"-188":-185,"-187":-184,"-186":-183,"-185":-183,"-184":-182,"-183":-182,"-182":-181,"-181":-181,"-180":-180,"-179":-179,"-178":-179,"-177":-178,"-176":-178,"-175":-177,"-174":-177,"-173":-176,"-172":-176,"-171":-175,"-170":-174,"-169":-174,"-168":-173,"-167":-173,"-166":-172,"-165":-171,"-164":-171,"-163":-170,"-162":-170,"-161":-169,"-160":-169,"-159":-168,"-158":-167,"-157":-167,"-156":-166,"-155":-165,"-154":-165,"-153":-164,"-152":-164,"-151":-163,"-150":-162,"-149":-162,"-148":-161,"-147":-160,"-146":-160,"-145":-159,"-144":-158,"-143":-157,"-142":-157,"-141":-156,"-140":-155,"-139":-155,"-138":-154,"-137":-153,"-136":-152,"-135":-152,"-134":-151,"-133":-150,"-132":-149,"-131":-148,"-130":-147,"-129":-147,"-128":-146,"-127":-145,"-126":-144,"-125":-143,"-124":-142,"-123":-141,"-122":-140,"-121":-139,"-120":-138,"-119":-137,"-118":-136,"-117":-135,"-116":-134,"-115":-133,"-114":-132,"-113":-131,"-112":-130,"-111":-129,"-110":-128,"-109":-127,"-108":-125,"-107":-124,"-106":-123,"-105":-122,"-104":-121,"-103":-119,"-102":-118,"-101":-117,"-100":-115,"-99":-114,"-98":-113,"-97":-111,"-96":-110,"-95":-109,"-94":-107,"-93":-106,"-92":-105,"-91":-103,"-90":-102,"-89":-100,"-88":-99,"-87":-98,"-86":-96,"-85":-95,"-84":-93,"-83":-92,"-82":-90,"-81":-89,"-80":-87,"-79":-86,"-78":-85,"-77":-83,"-76":-82,"-75":-80,"-74":-79,"-73":-77,"-72":-76,"-71":-75,"-70":-73,"-69":-72,"-68":-71,"-67":-69,"-66":-68,"-65":-66,"-64":-65,"-63":-64,"-62":-63,"-61":-61,"-60":-60,"-59":-59,"-58":-57,"-57":-56,"-56":-55,"-55":-54,"-54":-52,"-53":-51,"-52":-50,"-51":-49,"-50":-48,"-49":-47,"-48":-45,"-47":-44,"-46":-43,"-45":-42,"-44":-41,"-43":-40,"-42":-39,"-41":-38,"-40":-37,"-39":-36,"-38":-35,"-37":-34,"-36":-33,"-35":-32,"-34":-31,"-33":-30,"-32":-29,"-31":-28,"-30":-27,"-29":-26,"-28":-25,"-27":-24,"-26":-23,"-25":-22,"-24":-21,"-23":-20,"-22":-19,"-21":-18,"-20":-17,"-19":-17,"-18":-16,"-17":-15,"-16":-14,"-15":-13,"-14":-12,"-13":-11,"-12":-10,"-11":-9,"-10":-9,"-9":-8,"-8":-7,"-7":-6,"-6":-5,"-5":-4,"-4":-3,"-3":-3,"-2":-2,"-1":-1}),y("FireAngleConvertBarrelAngle",{200001:{0:0,1:0,2:1,3:2,4:2,5:3,6:3,7:4,8:4,9:5,10:6,11:6,12:7,13:7,14:8,15:8,16:9,17:10,18:10,19:11,20:11,21:12,22:13,23:13,24:14,25:15,26:15,27:16,28:16,29:17,30:18,31:19,32:19,33:20,34:21,35:21,36:22,37:23,38:24,39:25,40:25,41:26,42:27,43:28,44:29,45:30,46:31,47:32,48:33,49:34,50:35,51:36,52:37,53:38,54:39,55:40,56:42,57:43,58:44,59:45,60:47,61:48,62:50,63:51,64:53,65:54,66:56,67:58,68:59,69:61,70:63,71:65,72:67,73:69,74:71,75:73,76:75,77:78,78:80,79:82,80:85,81:87,82:89,83:-268,84:-266,85:-263,86:-261,87:-258,88:-256,89:-253,90:-251,"-270":-250,"-269":-248,"-268":-246,"-267":-244,"-266":-241,"-265":-239,"-264":-237,"-263":-235,"-262":-233,"-261":-231,"-260":-229,"-259":-227,"-258":-226,"-257":-224,"-256":-222,"-255":-221,"-254":-219,"-253":-218,"-252":-217,"-251":-215,"-250":-214,"-249":-213,"-248":-212,"-247":-211,"-246":-210,"-245":-209,"-244":-208,"-243":-207,"-242":-206,"-241":-205,"-240":-204,"-239":-204,"-238":-203,"-237":-202,"-236":-202,"-235":-201,"-234":-200,"-233":-200,"-232":-199,"-231":-198,"-230":-198,"-229":-197,"-228":-197,"-227":-196,"-226":-196,"-225":-195,"-224":-195,"-223":-194,"-222":-194,"-221":-193,"-220":-193,"-219":-192,"-218":-192,"-217":-192,"-216":-191,"-215":-191,"-214":-190,"-213":-190,"-212":-190,"-211":-189,"-210":-189,"-209":-189,"-208":-188,"-207":-188,"-206":-188,"-205":-187,"-204":-187,"-203":-187,"-202":-186,"-201":-186,"-200":-186,"-199":-185,"-198":-185,"-197":-185,"-196":-185,"-195":-184,"-194":-184,"-193":-184,"-192":-183,"-191":-183,"-190":-183,"-189":-183,"-188":-182,"-187":-182,"-186":-182,"-185":-181,"-184":-181,"-183":-181,"-182":-181,"-181":-180,"-180":-180,"-179":-180,"-178":-179,"-177":-179,"-176":-179,"-175":-179,"-174":-178,"-173":-178,"-172":-178,"-171":-178,"-170":-177,"-169":-177,"-168":-177,"-167":-176,"-166":-176,"-165":-176,"-164":-176,"-163":-175,"-162":-175,"-161":-175,"-160":-174,"-159":-174,"-158":-174,"-157":-173,"-156":-173,"-155":-173,"-154":-172,"-153":-172,"-152":-172,"-151":-171,"-150":-171,"-149":-171,"-148":-170,"-147":-170,"-146":-170,"-145":-169,"-144":-169,"-143":-168,"-142":-168,"-141":-168,"-140":-167,"-139":-167,"-138":-166,"-137":-166,"-136":-165,"-135":-165,"-134":-164,"-133":-164,"-132":-163,"-131":-163,"-130":-162,"-129":-162,"-128":-161,"-127":-161,"-126":-160,"-125":-159,"-124":-159,"-123":-158,"-122":-157,"-121":-156,"-120":-156,"-119":-155,"-118":-154,"-117":-153,"-116":-152,"-115":-151,"-114":-150,"-113":-149,"-112":-148,"-111":-147,"-110":-146,"-109":-145,"-108":-143,"-107":-142,"-106":-141,"-105":-139,"-104":-138,"-103":-136,"-102":-135,"-101":-133,"-100":-131,"-99":-129,"-98":-127,"-97":-125,"-96":-123,"-95":-121,"-94":-119,"-93":-117,"-92":-115,"-91":-112,"-90":-110,"-89":-107,"-88":-105,"-87":-102,"-86":-100,"-85":-97,"-84":-95,"-83":-92,"-82":-90,"-81":-88,"-80":-85,"-79":-83,"-78":-80,"-77":-78,"-76":-76,"-75":-74,"-74":-71,"-73":-69,"-72":-67,"-71":-65,"-70":-63,"-69":-62,"-68":-60,"-67":-58,"-66":-56,"-65":-55,"-64":-53,"-63":-51,"-62":-50,"-61":-48,"-60":-47,"-59":-46,"-58":-44,"-57":-43,"-56":-42,"-55":-41,"-54":-39,"-53":-38,"-52":-37,"-51":-36,"-50":-35,"-49":-34,"-48":-33,"-47":-32,"-46":-31,"-45":-30,"-44":-29,"-43":-28,"-42":-27,"-41":-26,"-40":-26,"-39":-25,"-38":-24,"-37":-23,"-36":-22,"-35":-22,"-34":-21,"-33":-20,"-32":-19,"-31":-19,"-30":-18,"-29":-17,"-28":-17,"-27":-16,"-26":-15,"-25":-15,"-24":-14,"-23":-13,"-22":-13,"-21":-12,"-20":-11,"-19":-11,"-18":-10,"-17":-10,"-16":-9,"-15":-9,"-14":-8,"-13":-7,"-12":-7,"-11":-6,"-10":-6,"-9":-5,"-8":-5,"-7":-4,"-6":-3,"-5":-3,"-4":-2,"-3":-2,"-2":-1,"-1":-1},200002:{0:0,1:0,2:1,3:1,4:2,5:2,6:3,7:3,8:4,9:4,10:5,11:5,12:6,13:6,14:7,15:7,16:8,17:8,18:9,19:9,20:10,21:11,22:11,23:12,24:12,25:13,26:13,27:14,28:15,29:15,30:16,31:16,32:17,33:18,34:18,35:19,36:20,37:20,38:21,39:22,40:22,41:23,42:24,43:25,44:25,45:26,46:27,47:28,48:29,49:30,50:31,51:32,52:33,53:34,54:35,55:36,56:37,57:38,58:39,59:40,60:41,61:43,62:44,63:45,64:47,65:48,66:50,67:51,68:53,69:54,70:56,71:58,72:60,73:62,74:63,75:65,76:67,77:70,78:72,79:74,80:76,81:78,82:81,83:83,84:85,85:88,86:-270,87:-267,88:-265,89:-263,90:-260,"-270":-260,"-269":-258,"-268":-255,"-267":-253,"-266":-251,"-265":-248,"-264":-246,"-263":-244,"-262":-242,"-261":-240,"-260":-238,"-259":-236,"-258":-234,"-257":-232,"-256":-230,"-255":-229,"-254":-227,"-253":-226,"-252":-224,"-251":-223,"-250":-221,"-249":-220,"-248":-219,"-247":-217,"-246":-216,"-245":-215,"-244":-214,"-243":-213,"-242":-212,"-241":-211,"-240":-210,"-239":-209,"-238":-208,"-237":-207,"-236":-206,"-235":-206,"-234":-205,"-233":-204,"-232":-203,"-231":-203,"-230":-202,"-229":-201,"-228":-201,"-227":-200,"-226":-199,"-225":-199,"-224":-198,"-223":-198,"-222":-197,"-221":-196,"-220":-196,"-219":-195,"-218":-195,"-217":-194,"-216":-194,"-215":-193,"-214":-193,"-213":-192,"-212":-192,"-211":-192,"-210":-191,"-209":-191,"-208":-190,"-207":-190,"-206":-189,"-205":-189,"-204":-189,"-203":-188,"-202":-188,"-201":-187,"-200":-187,"-199":-187,"-198":-186,"-197":-186,"-196":-186,"-195":-185,"-194":-185,"-193":-185,"-192":-184,"-191":-184,"-190":-183,"-189":-183,"-188":-183,"-187":-182,"-186":-182,"-185":-182,"-184":-181,"-183":-181,"-182":-181,"-181":-180,"-180":-180,"-179":-180,"-178":-179,"-177":-179,"-176":-179,"-175":-178,"-174":-178,"-173":-178,"-172":-177,"-171":-177,"-170":-177,"-169":-176,"-168":-176,"-167":-176,"-166":-175,"-165":-175,"-164":-174,"-163":-174,"-162":-174,"-161":-173,"-160":-173,"-159":-173,"-158":-172,"-157":-172,"-156":-171,"-155":-171,"-154":-171,"-153":-170,"-152":-170,"-151":-169,"-150":-169,"-149":-169,"-148":-168,"-147":-168,"-146":-167,"-145":-167,"-144":-166,"-143":-166,"-142":-165,"-141":-165,"-140":-164,"-139":-164,"-138":-163,"-137":-163,"-136":-162,"-135":-161,"-134":-161,"-133":-160,"-132":-160,"-131":-159,"-130":-158,"-129":-158,"-128":-157,"-127":-156,"-126":-155,"-125":-155,"-124":-154,"-123":-153,"-122":-152,"-121":-151,"-120":-150,"-119":-149,"-118":-148,"-117":-147,"-116":-146,"-115":-145,"-114":-144,"-113":-143,"-112":-142,"-111":-140,"-110":-139,"-109":-138,"-108":-136,"-107":-135,"-106":-133,"-105":-132,"-104":-130,"-103":-128,"-102":-126,"-101":-125,"-100":-123,"-99":-121,"-98":-119,"-97":-116,"-96":-114,"-95":-112,"-94":-110,"-93":-108,"-92":-105,"-91":-103,"-90":-100,"-89":-98,"-88":-96,"-87":-93,"-86":-91,"-85":-88,"-84":-86,"-83":-83,"-82":-81,"-81":-79,"-80":-77,"-79":-74,"-78":-72,"-77":-70,"-76":-68,"-75":-66,"-74":-64,"-73":-62,"-72":-60,"-71":-58,"-70":-56,"-69":-55,"-68":-53,"-67":-52,"-66":-50,"-65":-48,"-64":-47,"-63":-46,"-62":-44,"-61":-43,"-60":-42,"-59":-40,"-58":-39,"-57":-38,"-56":-37,"-55":-36,"-54":-35,"-53":-34,"-52":-33,"-51":-32,"-50":-31,"-49":-30,"-48":-29,"-47":-28,"-46":-27,"-45":-26,"-44":-26,"-43":-25,"-42":-24,"-41":-23,"-40":-23,"-39":-22,"-38":-21,"-37":-20,"-36":-20,"-35":-19,"-34":-18,"-33":-18,"-32":-17,"-31":-16,"-30":-16,"-29":-15,"-28":-15,"-27":-14,"-26":-13,"-25":-13,"-24":-12,"-23":-12,"-22":-11,"-21":-11,"-20":-10,"-19":-10,"-18":-9,"-17":-9,"-16":-8,"-15":-8,"-14":-7,"-13":-6,"-12":-6,"-11":-5,"-10":-5,"-9":-4,"-8":-4,"-7":-3,"-6":-3,"-5":-2,"-4":-2,"-3":-2,"-2":-1,"-1":-1},200003:{0:0,1:0,2:1,3:2,4:2,5:3,6:3,7:4,8:4,9:5,10:5,11:6,12:6,13:7,14:7,15:8,16:8,17:9,18:10,19:10,20:11,21:11,22:12,23:12,24:13,25:14,26:14,27:15,28:15,29:16,30:17,31:17,32:18,33:19,34:19,35:20,36:21,37:22,38:22,39:23,40:24,41:25,42:25,43:26,44:27,45:28,46:29,47:30,48:31,49:32,50:33,51:34,52:35,53:36,54:37,55:38,56:39,57:40,58:41,59:43,60:44,61:45,62:47,63:48,64:49,65:51,66:53,67:54,68:56,69:58,70:59,71:61,72:63,73:65,74:67,75:69,76:71,77:73,78:75,79:78,80:80,81:82,82:85,83:87,84:90,85:-268,86:-266,87:-263,88:-261,89:-258,90:-256,"-270":-256,"-269":-253,"-268":-251,"-267":-249,"-266":-246,"-265":-244,"-264":-242,"-263":-240,"-262":-238,"-261":-236,"-260":-234,"-259":-232,"-258":-230,"-257":-228,"-256":-227,"-255":-225,"-254":-224,"-253":-222,"-252":-221,"-251":-219,"-250":-218,"-249":-217,"-248":-216,"-247":-214,"-246":-213,"-245":-212,"-244":-211,"-243":-210,"-242":-209,"-241":-208,"-240":-207,"-239":-207,"-238":-206,"-237":-205,"-236":-204,"-235":-203,"-234":-203,"-233":-202,"-232":-201,"-231":-201,"-230":-200,"-229":-199,"-228":-199,"-227":-198,"-226":-198,"-225":-197,"-224":-197,"-223":-196,"-222":-196,"-221":-195,"-220":-195,"-219":-194,"-218":-194,"-217":-193,"-216":-193,"-215":-192,"-214":-192,"-213":-191,"-212":-191,"-211":-191,"-210":-190,"-209":-190,"-208":-189,"-207":-189,"-206":-189,"-205":-188,"-204":-188,"-203":-188,"-202":-187,"-201":-187,"-200":-186,"-199":-186,"-198":-186,"-197":-185,"-196":-185,"-195":-185,"-194":-184,"-193":-184,"-192":-184,"-191":-183,"-190":-183,"-189":-183,"-188":-183,"-187":-182,"-186":-182,"-185":-182,"-184":-181,"-183":-181,"-182":-181,"-181":-180,"-180":-180,"-179":-180,"-178":-179,"-177":-179,"-176":-179,"-175":-178,"-174":-178,"-173":-178,"-172":-178,"-171":-177,"-170":-177,"-169":-177,"-168":-176,"-167":-176,"-166":-176,"-165":-175,"-164":-175,"-163":-175,"-162":-174,"-161":-174,"-160":-174,"-159":-173,"-158":-173,"-157":-173,"-156":-172,"-155":-172,"-154":-171,"-153":-171,"-152":-171,"-151":-170,"-150":-170,"-149":-170,"-148":-169,"-147":-169,"-146":-168,"-145":-168,"-144":-167,"-143":-167,"-142":-167,"-141":-166,"-140":-166,"-139":-165,"-138":-165,"-137":-164,"-136":-164,"-135":-163,"-134":-162,"-133":-162,"-132":-161,"-131":-161,"-130":-160,"-129":-159,"-128":-159,"-127":-158,"-126":-157,"-125":-157,"-124":-156,"-123":-155,"-122":-154,"-121":-154,"-120":-153,"-119":-152,"-118":-151,"-117":-150,"-116":-149,"-115":-148,"-114":-147,"-113":-146,"-112":-145,"-111":-143,"-110":-142,"-109":-141,"-108":-140,"-107":-138,"-106":-137,"-105":-135,"-104":-134,"-103":-132,"-102":-130,"-101":-128,"-100":-127,"-99":-125,"-98":-123,"-97":-121,"-96":-118,"-95":-116,"-94":-114,"-93":-112,"-92":-109,"-91":-107,"-90":-105,"-89":-102,"-88":-100,"-87":-97,"-86":-95,"-85":-92,"-84":-90,"-83":-88,"-82":-85,"-81":-83,"-80":-80,"-79":-78,"-78":-76,"-77":-74,"-76":-72,"-75":-69,"-74":-67,"-73":-65,"-72":-63,"-71":-62,"-70":-60,"-69":-58,"-68":-56,"-67":-55,"-66":-53,"-65":-51,"-64":-50,"-63":-48,"-62":-47,"-61":-45,"-60":-44,"-59":-43,"-58":-42,"-57":-40,"-56":-39,"-55":-38,"-54":-37,"-53":-36,"-52":-35,"-51":-34,"-50":-33,"-49":-32,"-48":-31,"-47":-30,"-46":-29,"-45":-28,"-44":-27,"-43":-26,"-42":-26,"-41":-25,"-40":-24,"-39":-23,"-38":-22,"-37":-22,"-36":-21,"-35":-20,"-34":-20,"-33":-19,"-32":-18,"-31":-17,"-30":-17,"-29":-16,"-28":-16,"-27":-15,"-26":-14,"-25":-14,"-24":-13,"-23":-13,"-22":-12,"-21":-11,"-20":-11,"-19":-10,"-18":-10,"-17":-9,"-16":-9,"-15":-8,"-14":-7,"-13":-7,"-12":-6,"-11":-6,"-10":-5,"-9":-5,"-8":-4,"-7":-4,"-6":-3,"-5":-3,"-4":-2,"-3":-2,"-2":-1,"-1":-1}}),y("BarrelAngleConvertFireAngle",{200001:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:11,11:12,12:13,13:14,14:15,15:16,16:17,17:18,18:19,19:20,20:21,21:22,22:23,23:24,24:25,25:26,26:27,27:28,28:29,29:30,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:40,42:41,43:42,44:43,45:44,46:45,47:45,48:46,49:47,50:48,51:49,52:50,53:50,54:51,55:52,56:53,57:53,58:54,59:55,60:56,61:56,62:57,63:58,64:59,65:59,66:60,67:61,68:62,69:62,70:63,71:64,72:64,73:65,74:66,75:67,76:67,77:68,78:69,79:69,80:70,81:71,82:71,83:72,84:73,85:73,86:74,87:75,88:75,89:76,90:77,"-270":82,"-269":77,"-268":78,"-267":79,"-266":79,"-265":80,"-264":81,"-263":81,"-262":82,"-261":83,"-260":83,"-259":84,"-258":85,"-257":85,"-256":86,"-255":87,"-254":88,"-253":88,"-252":89,"-251":90,"-250":-270,"-249":-269,"-248":-268,"-247":-268,"-246":-267,"-245":-266,"-244":-265,"-243":-265,"-242":-264,"-241":-263,"-240":-262,"-239":-262,"-238":-261,"-237":-260,"-236":-259,"-235":-258,"-234":-258,"-233":-257,"-232":-256,"-231":-255,"-230":-254,"-229":-253,"-228":-252,"-227":-251,"-226":-251,"-225":-250,"-224":-249,"-223":-248,"-222":-247,"-221":-246,"-220":-245,"-219":-244,"-218":-242,"-217":-241,"-216":-240,"-215":-239,"-214":-238,"-213":-237,"-212":-236,"-211":-234,"-210":-233,"-209":-232,"-208":-230,"-207":-229,"-206":-228,"-205":-226,"-204":-225,"-203":-223,"-202":-222,"-201":-220,"-200":-219,"-199":-217,"-198":-215,"-197":-214,"-196":-212,"-195":-210,"-194":-208,"-193":-206,"-192":-205,"-191":-203,"-190":-201,"-189":-199,"-188":-197,"-187":-195,"-186":-193,"-185":-191,"-184":-188,"-183":-186,"-182":-184,"-181":-182,"-180":-180,"-179":-178,"-178":-176,"-177":-174,"-176":-172,"-175":-169,"-174":-167,"-173":-165,"-172":-163,"-171":-161,"-170":-159,"-169":-157,"-168":-155,"-167":-154,"-166":-152,"-165":-150,"-164":-148,"-163":-146,"-162":-145,"-161":-143,"-160":-141,"-159":-140,"-158":-138,"-157":-137,"-156":-135,"-155":-134,"-154":-132,"-153":-131,"-152":-130,"-151":-128,"-150":-127,"-149":-126,"-148":-124,"-147":-123,"-146":-122,"-145":-121,"-144":-120,"-143":-119,"-142":-118,"-141":-116,"-140":-115,"-139":-114,"-138":-113,"-137":-112,"-136":-111,"-135":-110,"-134":-109,"-133":-109,"-132":-108,"-131":-107,"-130":-106,"-129":-105,"-128":-104,"-127":-103,"-126":-102,"-125":-102,"-124":-101,"-123":-100,"-122":-99,"-121":-98,"-120":-98,"-119":-97,"-118":-96,"-117":-95,"-116":-95,"-115":-94,"-114":-93,"-113":-92,"-112":-92,"-111":-91,"-110":-90,"-109":-90,"-108":-89,"-107":-88,"-106":-88,"-105":-87,"-104":-86,"-103":-85,"-102":-85,"-101":-84,"-100":-83,"-99":-83,"-98":-82,"-97":-81,"-96":-81,"-95":-80,"-94":-79,"-93":-79,"-92":-78,"-91":-77,"-90":-77,"-89":-76,"-88":-75,"-87":-75,"-86":-74,"-85":-73,"-84":-73,"-83":-72,"-82":-71,"-81":-71,"-80":-70,"-79":-69,"-78":-69,"-77":-68,"-76":-67,"-75":-67,"-74":-66,"-73":-65,"-72":-64,"-71":-64,"-70":-63,"-69":-62,"-68":-62,"-67":-61,"-66":-60,"-65":-59,"-64":-59,"-63":-58,"-62":-57,"-61":-56,"-60":-56,"-59":-55,"-58":-54,"-57":-53,"-56":-53,"-55":-52,"-54":-51,"-53":-50,"-52":-50,"-51":-49,"-50":-48,"-49":-47,"-48":-46,"-47":-45,"-46":-45,"-45":-44,"-44":-43,"-43":-42,"-42":-41,"-41":-40,"-40":-40,"-39":-39,"-38":-38,"-37":-37,"-36":-36,"-35":-35,"-34":-34,"-33":-33,"-32":-32,"-31":-31,"-30":-30,"-29":-30,"-28":-29,"-27":-28,"-26":-27,"-25":-26,"-24":-25,"-23":-24,"-22":-23,"-21":-22,"-20":-21,"-19":-20,"-18":-19,"-17":-18,"-16":-17,"-15":-16,"-14":-15,"-13":-14,"-12":-13,"-11":-12,"-10":-11,"-9":-9,"-8":-8,"-7":-7,"-6":-6,"-5":-5,"-4":-4,"-3":-3,"-2":-2,"-1":-1},200002:{0:0,1:1,2:2,3:4,4:5,5:6,6:7,7:8,8:10,9:11,10:12,11:13,12:14,13:15,14:17,15:18,16:19,17:20,18:21,19:22,20:23,21:25,22:26,23:27,24:28,25:29,26:30,27:31,28:32,29:33,30:34,31:35,32:36,33:37,34:38,35:39,36:40,37:41,38:42,39:43,40:44,41:45,42:46,43:47,44:48,45:49,46:49,47:50,48:51,49:52,50:53,51:54,52:55,53:55,54:56,55:57,56:58,57:59,58:60,59:60,60:61,61:62,62:63,63:63,64:64,65:65,66:66,67:66,68:67,69:68,70:69,71:69,72:70,73:71,74:72,75:72,76:73,77:74,78:74,79:75,80:76,81:77,82:77,83:78,84:79,85:79,86:80,87:81,88:82,89:82,90:83,"-270":86,"-269":84,"-268":84,"-267":85,"-266":86,"-265":86,"-264":87,"-263":88,"-262":88,"-261":89,"-260":90,"-259":-269,"-258":-269,"-257":-268,"-256":-267,"-255":-267,"-254":-266,"-253":-265,"-252":-264,"-251":-264,"-250":-263,"-249":-262,"-248":-261,"-247":-261,"-246":-260,"-245":-259,"-244":-258,"-243":-258,"-242":-257,"-241":-256,"-240":-255,"-239":-254,"-238":-254,"-237":-253,"-236":-252,"-235":-251,"-234":-250,"-233":-249,"-232":-248,"-231":-248,"-230":-247,"-229":-246,"-228":-245,"-227":-244,"-226":-243,"-225":-242,"-224":-241,"-223":-240,"-222":-239,"-221":-238,"-220":-237,"-219":-236,"-218":-235,"-217":-234,"-216":-233,"-215":-232,"-214":-230,"-213":-229,"-212":-228,"-211":-227,"-210":-226,"-209":-224,"-208":-223,"-207":-222,"-206":-221,"-205":-219,"-204":-218,"-203":-217,"-202":-215,"-201":-214,"-200":-212,"-199":-211,"-198":-209,"-197":-208,"-196":-206,"-195":-205,"-194":-203,"-193":-202,"-192":-200,"-191":-199,"-190":-197,"-189":-195,"-188":-194,"-187":-192,"-186":-190,"-185":-189,"-184":-187,"-183":-185,"-182":-183,"-181":-182,"-180":-180,"-179":-178,"-178":-177,"-177":-175,"-176":-173,"-175":-171,"-174":-170,"-173":-168,"-172":-166,"-171":-165,"-170":-163,"-169":-161,"-168":-160,"-167":-158,"-166":-157,"-165":-155,"-164":-154,"-163":-152,"-162":-151,"-161":-149,"-160":-148,"-159":-146,"-158":-145,"-157":-143,"-156":-142,"-155":-141,"-154":-139,"-153":-138,"-152":-137,"-151":-136,"-150":-134,"-149":-133,"-148":-132,"-147":-131,"-146":-130,"-145":-128,"-144":-127,"-143":-126,"-142":-125,"-141":-124,"-140":-123,"-139":-122,"-138":-121,"-137":-120,"-136":-119,"-135":-118,"-134":-117,"-133":-116,"-132":-115,"-131":-114,"-130":-113,"-129":-112,"-128":-112,"-127":-111,"-126":-110,"-125":-109,"-124":-108,"-123":-107,"-122":-106,"-121":-106,"-120":-105,"-119":-104,"-118":-103,"-117":-102,"-116":-102,"-115":-101,"-114":-100,"-113":-99,"-112":-99,"-111":-98,"-110":-97,"-109":-96,"-108":-96,"-107":-95,"-106":-94,"-105":-93,"-104":-93,"-103":-92,"-102":-91,"-101":-91,"-100":-90,"-99":-89,"-98":-88,"-97":-88,"-96":-87,"-95":-86,"-94":-86,"-93":-85,"-92":-84,"-91":-84,"-90":-83,"-89":-82,"-88":-82,"-87":-81,"-86":-80,"-85":-79,"-84":-79,"-83":-78,"-82":-77,"-81":-77,"-80":-76,"-79":-75,"-78":-74,"-77":-74,"-76":-73,"-75":-72,"-74":-72,"-73":-71,"-72":-70,"-71":-69,"-70":-69,"-69":-68,"-68":-67,"-67":-66,"-66":-66,"-65":-65,"-64":-64,"-63":-63,"-62":-63,"-61":-62,"-60":-61,"-59":-60,"-58":-60,"-57":-59,"-56":-58,"-55":-57,"-54":-56,"-53":-55,"-52":-55,"-51":-54,"-50":-53,"-49":-52,"-48":-51,"-47":-50,"-46":-49,"-45":-49,"-44":-48,"-43":-47,"-42":-46,"-41":-45,"-40":-44,"-39":-43,"-38":-42,"-37":-41,"-36":-40,"-35":-39,"-34":-38,"-33":-37,"-32":-36,"-31":-35,"-30":-34,"-29":-33,"-28":-32,"-27":-31,"-26":-30,"-25":-29,"-24":-28,"-23":-27,"-22":-26,"-21":-25,"-20":-23,"-19":-22,"-18":-21,"-17":-20,"-16":-19,"-15":-18,"-14":-17,"-13":-15,"-12":-14,"-11":-13,"-10":-12,"-9":-11,"-8":-10,"-7":-8,"-6":-7,"-5":-6,"-4":-5,"-3":-4,"-2":-2,"-1":-1},200003:{0:0,1:1,2:2,3:3,4:5,5:6,6:7,7:8,8:9,9:10,10:11,11:12,12:13,13:15,14:16,15:17,16:18,17:19,18:20,19:21,20:22,21:23,22:24,23:25,24:26,25:27,26:28,27:29,28:30,29:31,30:32,31:33,32:34,33:35,34:36,35:37,36:38,37:39,38:40,39:41,40:42,41:43,42:44,43:45,44:45,45:46,46:47,47:48,48:49,49:50,50:51,51:51,52:52,53:53,54:54,55:55,56:55,57:56,58:57,59:58,60:59,61:59,62:60,63:61,64:62,65:62,66:63,67:64,68:65,69:65,70:66,71:67,72:67,73:68,74:69,75:70,76:70,77:71,78:72,79:72,80:73,81:74,82:74,83:75,84:76,85:77,86:77,87:78,88:79,89:79,90:80,"-270":84,"-269":81,"-268":81,"-267":82,"-266":83,"-265":83,"-264":84,"-263":85,"-262":86,"-261":86,"-260":87,"-259":88,"-258":88,"-257":89,"-256":90,"-255":-270,"-254":-269,"-253":-268,"-252":-267,"-251":-267,"-250":-266,"-249":-265,"-248":-265,"-247":-264,"-246":-263,"-245":-262,"-244":-262,"-243":-261,"-242":-260,"-241":-259,"-240":-258,"-239":-258,"-238":-257,"-237":-256,"-236":-255,"-235":-254,"-234":-254,"-233":-253,"-232":-252,"-231":-251,"-230":-250,"-229":-249,"-228":-248,"-227":-247,"-226":-246,"-225":-245,"-224":-244,"-223":-243,"-222":-242,"-221":-241,"-220":-240,"-219":-239,"-218":-238,"-217":-237,"-216":-236,"-215":-235,"-214":-234,"-213":-233,"-212":-231,"-211":-230,"-210":-229,"-209":-228,"-208":-226,"-207":-225,"-206":-224,"-205":-222,"-204":-221,"-203":-219,"-202":-218,"-201":-217,"-200":-215,"-199":-213,"-198":-212,"-197":-210,"-196":-209,"-195":-207,"-194":-205,"-193":-204,"-192":-202,"-191":-200,"-190":-198,"-189":-197,"-188":-195,"-187":-193,"-186":-191,"-185":-189,"-184":-188,"-183":-186,"-182":-184,"-181":-182,"-180":-180,"-179":-178,"-178":-176,"-177":-174,"-176":-172,"-175":-171,"-174":-169,"-173":-167,"-172":-165,"-171":-163,"-170":-162,"-169":-160,"-168":-158,"-167":-156,"-166":-155,"-165":-153,"-164":-151,"-163":-150,"-162":-148,"-161":-147,"-160":-145,"-159":-143,"-158":-142,"-157":-141,"-156":-139,"-155":-138,"-154":-136,"-153":-135,"-152":-134,"-151":-132,"-150":-131,"-149":-130,"-148":-129,"-147":-127,"-146":-126,"-145":-125,"-144":-124,"-143":-123,"-142":-122,"-141":-121,"-140":-120,"-139":-119,"-138":-118,"-137":-117,"-136":-116,"-135":-115,"-134":-114,"-133":-113,"-132":-112,"-131":-111,"-130":-110,"-129":-109,"-128":-108,"-127":-107,"-126":-106,"-125":-106,"-124":-105,"-123":-104,"-122":-103,"-121":-102,"-120":-102,"-119":-101,"-118":-100,"-117":-99,"-116":-98,"-115":-98,"-114":-97,"-113":-96,"-112":-95,"-111":-95,"-110":-94,"-109":-93,"-108":-93,"-107":-92,"-106":-91,"-105":-90,"-104":-90,"-103":-89,"-102":-88,"-101":-88,"-100":-87,"-99":-86,"-98":-86,"-97":-85,"-96":-84,"-95":-83,"-94":-83,"-93":-82,"-92":-81,"-91":-81,"-90":-80,"-89":-79,"-88":-79,"-87":-78,"-86":-77,"-85":-77,"-84":-76,"-83":-75,"-82":-74,"-81":-74,"-80":-73,"-79":-72,"-78":-72,"-77":-71,"-76":-70,"-75":-70,"-74":-69,"-73":-68,"-72":-67,"-71":-67,"-70":-66,"-69":-65,"-68":-65,"-67":-64,"-66":-63,"-65":-62,"-64":-62,"-63":-61,"-62":-60,"-61":-59,"-60":-59,"-59":-58,"-58":-57,"-57":-56,"-56":-55,"-55":-55,"-54":-54,"-53":-53,"-52":-52,"-51":-51,"-50":-51,"-49":-50,"-48":-49,"-47":-48,"-46":-47,"-45":-46,"-44":-45,"-43":-45,"-42":-44,"-41":-43,"-40":-42,"-39":-41,"-38":-40,"-37":-39,"-36":-38,"-35":-37,"-34":-36,"-33":-35,"-32":-34,"-31":-33,"-30":-32,"-29":-31,"-28":-30,"-27":-29,"-26":-28,"-25":-27,"-24":-26,"-23":-25,"-22":-24,"-21":-23,"-20":-22,"-19":-21,"-18":-20,"-17":-19,"-16":-18,"-15":-17,"-14":-16,"-13":-15,"-12":-13,"-11":-12,"-10":-11,"-9":-10,"-8":-9,"-7":-8,"-6":-7,"-5":-6,"-4":-5,"-3":-3,"-2":-2,"-1":-1}}),y("BarrelAngleConvertFirePos",{200001:{0:{x:0,y:76},1:{x:-1,y:76},2:{x:-2,y:76},3:{x:-3,y:76},4:{x:-4,y:76},5:{x:-5,y:76},6:{x:-6,y:76},7:{x:-7,y:76},8:{x:-7,y:76},9:{x:-8,y:76},10:{x:-9,y:76},11:{x:-10,y:76},12:{x:-11,y:75},13:{x:-12,y:75},14:{x:-13,y:75},15:{x:-14,y:75},16:{x:-15,y:75},17:{x:-16,y:75},18:{x:-17,y:74},19:{x:-18,y:74},20:{x:-18,y:74},21:{x:-19,y:74},22:{x:-20,y:73},23:{x:-21,y:73},24:{x:-22,y:73},25:{x:-23,y:73},26:{x:-24,y:72},27:{x:-24,y:72},28:{x:-25,y:72},29:{x:-26,y:71},30:{x:-27,y:71},31:{x:-28,y:71},32:{x:-29,y:70},33:{x:-29,y:70},34:{x:-30,y:70},35:{x:-31,y:69},36:{x:-32,y:69},37:{x:-32,y:69},38:{x:-33,y:68},39:{x:-34,y:68},40:{x:-35,y:67},41:{x:-35,y:67},42:{x:-36,y:66},43:{x:-37,y:66},44:{x:-37,y:66},45:{x:-38,y:65},46:{x:-39,y:65},47:{x:-39,y:64},48:{x:-40,y:64},49:{x:-41,y:63},50:{x:-41,y:63},51:{x:-42,y:62},52:{x:-42,y:62},53:{x:-43,y:61},54:{x:-44,y:61},55:{x:-44,y:60},56:{x:-45,y:59},57:{x:-45,y:59},58:{x:-46,y:58},59:{x:-46,y:58},60:{x:-47,y:57},61:{x:-47,y:57},62:{x:-48,y:56},63:{x:-48,y:55},64:{x:-48,y:55},65:{x:-49,y:54},66:{x:-49,y:54},67:{x:-50,y:53},68:{x:-50,y:52},69:{x:-50,y:52},70:{x:-51,y:51},71:{x:-51,y:51},72:{x:-51,y:50},73:{x:-52,y:49},74:{x:-52,y:49},75:{x:-52,y:48},76:{x:-52,y:47},77:{x:-53,y:47},78:{x:-53,y:46},79:{x:-53,y:45},80:{x:-53,y:45},81:{x:-53,y:44},82:{x:-53,y:43},83:{x:-53,y:43},84:{x:-54,y:42},85:{x:-54,y:41},86:{x:-54,y:41},87:{x:-54,y:40},88:{x:-54,y:39},89:{x:-54,y:39},90:{x:-54,y:38},"-271":{x:799692,y:312565},"-270":{x:-54,y:38},"-269":{x:-54,y:37},"-268":{x:-54,y:37},"-267":{x:-54,y:36},"-266":{x:-54,y:36},"-265":{x:-54,y:35},"-264":{x:-54,y:34},"-263":{x:-53,y:34},"-262":{x:-53,y:33},"-261":{x:-53,y:32},"-260":{x:-53,y:32},"-259":{x:-53,y:31},"-258":{x:-53,y:30},"-257":{x:-53,y:30},"-256":{x:-52,y:29},"-255":{x:-52,y:28},"-254":{x:-52,y:28},"-253":{x:-52,y:27},"-252":{x:-51,y:26},"-251":{x:-51,y:26},"-250":{x:-51,y:25},"-249":{x:-50,y:25},"-248":{x:-50,y:24},"-247":{x:-50,y:23},"-246":{x:-49,y:23},"-245":{x:-49,y:22},"-244":{x:-48,y:21},"-243":{x:-48,y:21},"-242":{x:-48,y:20},"-241":{x:-47,y:20},"-240":{x:-47,y:19},"-239":{x:-46,y:19},"-238":{x:-46,y:18},"-237":{x:-45,y:17},"-236":{x:-45,y:17},"-235":{x:-44,y:16},"-234":{x:-44,y:16},"-233":{x:-43,y:15},"-232":{x:-42,y:15},"-231":{x:-42,y:14},"-230":{x:-41,y:14},"-229":{x:-41,y:13},"-228":{x:-40,y:13},"-227":{x:-39,y:12},"-226":{x:-39,y:12},"-225":{x:-38,y:11},"-224":{x:-37,y:11},"-223":{x:-37,y:10},"-222":{x:-36,y:10},"-221":{x:-35,y:9},"-220":{x:-35,y:9},"-219":{x:-34,y:9},"-218":{x:-33,y:8},"-217":{x:-32,y:8},"-216":{x:-32,y:7},"-215":{x:-31,y:7},"-214":{x:-30,y:7},"-213":{x:-29,y:6},"-212":{x:-29,y:6},"-211":{x:-28,y:5},"-210":{x:-27,y:5},"-209":{x:-26,y:5},"-208":{x:-25,y:5},"-207":{x:-24,y:4},"-206":{x:-24,y:4},"-205":{x:-23,y:4},"-204":{x:-22,y:3},"-203":{x:-21,y:3},"-202":{x:-20,y:3},"-201":{x:-19,y:3},"-200":{x:-18,y:2},"-199":{x:-18,y:2},"-198":{x:-17,y:2},"-197":{x:-16,y:2},"-196":{x:-15,y:2},"-195":{x:-14,y:1},"-194":{x:-13,y:1},"-193":{x:-12,y:1},"-192":{x:-11,y:1},"-191":{x:-10,y:1},"-190":{x:-9,y:1},"-189":{x:-8,y:1},"-188":{x:-7,y:0},"-187":{x:-7,y:0},"-186":{x:-6,y:0},"-185":{x:-5,y:0},"-184":{x:-4,y:0},"-183":{x:-3,y:0},"-182":{x:-2,y:0},"-181":{x:-1,y:0},"-180":{x:0,y:0},"-179":{x:1,y:0},"-178":{x:2,y:0},"-177":{x:3,y:0},"-176":{x:4,y:0},"-175":{x:5,y:0},"-174":{x:6,y:0},"-173":{x:7,y:0},"-172":{x:7,y:0},"-171":{x:8,y:1},"-170":{x:9,y:1},"-169":{x:10,y:1},"-168":{x:11,y:1},"-167":{x:12,y:1},"-166":{x:13,y:1},"-165":{x:14,y:1},"-164":{x:15,y:2},"-163":{x:16,y:2},"-162":{x:17,y:2},"-161":{x:18,y:2},"-160":{x:18,y:2},"-159":{x:19,y:3},"-158":{x:20,y:3},"-157":{x:21,y:3},"-156":{x:22,y:3},"-155":{x:23,y:4},"-154":{x:24,y:4},"-153":{x:24,y:4},"-152":{x:25,y:5},"-151":{x:26,y:5},"-150":{x:27,y:5},"-149":{x:28,y:5},"-148":{x:29,y:6},"-147":{x:29,y:6},"-146":{x:30,y:7},"-145":{x:31,y:7},"-144":{x:32,y:7},"-143":{x:32,y:8},"-142":{x:33,y:8},"-141":{x:34,y:9},"-140":{x:35,y:9},"-139":{x:35,y:9},"-138":{x:36,y:10},"-137":{x:37,y:10},"-136":{x:37,y:11},"-135":{x:38,y:11},"-134":{x:39,y:12},"-133":{x:39,y:12},"-132":{x:40,y:13},"-131":{x:41,y:13},"-130":{x:41,y:14},"-129":{x:42,y:14},"-128":{x:42,y:15},"-127":{x:43,y:15},"-126":{x:44,y:16},"-125":{x:44,y:16},"-124":{x:45,y:17},"-123":{x:45,y:17},"-122":{x:46,y:18},"-121":{x:46,y:19},"-120":{x:47,y:19},"-119":{x:47,y:20},"-118":{x:48,y:20},"-117":{x:48,y:21},"-116":{x:48,y:21},"-115":{x:49,y:22},"-114":{x:49,y:23},"-113":{x:50,y:23},"-112":{x:50,y:24},"-111":{x:50,y:25},"-110":{x:51,y:25},"-109":{x:51,y:26},"-108":{x:51,y:26},"-107":{x:52,y:27},"-106":{x:52,y:28},"-105":{x:52,y:28},"-104":{x:52,y:29},"-103":{x:53,y:30},"-102":{x:53,y:30},"-101":{x:53,y:31},"-100":{x:53,y:32},"-99":{x:53,y:32},"-98":{x:53,y:33},"-97":{x:53,y:34},"-96":{x:54,y:34},"-95":{x:54,y:35},"-94":{x:54,y:36},"-93":{x:54,y:36},"-92":{x:54,y:37},"-91":{x:54,y:37},"-90":{x:54,y:38},"-89":{x:54,y:39},"-88":{x:54,y:39},"-87":{x:54,y:40},"-86":{x:54,y:41},"-85":{x:54,y:41},"-84":{x:54,y:42},"-83":{x:53,y:43},"-82":{x:53,y:43},"-81":{x:53,y:44},"-80":{x:53,y:45},"-79":{x:53,y:45},"-78":{x:53,y:46},"-77":{x:53,y:47},"-76":{x:52,y:47},"-75":{x:52,y:48},"-74":{x:52,y:49},"-73":{x:52,y:49},"-72":{x:51,y:50},"-71":{x:51,y:51},"-70":{x:51,y:51},"-69":{x:50,y:52},"-68":{x:50,y:52},"-67":{x:50,y:53},"-66":{x:49,y:54},"-65":{x:49,y:54},"-64":{x:48,y:55},"-63":{x:48,y:55},"-62":{x:48,y:56},"-61":{x:47,y:57},"-60":{x:47,y:57},"-59":{x:46,y:58},"-58":{x:46,y:58},"-57":{x:45,y:59},"-56":{x:45,y:59},"-55":{x:44,y:60},"-54":{x:44,y:61},"-53":{x:43,y:61},"-52":{x:42,y:62},"-51":{x:42,y:62},"-50":{x:41,y:63},"-49":{x:41,y:63},"-48":{x:40,y:64},"-47":{x:39,y:64},"-46":{x:39,y:65},"-45":{x:38,y:65},"-44":{x:37,y:66},"-43":{x:37,y:66},"-42":{x:36,y:66},"-41":{x:35,y:67},"-40":{x:35,y:67},"-39":{x:34,y:68},"-38":{x:33,y:68},"-37":{x:32,y:69},"-36":{x:32,y:69},"-35":{x:31,y:69},"-34":{x:30,y:70},"-33":{x:29,y:70},"-32":{x:29,y:70},"-31":{x:28,y:71},"-30":{x:27,y:71},"-29":{x:26,y:71},"-28":{x:25,y:72},"-27":{x:24,y:72},"-26":{x:24,y:72},"-25":{x:23,y:73},"-24":{x:22,y:73},"-23":{x:21,y:73},"-22":{x:20,y:73},"-21":{x:19,y:74},"-20":{x:18,y:74},"-19":{x:18,y:74},"-18":{x:17,y:74},"-17":{x:16,y:75},"-16":{x:15,y:75},"-15":{x:14,y:75},"-14":{x:13,y:75},"-13":{x:12,y:75},"-12":{x:11,y:75},"-11":{x:10,y:76},"-10":{x:9,y:76},"-9":{x:8,y:76},"-8":{x:7,y:76},"-7":{x:7,y:76},"-6":{x:6,y:76},"-5":{x:5,y:76},"-4":{x:4,y:76},"-3":{x:3,y:76},"-2":{x:2,y:76},"-1":{x:1,y:76}},200002:{0:{x:0,y:116},1:{x:-2,y:116},2:{x:-4,y:116},3:{x:-5,y:116},4:{x:-7,y:116},5:{x:-9,y:116},6:{x:-11,y:116},7:{x:-13,y:116},8:{x:-15,y:116},9:{x:-16,y:115},10:{x:-18,y:115},11:{x:-20,y:115},12:{x:-22,y:115},13:{x:-23,y:114},14:{x:-25,y:114},15:{x:-27,y:114},16:{x:-29,y:113},17:{x:-30,y:113},18:{x:-32,y:113},19:{x:-34,y:112},20:{x:-36,y:112},21:{x:-37,y:111},22:{x:-39,y:111},23:{x:-41,y:110},24:{x:-42,y:110},25:{x:-44,y:109},26:{x:-46,y:109},27:{x:-47,y:108},28:{x:-49,y:108},29:{x:-51,y:107},30:{x:-52,y:106},31:{x:-54,y:106},32:{x:-55,y:105},33:{x:-57,y:104},34:{x:-58,y:104},35:{x:-60,y:103},36:{x:-61,y:102},37:{x:-63,y:101},38:{x:-64,y:101},39:{x:-66,y:100},40:{x:-67,y:99},41:{x:-68,y:98},42:{x:-70,y:97},43:{x:-71,y:96},44:{x:-72,y:96},45:{x:-74,y:95},46:{x:-75,y:94},47:{x:-76,y:93},48:{x:-77,y:92},49:{x:-79,y:91},50:{x:-80,y:90},51:{x:-81,y:89},52:{x:-82,y:88},53:{x:-83,y:87},54:{x:-84,y:86},55:{x:-85,y:85},56:{x:-86,y:84},57:{x:-87,y:83},58:{x:-88,y:82},59:{x:-89,y:80},60:{x:-90,y:79},61:{x:-91,y:78},62:{x:-92,y:77},63:{x:-93,y:76},64:{x:-94,y:75},65:{x:-94,y:74},66:{x:-95,y:73},67:{x:-96,y:71},68:{x:-97,y:70},69:{x:-97,y:69},70:{x:-98,y:68},71:{x:-99,y:67},72:{x:-99,y:65},73:{x:-100,y:64},74:{x:-100,y:63},75:{x:-101,y:62},76:{x:-101,y:60},77:{x:-102,y:59},78:{x:-102,y:58},79:{x:-102,y:57},80:{x:-103,y:55},81:{x:-103,y:54},82:{x:-103,y:53},83:{x:-103,y:52},84:{x:-104,y:50},85:{x:-104,y:49},86:{x:-104,y:48},87:{x:-104,y:46},88:{x:-104,y:45},89:{x:-104,y:44},90:{x:-104,y:43},"-271":{x:753307,y:315265},"-270":{x:-104,y:43},"-269":{x:-104,y:41},"-268":{x:-104,y:40},"-267":{x:-104,y:39},"-266":{x:-104,y:37},"-265":{x:-104,y:36},"-264":{x:-104,y:35},"-263":{x:-103,y:34},"-262":{x:-103,y:32},"-261":{x:-103,y:31},"-260":{x:-103,y:30},"-259":{x:-102,y:28},"-258":{x:-102,y:27},"-257":{x:-102,y:26},"-256":{x:-101,y:25},"-255":{x:-101,y:23},"-254":{x:-100,y:22},"-253":{x:-100,y:21},"-252":{x:-99,y:20},"-251":{x:-99,y:19},"-250":{x:-98,y:17},"-249":{x:-97,y:16},"-248":{x:-97,y:15},"-247":{x:-96,y:14},"-246":{x:-95,y:13},"-245":{x:-94,y:11},"-244":{x:-94,y:10},"-243":{x:-93,y:9},"-242":{x:-92,y:8},"-241":{x:-91,y:7},"-240":{x:-90,y:6},"-239":{x:-89,y:5},"-238":{x:-88,y:3},"-237":{x:-87,y:2},"-236":{x:-86,y:1},"-235":{x:-85,y:0},"-234":{x:-84,y:-1},"-233":{x:-83,y:-2},"-232":{x:-82,y:-3},"-231":{x:-81,y:-4},"-230":{x:-80,y:-5},"-229":{x:-79,y:-6},"-228":{x:-77,y:-7},"-227":{x:-76,y:-8},"-226":{x:-75,y:-9},"-225":{x:-74,y:-10},"-224":{x:-72,y:-10},"-223":{x:-71,y:-11},"-222":{x:-70,y:-12},"-221":{x:-68,y:-13},"-220":{x:-67,y:-14},"-219":{x:-66,y:-15},"-218":{x:-64,y:-16},"-217":{x:-63,y:-16},"-216":{x:-61,y:-17},"-215":{x:-60,y:-18},"-214":{x:-58,y:-19},"-213":{x:-57,y:-19},"-212":{x:-55,y:-20},"-211":{x:-54,y:-21},"-210":{x:-52,y:-21},"-209":{x:-51,y:-22},"-208":{x:-49,y:-23},"-207":{x:-47,y:-23},"-206":{x:-46,y:-24},"-205":{x:-44,y:-24},"-204":{x:-42,y:-25},"-203":{x:-41,y:-25},"-202":{x:-39,y:-26},"-201":{x:-37,y:-26},"-200":{x:-36,y:-27},"-199":{x:-34,y:-27},"-198":{x:-32,y:-28},"-197":{x:-30,y:-28},"-196":{x:-29,y:-28},"-195":{x:-27,y:-29},"-194":{x:-25,y:-29},"-193":{x:-23,y:-29},"-192":{x:-22,y:-30},"-191":{x:-20,y:-30},"-190":{x:-18,y:-30},"-189":{x:-16,y:-30},"-188":{x:-15,y:-30},"-187":{x:-13,y:-31},"-186":{x:-11,y:-31},"-185":{x:-9,y:-31},"-184":{x:-7,y:-31},"-183":{x:-5,y:-31},"-182":{x:-4,y:-31},"-181":{x:-2,y:-31},"-180":{x:0,y:-31},"-179":{x:2,y:-31},"-178":{x:4,y:-31},"-177":{x:5,y:-31},"-176":{x:7,y:-31},"-175":{x:9,y:-31},"-174":{x:11,y:-31},"-173":{x:13,y:-31},"-172":{x:15,y:-30},"-171":{x:16,y:-30},"-170":{x:18,y:-30},"-169":{x:20,y:-30},"-168":{x:22,y:-30},"-167":{x:23,y:-29},"-166":{x:25,y:-29},"-165":{x:27,y:-29},"-164":{x:29,y:-28},"-163":{x:30,y:-28},"-162":{x:32,y:-28},"-161":{x:34,y:-27},"-160":{x:36,y:-27},"-159":{x:37,y:-26},"-158":{x:39,y:-26},"-157":{x:41,y:-25},"-156":{x:42,y:-25},"-155":{x:44,y:-24},"-154":{x:46,y:-24},"-153":{x:47,y:-23},"-152":{x:49,y:-23},"-151":{x:51,y:-22},"-150":{x:52,y:-21},"-149":{x:54,y:-21},"-148":{x:55,y:-20},"-147":{x:57,y:-19},"-146":{x:58,y:-19},"-145":{x:60,y:-18},"-144":{x:61,y:-17},"-143":{x:63,y:-16},"-142":{x:64,y:-16},"-141":{x:66,y:-15},"-140":{x:67,y:-14},"-139":{x:68,y:-13},"-138":{x:70,y:-12},"-137":{x:71,y:-11},"-136":{x:72,y:-10},"-135":{x:74,y:-10},"-134":{x:75,y:-9},"-133":{x:76,y:-8},"-132":{x:77,y:-7},"-131":{x:79,y:-6},"-130":{x:80,y:-5},"-129":{x:81,y:-4},"-128":{x:82,y:-3},"-127":{x:83,y:-2},"-126":{x:84,y:-1},"-125":{x:85,y:0},"-124":{x:86,y:1},"-123":{x:87,y:2},"-122":{x:88,y:3},"-121":{x:89,y:5},"-120":{x:90,y:6},"-119":{x:91,y:7},"-118":{x:92,y:8},"-117":{x:93,y:9},"-116":{x:94,y:10},"-115":{x:94,y:11},"-114":{x:95,y:13},"-113":{x:96,y:14},"-112":{x:97,y:15},"-111":{x:97,y:16},"-110":{x:98,y:17},"-109":{x:99,y:19},"-108":{x:99,y:20},"-107":{x:100,y:21},"-106":{x:100,y:22},"-105":{x:101,y:23},"-104":{x:101,y:25},"-103":{x:102,y:26},"-102":{x:102,y:27},"-101":{x:102,y:28},"-100":{x:103,y:30},"-99":{x:103,y:31},"-98":{x:103,y:32},"-97":{x:103,y:34},"-96":{x:104,y:35},"-95":{x:104,y:36},"-94":{x:104,y:37},"-93":{x:104,y:39},"-92":{x:104,y:40},"-91":{x:104,y:41},"-90":{x:104,y:43},"-89":{x:104,y:44},"-88":{x:104,y:45},"-87":{x:104,y:46},"-86":{x:104,y:48},"-85":{x:104,y:49},"-84":{x:104,y:50},"-83":{x:103,y:52},"-82":{x:103,y:53},"-81":{x:103,y:54},"-80":{x:103,y:55},"-79":{x:102,y:57},"-78":{x:102,y:58},"-77":{x:102,y:59},"-76":{x:101,y:60},"-75":{x:101,y:62},"-74":{x:100,y:63},"-73":{x:100,y:64},"-72":{x:99,y:65},"-71":{x:99,y:67},"-70":{x:98,y:68},"-69":{x:97,y:69},"-68":{x:97,y:70},"-67":{x:96,y:71},"-66":{x:95,y:73},"-65":{x:94,y:74},"-64":{x:94,y:75},"-63":{x:93,y:76},"-62":{x:92,y:77},"-61":{x:91,y:78},"-60":{x:90,y:79},"-59":{x:89,y:80},"-58":{x:88,y:82},"-57":{x:87,y:83},"-56":{x:86,y:84},"-55":{x:85,y:85},"-54":{x:84,y:86},"-53":{x:83,y:87},"-52":{x:82,y:88},"-51":{x:81,y:89},"-50":{x:80,y:90},"-49":{x:79,y:91},"-48":{x:77,y:92},"-47":{x:76,y:93},"-46":{x:75,y:94},"-45":{x:74,y:95},"-44":{x:72,y:96},"-43":{x:71,y:96},"-42":{x:70,y:97},"-41":{x:68,y:98},"-40":{x:67,y:99},"-39":{x:66,y:100},"-38":{x:64,y:101},"-37":{x:63,y:101},"-36":{x:61,y:102},"-35":{x:60,y:103},"-34":{x:58,y:104},"-33":{x:57,y:104},"-32":{x:55,y:105},"-31":{x:54,y:106},"-30":{x:52,y:106},"-29":{x:51,y:107},"-28":{x:49,y:108},"-27":{x:47,y:108},"-26":{x:46,y:109},"-25":{x:44,y:109},"-24":{x:42,y:110},"-23":{x:41,y:110},"-22":{x:39,y:111},"-21":{x:37,y:111},"-20":{x:36,y:112},"-19":{x:34,y:112},"-18":{x:32,y:113},"-17":{x:30,y:113},"-16":{x:29,y:113},"-15":{x:27,y:114},"-14":{x:25,y:114},"-13":{x:23,y:114},"-12":{x:22,y:115},"-11":{x:20,y:115},"-10":{x:18,y:115},"-9":{x:16,y:115},"-8":{x:15,y:116},"-7":{x:13,y:116},"-6":{x:11,y:116},"-5":{x:9,y:116},"-4":{x:7,y:116},"-3":{x:5,y:116},"-2":{x:4,y:116},"-1":{x:2,y:116}},200003:{0:{x:0,y:105},1:{x:-2,y:105},2:{x:-3,y:105},3:{x:-5,y:105},4:{x:-6,y:105},5:{x:-8,y:104},6:{x:-9,y:104},7:{x:-11,y:104},8:{x:-12,y:104},9:{x:-14,y:104},10:{x:-15,y:104},11:{x:-17,y:104},12:{x:-18,y:103},13:{x:-20,y:103},14:{x:-21,y:103},15:{x:-23,y:103},16:{x:-24,y:102},17:{x:-26,y:102},18:{x:-27,y:102},19:{x:-28,y:101},20:{x:-30,y:101},21:{x:-31,y:101},22:{x:-33,y:100},23:{x:-34,y:100},24:{x:-36,y:99},25:{x:-37,y:99},26:{x:-38,y:98},27:{x:-40,y:98},28:{x:-41,y:97},29:{x:-42,y:97},30:{x:-44,y:96},31:{x:-45,y:96},32:{x:-46,y:95},33:{x:-48,y:95},34:{x:-49,y:94},35:{x:-50,y:94},36:{x:-51,y:93},37:{x:-53,y:92},38:{x:-54,y:92},39:{x:-55,y:91},40:{x:-56,y:90},41:{x:-57,y:90},42:{x:-58,y:89},43:{x:-60,y:88},44:{x:-61,y:87},45:{x:-62,y:87},46:{x:-63,y:86},47:{x:-64,y:85},48:{x:-65,y:84},49:{x:-66,y:83},50:{x:-67,y:83},51:{x:-68,y:82},52:{x:-69,y:81},53:{x:-70,y:80},54:{x:-71,y:79},55:{x:-72,y:78},56:{x:-72,y:77},57:{x:-73,y:77},58:{x:-74,y:76},59:{x:-75,y:75},60:{x:-76,y:74},61:{x:-76,y:73},62:{x:-77,y:72},63:{x:-78,y:71},64:{x:-79,y:70},65:{x:-79,y:69},66:{x:-80,y:68},67:{x:-80,y:67},68:{x:-81,y:66},69:{x:-82,y:65},70:{x:-82,y:64},71:{x:-83,y:63},72:{x:-83,y:62},73:{x:-84,y:61},74:{x:-84,y:60},75:{x:-84,y:59},76:{x:-85,y:58},77:{x:-85,y:57},78:{x:-85,y:56},79:{x:-86,y:55},80:{x:-86,y:54},81:{x:-86,y:53},82:{x:-87,y:52},83:{x:-87,y:50},84:{x:-87,y:49},85:{x:-87,y:48},86:{x:-87,y:47},87:{x:-87,y:46},88:{x:-87,y:45},89:{x:-87,y:44},90:{x:-87,y:43},"-271":{x:768839,y:315358},"-270":{x:-87,y:43},"-269":{x:-87,y:42},"-268":{x:-87,y:41},"-267":{x:-87,y:40},"-266":{x:-87,y:39},"-265":{x:-87,y:38},"-264":{x:-87,y:36},"-263":{x:-87,y:35},"-262":{x:-87,y:34},"-261":{x:-86,y:33},"-260":{x:-86,y:32},"-259":{x:-86,y:31},"-258":{x:-85,y:30},"-257":{x:-85,y:29},"-256":{x:-85,y:28},"-255":{x:-84,y:27},"-254":{x:-84,y:26},"-253":{x:-84,y:25},"-252":{x:-83,y:24},"-251":{x:-83,y:23},"-250":{x:-82,y:22},"-249":{x:-82,y:21},"-248":{x:-81,y:20},"-247":{x:-80,y:19},"-246":{x:-80,y:18},"-245":{x:-79,y:17},"-244":{x:-79,y:16},"-243":{x:-78,y:15},"-242":{x:-77,y:14},"-241":{x:-76,y:13},"-240":{x:-76,y:12},"-239":{x:-75,y:11},"-238":{x:-74,y:10},"-237":{x:-73,y:9},"-236":{x:-72,y:8},"-235":{x:-72,y:7},"-234":{x:-71,y:7},"-233":{x:-70,y:6},"-232":{x:-69,y:5},"-231":{x:-68,y:4},"-230":{x:-67,y:3},"-229":{x:-66,y:2},"-228":{x:-65,y:2},"-227":{x:-64,y:1},"-226":{x:-63,y:0},"-225":{x:-62,y:-1},"-224":{x:-61,y:-2},"-223":{x:-60,y:-2},"-222":{x:-58,y:-3},"-221":{x:-57,y:-4},"-220":{x:-56,y:-4},"-219":{x:-55,y:-5},"-218":{x:-54,y:-6},"-217":{x:-53,y:-6},"-216":{x:-51,y:-7},"-215":{x:-50,y:-8},"-214":{x:-49,y:-8},"-213":{x:-48,y:-9},"-212":{x:-46,y:-9},"-211":{x:-45,y:-10},"-210":{x:-44,y:-11},"-209":{x:-42,y:-11},"-208":{x:-41,y:-12},"-207":{x:-40,y:-12},"-206":{x:-38,y:-13},"-205":{x:-37,y:-13},"-204":{x:-36,y:-14},"-203":{x:-34,y:-14},"-202":{x:-33,y:-14},"-201":{x:-31,y:-15},"-200":{x:-30,y:-15},"-199":{x:-28,y:-15},"-198":{x:-27,y:-16},"-197":{x:-26,y:-16},"-196":{x:-24,y:-16},"-195":{x:-23,y:-17},"-194":{x:-21,y:-17},"-193":{x:-20,y:-17},"-192":{x:-18,y:-18},"-191":{x:-17,y:-18},"-190":{x:-15,y:-18},"-189":{x:-14,y:-18},"-188":{x:-12,y:-18},"-187":{x:-11,y:-18},"-186":{x:-9,y:-19},"-185":{x:-8,y:-19},"-184":{x:-6,y:-19},"-183":{x:-5,y:-19},"-182":{x:-3,y:-19},"-181":{x:-2,y:-19},"-180":{x:0,y:-19},"-179":{x:2,y:-19},"-178":{x:3,y:-19},"-177":{x:5,y:-19},"-176":{x:6,y:-19},"-175":{x:8,y:-19},"-174":{x:9,y:-19},"-173":{x:11,y:-18},"-172":{x:12,y:-18},"-171":{x:14,y:-18},"-170":{x:15,y:-18},"-169":{x:17,y:-18},"-168":{x:18,y:-18},"-167":{x:20,y:-17},"-166":{x:21,y:-17},"-165":{x:23,y:-17},"-164":{x:24,y:-16},"-163":{x:26,y:-16},"-162":{x:27,y:-16},"-161":{x:28,y:-15},"-160":{x:30,y:-15},"-159":{x:31,y:-15},"-158":{x:33,y:-14},"-157":{x:34,y:-14},"-156":{x:36,y:-14},"-155":{x:37,y:-13},"-154":{x:38,y:-13},"-153":{x:40,y:-12},"-152":{x:41,y:-12},"-151":{x:42,y:-11},"-150":{x:44,y:-11},"-149":{x:45,y:-10},"-148":{x:46,y:-9},"-147":{x:48,y:-9},"-146":{x:49,y:-8},"-145":{x:50,y:-8},"-144":{x:51,y:-7},"-143":{x:53,y:-6},"-142":{x:54,y:-6},"-141":{x:55,y:-5},"-140":{x:56,y:-4},"-139":{x:57,y:-4},"-138":{x:58,y:-3},"-137":{x:60,y:-2},"-136":{x:61,y:-2},"-135":{x:62,y:-1},"-134":{x:63,y:0},"-133":{x:64,y:1},"-132":{x:65,y:2},"-131":{x:66,y:2},"-130":{x:67,y:3},"-129":{x:68,y:4},"-128":{x:69,y:5},"-127":{x:70,y:6},"-126":{x:71,y:7},"-125":{x:72,y:7},"-124":{x:72,y:8},"-123":{x:73,y:9},"-122":{x:74,y:10},"-121":{x:75,y:11},"-120":{x:76,y:12},"-119":{x:76,y:13},"-118":{x:77,y:14},"-117":{x:78,y:15},"-116":{x:79,y:16},"-115":{x:79,y:17},"-114":{x:80,y:18},"-113":{x:80,y:19},"-112":{x:81,y:20},"-111":{x:82,y:21},"-110":{x:82,y:22},"-109":{x:83,y:23},"-108":{x:83,y:24},"-107":{x:84,y:25},"-106":{x:84,y:26},"-105":{x:84,y:27},"-104":{x:85,y:28},"-103":{x:85,y:29},"-102":{x:85,y:30},"-101":{x:86,y:31},"-100":{x:86,y:32},"-99":{x:86,y:33},"-98":{x:87,y:34},"-97":{x:87,y:35},"-96":{x:87,y:36},"-95":{x:87,y:38},"-94":{x:87,y:39},"-93":{x:87,y:40},"-92":{x:87,y:41},"-91":{x:87,y:42},"-90":{x:87,y:43},"-89":{x:87,y:44},"-88":{x:87,y:45},"-87":{x:87,y:46},"-86":{x:87,y:47},"-85":{x:87,y:48},"-84":{x:87,y:49},"-83":{x:87,y:50},"-82":{x:87,y:52},"-81":{x:86,y:53},"-80":{x:86,y:54},"-79":{x:86,y:55},"-78":{x:85,y:56},"-77":{x:85,y:57},"-76":{x:85,y:58},"-75":{x:84,y:59},"-74":{x:84,y:60},"-73":{x:84,y:61},"-72":{x:83,y:62},"-71":{x:83,y:63},"-70":{x:82,y:64},"-69":{x:82,y:65},"-68":{x:81,y:66},"-67":{x:80,y:67},"-66":{x:80,y:68},"-65":{x:79,y:69},"-64":{x:79,y:70},"-63":{x:78,y:71},"-62":{x:77,y:72},"-61":{x:76,y:73},"-60":{x:76,y:74},"-59":{x:75,y:75},"-58":{x:74,y:76},"-57":{x:73,y:77},"-56":{x:72,y:77},"-55":{x:72,y:78},"-54":{x:71,y:79},"-53":{x:70,y:80},"-52":{x:69,y:81},"-51":{x:68,y:82},"-50":{x:67,y:83},"-49":{x:66,y:83},"-48":{x:65,y:84},"-47":{x:64,y:85},"-46":{x:63,y:86},"-45":{x:62,y:87},"-44":{x:61,y:87},"-43":{x:60,y:88},"-42":{x:58,y:89},"-41":{x:57,y:90},"-40":{x:56,y:90},"-39":{x:55,y:91},"-38":{x:54,y:92},"-37":{x:53,y:92},"-36":{x:51,y:93},"-35":{x:50,y:94},"-34":{x:49,y:94},"-33":{x:48,y:95},"-32":{x:46,y:95},"-31":{x:45,y:96},"-30":{x:44,y:96},"-29":{x:42,y:97},"-28":{x:41,y:97},"-27":{x:40,y:98},"-26":{x:38,y:98},"-25":{x:37,y:99},"-24":{x:36,y:99},"-23":{x:34,y:100},"-22":{x:33,y:100},"-21":{x:31,y:101},"-20":{x:30,y:101},"-19":{x:28,y:101},"-18":{x:27,y:102},"-17":{x:26,y:102},"-16":{x:24,y:102},"-15":{x:23,y:103},"-14":{x:21,y:103},"-13":{x:20,y:103},"-12":{x:18,y:103},"-11":{x:17,y:104},"-10":{x:15,y:104},"-9":{x:14,y:104},"-8":{x:12,y:104},"-7":{x:11,y:104},"-6":{x:9,y:104},"-5":{x:8,y:104},"-4":{x:6,y:105},"-3":{x:5,y:105},"-2":{x:3,y:105},"-1":{x:2,y:105}}});x._RF.pop()}}}));

System.register("chunks:///_virtual/ShopMainUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./MessageManager.ts","./SoundManager.ts","./UIManager.ts","./BaseUI.ts","./ShopRedeemUI.ts","./UpToggleBtn.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,l,c,u,g,p,h,f,T,m,d,y,_,b,C,k,B,v,S,I,P,A,N,U,w,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,l=e.Node,c=e.Prefab,u=e.Label,g=e.UITransform,p=e.Widget,h=e.Sprite,f=e.LabelOutline,T=e.Color,m=e.instantiate,d=e.resources,y=e.SpriteFrame,_=e.UIOpacity,b=e.Toggle,C=e.tween},function(e){k=e.default},function(e){B=e.default,v=e.EventType},function(e){S=e.SoundManager,I=e.AudioClipRes},function(e){P=e.default},function(e){A=e.EnShowPopType,N=e.EnHidePopType,U=e.BaseUI},function(e){w=e.default},function(e){F=e.UpToggleBtn}],execute:function(){var D,G,L,R,x,z,O,E,M,H,K,Y,J,j,W,V,Z,q;o._RF.push({},"ba100IxR+VBHJrzfW3pr0KZ","ShopMainUI",void 0);var Q=s.ccclass,X=s.property,$=e("ShopConfig",{100001:{iconResUrl:"shopItem/A01/spriteFrame",prefabName:"tank_player_fort_1"},100002:{iconResUrl:"shopItem/A02/spriteFrame",prefabName:"tank_player_fort_2"},200001:{iconResUrl:"shopItem/B01/spriteFrame",prefabName:"tank_player_barrel_1"},200002:{iconResUrl:"shopItem/B02/spriteFrame",prefabName:"tank_player_barrel_2"},200003:{iconResUrl:"shopItem/B03/spriteFrame",prefabName:"tank_player_barrel_3"},300001:{iconResUrl:"shopItem/C01/spriteFrame",prefabName:"tank_playerH_01"},300002:{iconResUrl:"shopItem/C02/spriteFrame",prefabName:"tank_playerH_02"},300003:{iconResUrl:"shopItem/C03/spriteFrame",prefabName:"tank_player_youxiang"},300004:{iconResUrl:"shopItem/C04/spriteFrame",prefabName:"tank_playerL_01"}});e("tankTurretConfig",{100001:{200002:{originalPos:{x:0,y:0,z:-.024}},200003:{originalPos:{x:0,y:0,z:0}},200001:{originalPos:{x:0,y:0,z:-.025},rotation:{x:0,y:0,z:0}}},100002:{200002:{originalPos:{x:0,y:-.03,z:.08}},200003:{originalPos:{x:0,y:-.015,z:.104}},200001:{originalPos:{x:0,y:0,z:.04},rotation:{x:3.275,y:.003,z:.044}}}}),e("default",(D=Q("ShopMainUI"),G=X([l]),L=X(l),R=X(c),x=X(l),z=X(l),O=X(l),E=X(u),D(((q=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).m_ShowPopType=A.leftToCenter,t.m_HidePopType=N.cneterToLeft,i(t,"leftToggleGroupArr",K,r(t)),i(t,"upToggleGroup",Y,r(t)),i(t,"leftToggleBtn",J,r(t)),i(t,"GoldCoinPlots",j,r(t)),i(t,"buyBtn",W,r(t)),i(t,"selectBtn",V,r(t)),i(t,"coin",Z,r(t)),t._leftToggleBtnArr=[],t._currSelectPropData=null,t._onUpToggleSelectCount=0,t}n(t,e);var o=t.prototype;return o.onLoad=function(){B.instance.on(v.UPDATE_SHOP_ITEM_DATA,this.updateItem,this),B.instance.on(v.UPDATE_COIN_CASH,this.updateCoin,this),this.node.getComponent(g).width=this.node.parent.getComponent(g).width,this.node.getComponent(g).height=this.node.parent.getComponent(g).height,this.m_PopPart.children.forEach((function(e){e.getComponent(p).updateAlignment()}))},o.onShow=function(){var t=a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this._onUpToggleSelectCount=0,this.buyBtn.active=!1,this.selectBtn.active=!1,this.GoldCoinPlots.angle=-90,C(this.GoldCoinPlots).to(.5,{angle:0},{easing:"backOut"}).start(),this._showTankFitting=JSON.parse(JSON.stringify(k.instance.selfTankFitting)),this.scheduleOnce((function(){S.instance.playSound(I.Shop,.5)}),.05),e.prototype.onShow.call(this),this.upToggleGroup.children[1].getComponent(b).isChecked=!0,n=0;n<this.leftToggleGroupArr.length;n++)this.leftToggleGroupArr[n].parent.parent.active=!1;if(this.upToggleGroup.getComponent(_).opacity=0,this._leftToggleBtnArr.length){t.next=14;break}return t.next=14,this.initLeftToggle();case 14:this.upToggleGroup.getComponent(_).opacity=255,this.upToggleGroup.children[0].getComponent(b).isChecked=!0,this.updateCoin();case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onUpToggleSelect=function(e){for(var t=0;t<this.upToggleGroup.children.length;t++)this.upToggleGroup.children[t].getComponent(F).refreshBtnNamePos();this._onUpToggleSelectCount++,this._currSelectPropData=null;for(var n=Number(e.node.name.replace("Toggle",""))-1,i=0;i<this.leftToggleGroupArr.length;i++){var r=this.leftToggleGroupArr[i];i===n?(r.parent.parent.active=!0,this.updateLeftToggle(r.parent.parent.name.replace("LeftToggleScrollView",""))):r.parent.parent.active=!1}this._showTankFitting=JSON.parse(JSON.stringify(k.instance.selfTankFitting)),this._onUpToggleSelectCount>2&&(S.instance.playSound(I.Btn),B.instance.emit(v.UPDATE_PLAYUI_TANK,""))},o.initLeftToggle=function(){var e=this,t=[],n=function(n){if(Object.prototype.hasOwnProperty.call(k.instance.propMap,n)){var i=m(e.leftToggleBtn);i.name=n,e.leftToggleGroupArr[Number(n[0])-1].addChild(i),i.on(l.EventType.TOUCH_END,e.onLeftToggleTap,e),t.push(new Promise((function(e){d.load($[n].iconResUrl,y,(function(t,n){i.getChildByName("icon").getComponent(h).spriteFrame=n,e()}))}))),e._leftToggleBtnArr.push(i)}};for(var i in k.instance.propMap)n(i);return Promise.all(t)},o.updateLeftToggle=function(e){if("3"===e)for(var t=0;t<this.leftToggleGroupArr[Number(e)-1].children.length;t++){var n=this.leftToggleGroupArr[Number(e)-1].children[t];!0===n.isChecked&&(this._currSelectPropData=k.instance.getPropItemByID(n.name)),this.setLeftToggleStatus(n)}else for(var i=0;i<this.leftToggleGroupArr[Number(e)-1].children.length;i++){var r=this.leftToggleGroupArr[Number(e)-1].children[i];r.name===this._showTankFitting["T_"+e]?r.isChecked=!0:r.isChecked=!1,this.setLeftToggleStatus(r)}},o.setLeftToggleStatus=function(e){var t=this.checkIsSelected(e.name);"1"!==e.name[0]&&"2"!==e.name[0]||(this.node.getChildByName("unSelectBtn").active=!1),!0===e.isChecked?("3"===e.name[0]&&(this.node.getChildByName("unSelectBtn").active=t),e.getChildByName("Checkmark").active=!0,this.buyBtn.active=0===k.instance.getPropItemByID(e.name).redeemed,this.selectBtn.active=!t&&!this.buyBtn.active,this.buyBtn.getChildByName("Label").getComponent(u).string=k.instance.getPropItemByID(e.name).coins.toString(),this.buyBtn.getChildByName("jinb").getComponent(h).grayscale=this.buyBtn.getComponent(h).grayscale=!(k.instance.userData.currency.coins>=k.instance.getPropItemByID(e.name).coins),this.buyBtn.getChildByName("Label").getComponent(f).enabled=k.instance.userData.currency.coins>=k.instance.getPropItemByID(e.name).coins,this.buyBtn.getChildByName("Label").getComponent(u).color=k.instance.userData.currency.coins>=k.instance.getPropItemByID(e.name).coins?T.WHITE:T.GRAY):e.getChildByName("Checkmark").active=!1,e.getChildByName("selected").active=t&&!e.getChildByName("Checkmark").active,e.getChildByName("Owned").active=1===k.instance.getPropItemByID(e.name).redeemed},o.checkIsSelected=function(e){return"1"===e[0]||"2"===e[0]?e===k.instance.selfTankFitting.T_1||e===k.instance.selfTankFitting.T_2:!!k.instance.selfTankFitting.T_3.find((function(t){return t===e}))},o.onLeftToggleTap=function(e){console.log("onLeftToggleTap"),S.instance.playSound(I.Btn);var t=e.target.name;if("1"===t[0]||"2"===t[0]){for(var n=0;n<this.leftToggleGroupArr[Number(t[0])-1].children.length;n++){var i=this.leftToggleGroupArr[Number(t[0])-1].children[n];i.name===t?i.isChecked=!0:i.isChecked=!1,this.setLeftToggleStatus(i)}this._showTankFitting["T_"+t[0]]=t,B.instance.emit(v.UPDATE_PLAYUI_TANK,t,this._showTankFitting)}else if("3"===t[0]){this._showTankFitting.T_3.length=0,e.target.isChecked=!0,this._showTankFitting.T_3.push(t);for(var r=0;r<k.instance.selfTankFitting.T_3.length;r++){var a=k.instance.selfTankFitting.T_3[r];a!==t&&this._showTankFitting.T_3.push(a)}for(var o=0;o<this.leftToggleGroupArr[Number(t[0])-1].children.length;o++){var s=this.leftToggleGroupArr[Number(t[0])-1].children[o];s.name!==t&&(s.isChecked=!1),this.setLeftToggleStatus(s)}B.instance.emit(v.UPDATE_PLAYUI_TANK,t,this._showTankFitting)}this._currSelectPropData=k.instance.getPropItemByID(t)},o.onCloseBtnTap=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.instance.playSound(I.Btn),B.instance.emit(v.CLOSE_SHOP_UI),C(this.GoldCoinPlots).to(.3,{angle:-90},{easing:"backIn"}).call((function(){B.instance.emit(v.UPDATE_PLAYUI_TANK,"",k.instance.selfTankFitting,!1)})).start(),e.next=5,P.instance.hideUI(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onBuyBtnTap=function(){var e=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._currSelectPropData.coins,!(k.instance.userData.currency.coins<t)){e.next=4;break}return P.instance.showTip("Sorry, you don't have enough coins"),e.abrupt("return");case 4:return e.next=6,P.instance.showUI(w,!0);case 6:P.instance.OnMsg(w,"",{data:this._currSelectPropData});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onSelectBtnTap=function(e,t){var n=this._currSelectPropData.itemId;if("1"===n[0]||"2"===n[0]){this._showTankFitting["T_"+n[0]]=n,k.instance.selfTankFitting["T_"+n[0]]=n;for(var i=0;i<this.leftToggleGroupArr[Number(n[0])-1].children.length;i++){var r=this.leftToggleGroupArr[Number(n[0])-1].children[i];this.setLeftToggleStatus(r)}}else if("3"===n[0]){var a=k.instance.selfTankFitting.T_3.indexOf(n);"unSelect"===t?(-1!==a&&(this._showTankFitting.T_3.splice(a,1),k.instance.selfTankFitting.T_3.splice(a,1)),B.instance.emit(v.UPDATE_PLAYUI_TANK,n)):(-1===a&&(this._showTankFitting.T_3.push(n),k.instance.selfTankFitting.T_3.push(n)),B.instance.emit(v.UPDATE_PLAYUI_TANK,n));for(var o=0;o<this.leftToggleGroupArr[Number(n[0])-1].children.length;o++){var s=this.leftToggleGroupArr[Number(n[0])-1].children[o];this.setLeftToggleStatus(s)}}},o.updateItem=function(e){var t=this._leftToggleBtnArr.find((function(t){return t.name===e}));t&&this.setLeftToggleStatus(t)},o.updateCoin=function(e){e&&e.cashTotal&&(k.instance.userData.currency.cash=e.cashTotal),e&&e.coinTotal&&(k.instance.userData.currency.coins=e.coinTotal),this.coin.string=k.instance.userData.currency.coins.toString()},t}(U)).className="ShopMainUI",K=t((H=q).prototype,"leftToggleGroupArr",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(H.prototype,"upToggleGroup",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"leftToggleBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"GoldCoinPlots",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"buyBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(H.prototype,"selectBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(H.prototype,"coin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=H))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopRedeemUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MessageManager.ts","./NetWorkManager.ts","./PlatformManager.ts","./SoundManager.ts","./UIManager.ts","./MXBattle.ts","./BaseUI.ts"],(function(e){"use strict";var t,n,a,i,r,s,o,c,u,p,d,f,l,m,h,g,y,T,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator},function(e){s=e.cclegacy,o=e._decorator,c=e.Label},function(e){u=e.default,p=e.EventType},function(e){d=e.default},function(e){f=e.default},function(e){l=e.SoundManager,m=e.AudioClipRes},function(e){h=e.default},function(e){g=e.mxBattle},function(e){y=e.EnShowPopType,T=e.EnHidePopType,I=e.BaseUI}],execute:function(){var S,M,P,v,U,b;s._RF.push({},"6247cMObOJA0p0vM8Y2xFLi","ShopRedeemUI",void 0);var k=o.ccclass,B=o.property;e("default",(S=k("ShopRedeemUI"),M=B(c),S(((b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).m_ShowPopType=y.upToCenter,t.m_HidePopType=T.centerToUp,a(t,"costNum",U,i(t)),t.data=null,t.isConfirmTap=!1,t}n(t,e);var s=t.prototype;return s.onLoad=function(){},s.start=function(){},s.OnMsg=function(e,t){this.data=t.data,this.costNum.string=t.data.coins.toString(),this.isConfirmTap=!1,f.instance.onTrack("gamePurchaseClicked",JSON.stringify({gameid:g.GameId,itemID:this.data.itemId,type:0}))},s.onCloseBtnTap=function(){l.instance.playSound(m.Btn),h.instance.hideUI(t)},s.onYesBtnTap=function(){var e=r(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.instance.playSound(m.Btn),!this.isConfirmTap){e.next=3;break}return e.abrupt("return");case 3:if(this.data){e.next=5;break}return e.abrupt("return");case 5:return this.isConfirmTap=!0,e.next=8,h.instance.showLoading();case 8:return e.next=10,d.instance.postUnLockProp(this.data.itemId,!0);case 10:n=e.sent,h.instance.hideLoading(),n&&"done"==n.status&&n.itemId&&(this.data.redeemed=1,u.instance.emit(p.UPDATE_SHOP_ITEM_DATA,this.data.itemId),h.instance.showTip("Purchase Successful"),f.instance.onTrack("gamePurchaseSucceed",JSON.stringify({gameid:g.GameId,itemID:this.data.itemId,type:0}))),h.instance.hideUI(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(I)).className="ShopRedeemUI",U=t((v=b).prototype,"costNum",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=v))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/SocketManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./MessageManager.ts","./proto.mjs_cjs=&original=.js","./GameCtrl.ts","./GameManager.ts","./MXBattle.ts","./LocalServerManager.ts","./GameState.ts","./proto.js"],(function(e){"use strict";var n,t,a,s,i,o,c,l,r,S,d;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){a=e.default},function(e){s=e.default,i=e.EventType},null,function(e){o=e.default},function(e){c=e.GameManager},function(e){l=e.mxBattle},function(e){r=e.LocalServerManager},function(e){S=e.GameStatus},function(e){d=e.default}],execute:function(){t._RF.push({},"30cf6ZcqTtGmJYBq6CFBoEJ","SocketManager",void 0),e("default",function(){function e(){this._heartBeatInterval=0,this._connecturl="",this.randomSeed=0,this.isClosed=!1}var t=e.prototype;return t.initSocket=function(){""!==this._connecturl&&(this._ws=new WebSocket(this._connecturl),this._ws.binaryType="arraybuffer",this._ws.onopen=this.onOpen.bind(this),this._ws.onclose=this.onClose.bind(this),this._ws.onerror=this.onError.bind(this),this._ws.onmessage=this.onMessage.bind(this))},t.closeSocket=function(){this._ws.close()},t.onOpen=function(e){console.log("Connection to server opened")},t.onClose=function(e){this.isClosed||(this.isClosed=!0,console.log("连接关闭。。。。。。。。。。:"),c.instance.gameStatus=S.Over,s.instance.emit(i.GAME_OVER,null),s.instance.emit(i.STOP_GAME_HEATR_BEAT))},t.onError=function(e){c.instance.gameStatus=S.Over,console.log("onError---",e)},t.onMessage=function(e){var n=new Uint8Array(e.data),t=d.MXUltimateTankMultipleSocketBaseBean.decode(n);if(1==t.messageType)if(t.mCode==d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.START_FRAME_SYNC)c.instance.gameStatus=S.Start,s.instance.emit(i.START_GAME_TIME_COUNT_DOWN),s.instance.emit(i.START_GAME);else if(t.mCode==d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.FRAME_SYNC){var a=d.MsgFrame.decode(t.payload);c.instance._onServerSync(a)}else if(t.mCode==d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.PING){d.Ping.decode(t.payload).playerId===c.instance.selfPlayerId&&s.instance.emit(i.GET_PING)}else if(t.mCode==d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.SHOW_EMOJI){var l=d.ShowEmoji.decode(t.payload);s.instance.emit(i.SHOW_EMOJI,l.index,t.playerId)}else if(t.mCode==d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.SYNC_SCORE){var r=d.SyncScore.decode(t.payload);r.playerId===c.instance.selfPlayerId&&console.log("自己的分数："+r.newScore)}if(2==t.messageType)switch(t.sCode){case d.MXUltimateTankMultipleSocketBaseBean.SYSTEM_ACTINS.START_ACTION:var u=d.SystemStart.decode(t.payload);c.instance.selfPlayerIndex=u.playerIdList.findIndex((function(e){return e===c.instance.selfPlayerId})),console.log(u.randomSeed,">>>>>>>>>>>>>startData.randomSeed<<<<<<<<<<<<<"),o.instance.ready(u.randomSeed),this.randomSeed=u.randomSeed,s.instance.emit(i.SOCKET_INIT_SUCCESS),this._heartBeatInterval=u.heartBeatInterval;break;case d.MXUltimateTankMultipleSocketBaseBean.SYSTEM_ACTINS.OK_ACTION:console.log("游戏ok",t.payload);break;case d.MXUltimateTankMultipleSocketBaseBean.SYSTEM_ACTINS.QUIT_ACTION:var T=d.SystemQuit.decode(t.payload);console.log("主动退出",T.rank),s.instance.emit(i.GAME_OVER,T.rank);break;case d.MXUltimateTankMultipleSocketBaseBean.SYSTEM_ACTINS.ROOM_END_RESULT:var M=d.SystemRoomEndResult.decode(t.payload);c.instance.gameStatus=S.Over,console.log(M.rank,"游戏结算");var m=M.rank.find((function(e){return e.playerId===c.instance.selfPlayerId}));m&&s.instance.emit(i.GAME_OVER,m.rank)}},t.sendHeart=function(){var e=new d.HeartBeatAction;this.sendMessage(this.getSysBaseBean(d.MXUltimateTankMultipleSocketBaseBean.SYSTEM_ACTINS.HEART_BEAT_ACTION,d.HeartBeatAction.encode(e).finish()))},t.getPing=function(){var e=this;return new Promise((function(n){var t=new d.Ping;t.playerId=c.instance.selfPlayerId,e.sendMessage(e.getBaseBean(d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.PING,d.Ping.encode(t).finish()));var a=Date.now();s.instance.off(i.GET_PING),s.instance.once(i.GET_PING,(function(){var e=Date.now();n(e-a)}))}))},t.sendFrameData=function(e){var n=new d.ClientInput;if(n.inputs=e,l.Is_Guide||a.instance.isAI)r.instance.ParseSocketParameters("CLIENT_INPUT",n);else{var t=d.ClientInput.encode(n).finish(),s=this.getBaseBean(d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.CLIENT_INPUT,t);this.sendMessage(s)}},t.sendShootFrameData=function(e){var n=new d.ClientInput;if(n.inputs=e,n.inputs.length&&(c.instance.isShootIng=!0,c.instance.selfShootSn=n.inputs[0].sn),l.Is_Guide||a.instance.isAI)r.instance.ParseSocketParameters("CLIENT_INPUT",n);else{var t=d.ClientInput.encode(n).finish(),s=this.getBaseBean(d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.CLIENT_INPUT,t);this.sendMessage(s)}},t.sendEmoji=function(e){var n=new d.ShowEmoji;n.index=e;var t=d.ShowEmoji.encode(n).finish(),a=this.getBaseBean(d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.SHOW_EMOJI,t);this.sendMessage(a)},t.upLoadScore=function(e,n,t){var a=new d.SyncScore;a.playerId=e,a.oldScore=n,a.newScore=t;var s=d.SyncScore.encode(a).finish(),i=this.getBaseBean(d.MXUltimateTankMultipleSocketBaseBean.ACTIONS.SYNC_SCORE,s);this.sendMessage(i)},t.sendOK=function(){if(console.log("发送ok"),l.Is_Guide||a.instance.isAI)r.instance.ParseSocketParameters("SystemOK",null);else{var e=new d.SystemOK;e.skin=JSON.stringify(a.instance.selfTankFitting),this.sendMessage(this.getSysBaseBean(d.MXUltimateTankMultipleSocketBaseBean.SYSTEM_ACTINS.OK_ACTION,d.SystemOK.encode(e).finish())),s.instance.emit(i.START_GAME_HEATR_BEAT,this._heartBeatInterval)}},t.sendQuit=function(){console.log("主动退出");var e=new d.SystemQuit;this.sendMessage(this.getSysBaseBean(d.MXUltimateTankMultipleSocketBaseBean.SYSTEM_ACTINS.QUIT_ACTION,d.SystemQuit.encode(e).finish()))},t.sendMessage=function(e){this._ws&&this._ws.send(e)},t.getSysBaseBean=function(e,n){var t=new d.MXUltimateTankMultipleSocketBaseBean;return t.playerId=c.instance.selfPlayerId,t.sCode=e,t.primaryKey=0,t.timeMark=Date.now(),t.payload=n,t.messageType=2,d.MXUltimateTankMultipleSocketBaseBean.encode(t).finish()},t.getBaseBean=function(e,n){var t=new d.MXUltimateTankMultipleSocketBaseBean;return t.mCode=e,t.playerId=c.instance.selfPlayerId,t.primaryKey=0,t.timeMark=Date.now(),t.payload=n,t.messageType=1,d.MXUltimateTankMultipleSocketBaseBean.encode(t).finish()},n(e,[{key:"connecturl",set:function(e){this._connecturl=e}}],[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var e,t,u,n,i,r,s,c,a;return{setters:[function(o){e=o.createClass,t=o.asyncToGenerator},function(o){u=o.cclegacy,n=o.resources,i=o.AudioClip,r=o.AudioSource,s=o.tween,c=o.sys,a=o.Tween}],execute:function(){var l;o("AudioClipRes",void 0),u._RF.push({},"c1a6dLxiJ5Lj5vHZ4Xrz4ig","SoundManager",void 0),function(o){o.Shoot="射击 (mp3cut.net)",o.Clock="拾取时钟",o.Star="星星",o.Bricks="砖块",o.Armo="获得护甲",o.Dongjie="冻结",o.WoodBoom="木箱碎裂",o.RockBoom="石头碎裂",o.PlayUI="大厅音乐",o.BaseBoom="爆炸",o.Shield="护盾效果",o.Btn="按键",o.ReadyGo="战斗准备音乐",o.ArmoEffect="护甲效果",o.Shop="商店展开",o.Win="胜利",o.Lose="失败"}(l||(l=o("AudioClipRes",{})));var m=o("SoundManager",function(){function o(){this._systemVolume=1,this._bgmAudioSource=null,this._effectAudioSourceNode=null}var u=o.prototype;return u.playBGM=function(){var o=t(regeneratorRuntime.mark((function o(){var e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getBGMClip();case 2:if(e=o.sent,this._bgmAudioSource){o.next=5;break}return o.abrupt("return");case 5:this._bgmAudioSource.loop=!0,this._bgmAudioSource.clip=e,this._bgmAudioSource.play(),this._bgmAudioSource.volume=0*this._systemVolume,this.bgmFadeIn(.7);case 10:case"end":return o.stop()}}),o,this)})));return function(){return o.apply(this,arguments)}}(),u.stopBGM=function(){this._bgmAudioSource.unscheduleAllCallbacks(),this._bgmAudioSource.stop()},u.getBGMClip=function(){return new Promise((function(o){n.load("sounds/bgms/BGM",i,(function(e,t){o(t)}))}))},u.init=function(o,e){this._bgmAudioSource=o,this._effectAudioSourceNode=e},u.playSound=function(o,e,t){var u=this;void 0===e&&(e=1),void 0===t&&(t=!1),n.load("sounds/"+o,i,(function(o,n){var i=u._effectAudioSourceNode.addComponent(r);i.clip=n,i.volume=e*u._systemVolume,i.loop=t,i.play()}))},u.bgmFadeIn=function(o,e){var t=this;return void 0===e&&(e=1),new Promise((function(u){s(t._bgmAudioSource).to(e,{volume:o*t._systemVolume}).call(u).start()}))},u.bgmFadeOut=function(o,e){var t=this;return void 0===e&&(e=1),new Promise((function(u){s(t._bgmAudioSource).to(e,{volume:o*t._systemVolume}).call(u).start()}))},u.resetEffectAudioSource=function(){this._effectAudioSourceNode.getComponents(r).forEach((function(o){o.destroy()}))},e(o,[{key:"SystemVolume",get:function(){return this._systemVolume},set:function(o){this._systemVolume=o,c.localStorage.setItem("Tank3D_2",o.toString()),0===o?(a.stopAllByTarget(this._bgmAudioSource),this._bgmAudioSource.volume=0,this._effectAudioSourceNode.getComponents(r).forEach((function(o){o.volume=0}))):(a.stopAllByTarget(this._bgmAudioSource),this._bgmAudioSource.volume=.7,this._effectAudioSourceNode.getComponents(r).forEach((function(o){o.volume=1})))}}]),o}());m.instance=new m,u._RF.pop()}}}));

System.register("chunks:///_virtual/TestSocket.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"bf3c5+C3qxFOaHN2eQ0K29O","TestSocket",void 0);t("TestSocket",(function(){}));e._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./loading.ts"],(function(e){"use strict";var t,n,i,r,o,a,s,u,c,p,h,d,l,f,g,_,m;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator},function(e){i=e.cclegacy,r=e.find,o=e.Node,a=e.Widget,s=e.resources,u=e.Prefab,c=e.log,p=e.instantiate,h=e.Label,d=e.UITransform,l=e.Tween,f=e.tween,g=e.v3},function(e){_=e.LayerType},function(e){m=e.default}],execute:function(){i._RF.push({},"bf42a0KtplDBaSxQeMsrtZ7","UIManager",void 0),e("default",function(){function e(){this._tipNode=null,this._uiRoot=null,this._layerList=[],this._uiNodeMap=new Map,this._prefabMap=new Map}var i=e.prototype;return i.init=function(){this._uiRoot=r("Canvas");for(var e=0;e<_.max;e++){var t=new o;t.name="layer"+(e+1);var n=t.addComponent(a);n.isAlignLeft=n.isAlignRight=n.isAlignTop=n.isAlignBottom=!0,n.top=n.bottom=n.left=n.right=0,this._uiRoot.addChild(t),this._layerList.push(t)}this.createTipNode()},i.showUI=function(){var e=n(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),i=this.getUI(t)){e.next=11;break}if(e.t0=n,!e.t0){e.next=7;break}return e.next=7,this.showLoading();case 7:return e.next=9,this.createUI(t);case 9:i=e.sent,n&&this.hideLoading();case 11:i.node.active?i.node.setSiblingIndex(1e4):i.onShow();case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),i.OnMsg=function(e,t,n){var i=this.getUI(e);null!==i&&i.getComponent(e).OnMsg(t,n)},i.closeUI=function(){var e=n(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getUrl(),!this._uiNodeMap.has(n)){e.next=7;break}return e.next=4,this._uiNodeMap.get(n).onHide(!0);case 4:(i=this._prefabMap.get(n))&&(i.decRef(),i=null,this._prefabMap.delete(n)),this._uiNodeMap.delete(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.hideUI=function(){var e=n(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getUI(t))){e.next=4;break}return e.next=4,n.onHide();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.getUI=function(e){return this._uiNodeMap.has(e.getUrl())?this._uiNodeMap.get(e.getUrl()):null},i.createUI=function(e){var t=this;return new Promise((function(n){s.load(e.getUrl(),u,(function(i,r){if(i)c(i);else if(!t.getUI(e)){var o=p(r),a=o.getComponent(e);a.node.active=!1,o.parent=t._layerList[a.layerType],t._uiNodeMap.set(e.getUrl(),a),t._prefabMap.set(e.getUrl(),r),r.addRef(),n(a)}}))}))},i.showLoading=function(){var e=n(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getUI(m)){e.next=5;break}return e.next=4,this.createUI(m);case 4:t=e.sent;case 5:t.onShow();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.hideLoading=function(){var e=this.getUI(m);e&&e.onHide()},i.showTip=function(){var e=n(regeneratorRuntime.mark((function e(t,n){var i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=1),this._tipNode){e.next=4;break}return e.next=4,this.createTipNode();case 4:this._tipNode.parent||this._uiRoot.addChild(this._tipNode),i=this._tipNode.getChildByName("Label").getComponent(h),this._tipNode.setPosition(0,-50,0),i.string=t,this._tipNode.getComponent(d).unscheduleAllCallbacks(),this._tipNode.getComponent(d).scheduleOnce((function(){r._tipNode.getComponent(d).height=i.node.getComponent(d).contentSize.height+160,r._tipNode.getComponent(d).width=1100,l.stopAllByTarget(r._tipNode),r._tipNode.setPosition(0,-50,0),f(r._tipNode).to(1,{position:g(0,100,0)},{easing:"cubicOut"}).delay(n).call((function(){r._tipNode.removeFromParent()})).start()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),i.createTipNode=function(){var e=this;return new Promise((function(t){s.load("prefab/ui/tip",u,(function(n,i){n?c("[资源加载] 错误 "+n):(e._tipNode=p(i),t())}))}))},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UpToggleBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,r,i,s,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,a=t.Node,c=t.Toggle,l=t.Component}],execute:function(){var p,u,g,f,h;i._RF.push({},"45dc4EhNIFHVL4DWWJIqPUr","UpToggleBtn",void 0);var d=s.ccclass,m=s.property;t("UpToggleBtn",(p=d("UpToggleBtn"),u=m(a),p((h=e((f=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,o(e,"btnName",h,r(e)),e}n(e,t);var i=e.prototype;return i.start=function(){},i.refreshBtnNamePos=function(){this.node.getComponent(c).isChecked?this.btnName.setPosition(0,6):this.btnName.setPosition(0,0)},e}(l)).prototype,"btnName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=f))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc","./DataManager.ts","./SocketManager.ts","./Decimal.ts"],(function(e){"use strict";var r,n,t,o,i;return{setters:[function(e){r=e.cclegacy,n=e.v2},function(e){t=e.default},function(e){o=e.default},function(e){i=e.Decimal}],execute:function(){e({getShangYu:function(e,r){if(0===r)throw new Error("getShangYu down is a zero");r<0&&(r=-r);e<0&&(e=-e);if(e<r)return{shang:0,yu:e};if(e===r)return{shang:1,yu:0};var n=Math.floor(e/r)-1;e-=r*n;for(;e>=r;)n+=1,e-=r;return{shang:n,yu:e}},isAlive:function(e){return e&&e.alive},removeFromArr:function(e,r){var n=e.indexOf(r);-1!==n&&e.splice(n,1)}}),r._RF.push({},"30548vvHFhFXaBfkApVq09D","Utils",void 0);e("default",function(){function e(){}return e.clamp=function(e,r,n){if(e=Math.floor(1e3*e),(r=Math.floor(1e3*r))>(n=Math.floor(1e3*n))){var t=r;r=n,n=t}return e<r?r/1e3:e>n?n/1e3:e/1e3},e.distance=function(e,r){var n=Math.floor(1e3*r.x)-Math.floor(1e3*e.x),t=Math.floor(1e3*r.y)-Math.floor(1e3*e.y);return(n*n+t*t)/1e6},e.merge=function(e){for(var r=this,n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return t.reduce((function(e,n){return Object.keys(n).reduce((function(e,t){var o=n[t];return r.isObject(o)?e[t]=r.merge(e[t]?e[t]:{},o):r.isArray(o)?e[t]=o.map((function(n,o){if(r.isObject(n)){var i=e[t]?e[t]:[];return r.merge(i[o]?i[o]:{},n)}return n})):e[t]=o,e}),e)}),e)},e.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.isArray=function(e){return Array.isArray(e)},e.remove=function(e,r){if("function"==typeof r)for(var n=e.length-1;n>-1;--n)r(e[n],n,e)&&e.splice(n,1);else for(n=e.length-1;n>-1;--n)e[n]===r&&e.splice(n,1);return e},e.delay=function(e){return new Promise((function(r){setTimeout((function(){r()}),1e3*e)}))},e.removeFromArr=function(e,r){var n=e.indexOf(r);-1!==n&&e.splice(n,1)},e.limit=function(e,r,n){return Math.min(n,Math.max(r,e))},e.vibrate=function(e){"vibrate"in window.navigator?window.navigator.vibrate(1e3*e):console.log("浏览器不支持震动")},e.skinObjConvertToString=function(){var e=t.instance.selfTankFitting,r=e.T_1+"|"+e.T_2+"|";return e.T_3.forEach((function(e){r+=e+","})),","===r[r.length-1]&&(r=r.substring(0,r.length-1)),r},e.skinStringConvertToObj=function(e){var r=e.split("|");return t.instance.selfTankFitting.T_1=r[0],t.instance.selfTankFitting.T_2=r[1],""!==r[2]&&r[2].split(",").forEach((function(e){t.instance.selfTankFitting.T_3.push(e)})),t.instance.selfTankFitting},e.isLineIntersectRectangle=function(e,r,n,t,o,i){var a=(Math.floor(1e3*e.y)-Math.floor(1e3*r.y))/1e3,f=(Math.floor(1e3*r.x)-Math.floor(1e3*e.x))/1e3,u=e.x*r.y-r.x*e.y;if(Math.floor(1e3*(a*n+f*t+u))/1e3>=0&&Math.floor(1e3*(a*o+f*i+u))/1e3<=0||Math.floor(1e3*(a*n+f*t+u))/1e3<=0&&Math.floor(1e3*(a*o+f*i+u))/1e3>=0||Math.floor(1e3*(a*n+f*i+u))/1e3>=0&&Math.floor(1e3*(a*o+f*t+u))/1e3<=0||Math.floor(1e3*(a*n+f*i+u))/1e3<=0&&Math.floor(1e3*(a*o+f*t+u))/1e3>=0){if(Math.floor(1e3*n)>Math.floor(1e3*o)){var c=n;n=o,o=c}if(Math.floor(1e3*t)<Math.floor(1e3*i)){var s=t;t=i,i=s}return!(Math.floor(1e3*e.x)<Math.floor(1e3*n)&&Math.floor(1e3*r.x)<Math.floor(1e3*n)||Math.floor(1e3*e.x)>Math.floor(1e3*o)&&Math.floor(1e3*r.x)>Math.floor(1e3*o)||Math.floor(1e3*e.y)>Math.floor(1e3*t)&&Math.floor(1e3*r.y)>Math.floor(1e3*t)||Math.floor(1e3*e.y)<Math.floor(1e3*i)&&Math.floor(1e3*r.y)<Math.floor(1e3*i))}return!1},e.picTime=function(e){var r=parseInt(e/60);r<10&&(r="0"+r);var n=parseInt(e%60);return n<10&&(n="0"+n),e>0?r+":"+n:"00:00"},e.segmentsIntr=function(e,r,t,o){var i=(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x),a=(e.x-o.x)*(r.y-o.y)-(e.y-o.y)*(r.x-o.x);if(i*a>=0)return null;var f=(t.x-e.x)*(o.y-e.y)-(t.y-e.y)*(o.x-e.x);if(f*(f+i-a)>=0)return null;var u=f/(a-i),c=u*(r.x-e.x),s=u*(r.y-e.y);return n(e.x+c,e.y+s)},e}());var a=new i(1e3),f=e("f_Math",function(){function e(){}return e.setRandSeed=function(e){this.randomSeed=o.instance.randomSeed+123*e+98765},e.getRandomSeed=function(){return this.randomSeed},e.random=function(){return this.randomSeed=(9301*this.randomSeed+49297)%233280,new i(this.randomSeed).div(this.randomSeedDecimal)},e.initSinCos=function(){for(var e=0;e<this.sinArr.length;e++)this.sinArr[e]=new i(this.sinArr[e]).div(a);for(var r=0;r<this.cosArr.length;r++)this.cosArr[r]=new i(this.cosArr[r]).div(a)},e.sin=function(e){return(e%=360)<0&&(e+=360),this.sinArr[e]},e.cos=function(e){return(e%=360)<0&&(e+=360),this.cosArr[e]},e.atan2=function(e,r){if(0===r)return e>0?90:-90;var n=new i(e).div(new i(r)).mul(a).floor();n<0&&(n=-n);for(var t=0,o=this.tanArr;n>o[t];)t++;return e>=0?r<=0&&(t=180-t):r<=0?t+=180:t=360-t,t},e.randIntNum=function(e){return 0===e&&(e=1),this.random().mul(new i(e)).floor()},e.randArrElement=function(e){return e[this.randIntNum(e.length)]},e.randBetween=function(e,r){return e+this.randIntNum(r-e+1)},e}());f.randomSeed=5,f.randomSeedDecimal=new i(233280),f.sinArr=[0,17,35,52,70,87,105,122,139,156,174,191,208,225,242,259,276,292,309,326,342,358,375,391,407,423,438,454,469,485,500,515,530,545,559,574,588,602,616,629,643,656,669,682,695,707,719,731,743,755,766,777,788,799,809,819,829,839,848,857,866,875,883,891,899,906,914,921,927,934,940,946,951,956,961,966,970,974,978,982,985,988,990,993,995,996,998,999,999,1e3,1e3,1e3,999,999,998,996,995,993,990,988,985,982,978,974,970,966,961,956,951,946,940,934,927,921,914,906,899,891,883,875,866,857,848,839,829,819,809,799,788,777,766,755,743,731,719,707,695,682,669,656,643,629,616,602,588,574,559,545,530,515,500,485,469,454,438,423,407,391,375,358,342,326,309,292,276,259,242,225,208,191,174,156,139,122,105,87,70,52,35,17,0,-17,-35,-52,-70,-87,-105,-122,-139,-156,-174,-191,-208,-225,-242,-259,-276,-292,-309,-326,-342,-358,-375,-391,-407,-423,-438,-454,-469,-485,-500,-515,-530,-545,-559,-574,-588,-602,-616,-629,-643,-656,-669,-682,-695,-707,-719,-731,-743,-755,-766,-777,-788,-799,-809,-819,-829,-839,-848,-857,-866,-875,-883,-891,-899,-906,-914,-921,-927,-934,-940,-946,-951,-956,-961,-966,-970,-974,-978,-982,-985,-988,-990,-993,-995,-996,-998,-999,-999,-1e3,-1e3,-1e3,-999,-999,-998,-996,-995,-993,-990,-988,-985,-982,-978,-974,-970,-966,-961,-956,-951,-946,-940,-934,-927,-921,-914,-906,-899,-891,-883,-875,-866,-857,-848,-839,-829,-819,-809,-799,-788,-777,-766,-755,-743,-731,-719,-707,-695,-682,-669,-656,-643,-629,-616,-602,-588,-574,-559,-545,-530,-515,-500,-485,-469,-454,-438,-423,-407,-391,-375,-358,-342,-326,-309,-292,-276,-259,-242,-225,-208,-191,-174,-156,-139,-122,-105,-87,-70,-52,-35,-17],f.cosArr=[1e3,1e3,999,999,998,996,995,993,990,988,985,982,978,974,970,966,961,956,951,946,940,934,927,921,914,906,899,891,883,875,866,857,848,839,829,819,809,799,788,777,766,755,743,731,719,707,695,682,669,656,643,629,616,602,588,574,559,545,530,515,500,485,469,454,438,423,407,391,375,358,342,326,309,292,276,259,242,225,208,191,174,156,139,122,105,87,70,52,35,17,0,-17,-35,-52,-70,-87,-105,-122,-139,-156,-174,-191,-208,-225,-242,-259,-276,-292,-309,-326,-342,-358,-375,-391,-407,-423,-438,-454,-469,-485,-500,-515,-530,-545,-559,-574,-588,-602,-616,-629,-643,-656,-669,-682,-695,-707,-719,-731,-743,-755,-766,-777,-788,-799,-809,-819,-829,-839,-848,-857,-866,-875,-883,-891,-899,-906,-914,-921,-927,-934,-940,-946,-951,-956,-961,-966,-970,-974,-978,-982,-985,-988,-990,-993,-995,-996,-998,-999,-999,-1e3,-1e3,-1e3,-999,-999,-998,-996,-995,-993,-990,-988,-985,-982,-978,-974,-970,-966,-961,-956,-951,-946,-940,-934,-927,-921,-914,-906,-899,-891,-883,-875,-866,-857,-848,-839,-829,-819,-809,-799,-788,-777,-766,-755,-743,-731,-719,-707,-695,-682,-669,-656,-643,-629,-616,-602,-588,-574,-559,-545,-530,-515,-500,-485,-469,-454,-438,-423,-407,-391,-375,-358,-342,-326,-309,-292,-276,-259,-242,-225,-208,-191,-174,-156,-139,-122,-105,-87,-70,-52,-35,-17,0,17,35,52,70,87,105,122,139,156,174,191,208,225,242,259,276,292,309,326,342,358,375,391,407,423,438,454,469,485,500,515,530,545,559,574,588,602,616,629,643,656,669,682,695,707,719,731,743,755,766,777,788,799,809,819,829,839,848,857,866,875,883,891,899,906,914,921,927,934,940,946,951,956,961,966,970,974,978,982,985,988,990,993,995,996,998,999,999,1e3],f.tanArr=[0,17,35,52,70,87,105,123,141,158,176,194,213,231,249,268,287,306,325,344,364,384,404,424,445,466,488,510,532,554,577,601,625,649,675,700,727,754,781,810,839,869,900,933,966,1e3,1036,1072,1111,1150,1192,1235,1280,1327,1376,1428,1483,1540,1600,1664,1732,1804,1881,1963,2050,2145,2246,2356,2475,2605,2747,2904,3078,3271,3487,3732,4011,4331,4705,5145,5671,6314,7115,8144,9514,11430,14301,19081,28636,57290,1/0],f.initSinCos(),r._RF.pop()}}}));

System.register("chunks:///_virtual/Vector2.ts",["cc","./eMath.ts","./Utils.ts"],(function(t){"use strict";var o,e,h;return{setters:[function(t){o=t.cclegacy},function(t){e=t.eMath},function(t){h=t.default}],execute:function(){o._RF.push({},"cad9f2sI9hA3pKY83KYlx1z","Vector2",void 0);t("Vector2",function(){function t(t,o){this.x=t||0,this.y=o||0,this.x=Math.floor(1e4*this.x)/1e4,this.y=Math.floor(1e4*this.y)/1e4}var o=t.prototype;return o.set=function(t,o){this.x=t||0,this.y=o||0,this.x=Math.floor(1e4*this.x)/1e4,this.y=Math.floor(1e4*this.y)/1e4},o.add=function(o){return new t((Math.floor(1e3*this.x)+Math.floor(1e3*o.x))/1e3,(Math.floor(1e3*this.y)+Math.floor(1e3*o.y))/1e3)},o.addSelf=function(t){return this.x=(Math.floor(1e3*this.x)+Math.floor(1e3*t.x))/1e3,this.y=(Math.floor(1e3*this.y)+Math.floor(1e3*t.y))/1e3,this},o.subtract=function(o){return new t((Math.floor(1e3*this.x)-Math.floor(1e3*o.x))/1e3,(Math.floor(1e3*this.y)-Math.floor(1e3*o.y))/1e3)},o.subtractSelf=function(t){return this.x=(Math.floor(1e3*this.x)-Math.floor(1e3*t.x))/1e3,this.y=(Math.floor(1e3*this.y)-Math.floor(1e3*t.y))/1e3,this},o.dot=function(t){return(Math.floor(1e3*this.x)*Math.floor(1e3*t.x)+Math.floor(1e3*this.y)*Math.floor(1e3*t.y))/1e6},o.clone=function(){return new t(this.x,this.y)},o.clampf=function(t,o){return this.x=h.clamp(this.x,t.x,o.x),this.y=h.clamp(this.y,t.y,o.y),this},o.negative=function(){return this.x=-Math.floor(1e4*this.x)/1e4,this.y=-Math.floor(1e4*this.y)/1e4,this},o.normalizeSelf=function(){var t=this.x,o=this.y,h=e.add(e.mul(t,t),e.mul(o,o));return h>0&&(h=e.div(1,e.sqrt(h)),this.x=e.mul(this.x,h),this.y=e.mul(this.y,h)),this},o.multiplyScalarSelf=function(t){return"object"==typeof t&&console.warn("should use Vec2.multiply for vector * vector operation"),this.x=Math.floor(1e3*this.x)*Math.floor(1e3*t)/1e6,this.y=Math.floor(1e3*this.y)*Math.floor(1e3*t)/1e6,this},o.length=function(){return e.sqrt(e.add(e.mul(this.x,this.x),e.mul(this.y,this.y)))},o.lengthSqr=function(){return(Math.floor(1e3*this.x)*Math.floor(1e3*this.x)+Math.floor(1e3*this.y)*Math.floor(1e3*this.y))/1e6},o.angle=function(t){var o=this.lengthSqr(),r=t.lengthSqr();if(0===Math.floor(1e3*o)||0===Math.floor(1e3*r))return 0;var i=this.dot(t),s=e.div(i,e.sqrt(e.mul(o,r)));return s=h.clamp(s,-1,1),e.acos(s)},o.signAngle=function(t){var o=this.angle(t);return Math.floor(1e3*this.cross(t))<0?-Math.floor(1e3*o)/1e3:o},o.cross=function(t){return(Math.floor(1e3*this.x)*Math.floor(1e3*t.y)-Math.floor(1e3*this.y)*Math.floor(1e3*t.x))/1e6},o.rotate=function(t){t=Math.round(t);var o=this.x,h=this.y,r=e.sin(t),i=e.cos(t);return this.x=(Math.floor(1e3*i)*Math.floor(1e3*o)-Math.floor(1e3*r)*Math.floor(1e3*h))/1e6,this.y=(Math.floor(1e3*r)*Math.floor(1e3*o)+Math.floor(1e3*i)*Math.floor(1e3*h))/1e6,this},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/WallExplode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMapUI.ts"],(function(e){"use strict";var r,t,i,l,a,o,n,p,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,n=e.SpriteFrame,p=e.ParticleSystem2D,c=e.Component},function(e){u=e.GridType}],execute:function(){var s,d,f,m,y,b,x,F,h,E,S;a._RF.push({},"37df7ifl7tAObsaI0f9zD3L","WallExplode",void 0);var w=o.ccclass,W=o.property;e("WallExplode",(s=w("WallExplode"),d=W(n),f=W(n),m=W(n),y=W(p),s((F=r((x=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"woodExplodeSpriteFrame",F,l(r)),i(r,"rockExplodeSpriteFrame",h,l(r)),i(r,"playerBaseRockWallExplodeSpriteFrame",E,l(r)),i(r,"particle",S,l(r)),r}t(r,e);var a=r.prototype;return a.setSprite=function(e){switch(e){case u.WoodWall:this.particle.spriteFrame=this.woodExplodeSpriteFrame;break;case u.IronWall:this.particle.spriteFrame=this.rockExplodeSpriteFrame}},a.start=function(){},r}(c)).prototype,"woodExplodeSpriteFrame",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(x.prototype,"rockExplodeSpriteFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(x.prototype,"playerBaseRockWallExplodeSpriteFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(x.prototype,"particle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=x))||b));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});